(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function _v(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const mt={},Xs=[],Tr=()=>{},FR=()=>!1,VR=/^on[^a-z]/,ch=e=>VR.test(e),wv=e=>e.startsWith("onUpdate:"),Vt=Object.assign,bv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},UR=Object.prototype.hasOwnProperty,Je=(e,t)=>UR.call(e,t),Ae=Array.isArray,Ys=e=>gc(e)==="[object Map]",$T=e=>gc(e)==="[object Set]",Yb=e=>gc(e)==="[object Date]",Ue=e=>typeof e=="function",Ot=e=>typeof e=="string",$u=e=>typeof e=="symbol",ut=e=>e!==null&&typeof e=="object",HT=e=>ut(e)&&Ue(e.then)&&Ue(e.catch),KT=Object.prototype.toString,gc=e=>KT.call(e),jR=e=>gc(e).slice(8,-1),GT=e=>gc(e)==="[object Object]",Iv=e=>Ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ff=_v(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),lh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},BR=/-(\w)/g,Wr=lh(e=>e.replace(BR,(t,n)=>n?n.toUpperCase():"")),qR=/\B([A-Z])/g,Ta=lh(e=>e.replace(qR,"-$1").toLowerCase()),fh=lh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vm=lh(e=>e?`on${fh(e)}`:""),Hu=(e,t)=>!Object.is(e,t),hf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ef=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},$R=e=>{const t=parseFloat(e);return isNaN(t)?e:t},HR=e=>{const t=Ot(e)?Number(e):NaN;return isNaN(t)?e:t};let Qb;const gg=()=>Qb||(Qb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function li(e){if(Ae(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Ot(r)?WR(r):li(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Ot(e))return e;if(ut(e))return e}}const KR=/;(?![^(]*\))/g,GR=/:([^]+)/,zR=/\/\*[^]*?\*\//g;function WR(e){const t={};return e.replace(zR,"").split(KR).forEach(n=>{if(n){const r=n.split(GR);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Xt(e){let t="";if(Ot(e))t=e;else if(Ae(e))for(let n=0;n<e.length;n++){const r=Xt(e[n]);r&&(t+=r+" ")}else if(ut(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const XR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",YR=_v(XR);function zT(e){return!!e||e===""}function QR(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Tf(e[r],t[r]);return n}function Tf(e,t){if(e===t)return!0;let n=Yb(e),r=Yb(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=$u(e),r=$u(t),n||r)return e===t;if(n=Ae(e),r=Ae(t),n||r)return n&&r?QR(e,t):!1;if(n=ut(e),r=ut(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const l=e.hasOwnProperty(u),f=t.hasOwnProperty(u);if(l&&!f||!l&&f||!Tf(e[u],t[u]))return!1}}return String(e)===String(t)}const Mt=e=>Ot(e)?e:e==null?"":Ae(e)||ut(e)&&(e.toString===KT||!Ue(e.toString))?JSON.stringify(e,WT,2):String(e),WT=(e,t)=>t&&t.__v_isRef?WT(e,t.value):Ys(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:$T(t)?{[`Set(${t.size})`]:[...t.values()]}:ut(t)&&!Ae(t)&&!GT(t)?String(t):t;let Gn;class XT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Gn,!t&&Gn&&(this.index=(Gn.scopes||(Gn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Gn;try{return Gn=this,t()}finally{Gn=n}}}on(){Gn=this}off(){Gn=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function YT(e){return new XT(e)}function JR(e,t=Gn){t&&t.active&&t.effects.push(e)}function QT(){return Gn}function ZR(e){Gn&&Gn.cleanups.push(e)}const Ev=e=>{const t=new Set(e);return t.w=0,t.n=0,t},JT=e=>(e.w&Wi)>0,ZT=e=>(e.n&Wi)>0,eP=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Wi},tP=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];JT(o)&&!ZT(o)?o.delete(e):t[n++]=o,o.w&=~Wi,o.n&=~Wi}t.length=n}},Sf=new WeakMap;let ku=0,Wi=1;const vg=30;let br;const Go=Symbol(""),yg=Symbol("");class Tv{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,JR(this,r)}run(){if(!this.active)return this.fn();let t=br,n=qi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=br,br=this,qi=!0,Wi=1<<++ku,ku<=vg?eP(this):Jb(this),this.fn()}finally{ku<=vg&&tP(this),Wi=1<<--ku,br=this.parent,qi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){br===this?this.deferStop=!0:this.active&&(Jb(this),this.onStop&&this.onStop(),this.active=!1)}}function Jb(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let qi=!0;const eS=[];function Sa(){eS.push(qi),qi=!1}function Aa(){const e=eS.pop();qi=e===void 0?!0:e}function Fn(e,t,n){if(qi&&br){let r=Sf.get(e);r||Sf.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Ev()),tS(o)}}function tS(e,t){let n=!1;ku<=vg?ZT(e)||(e.n|=Wi,n=!JT(e)):n=!e.has(br),n&&(e.add(br),br.deps.push(e))}function fi(e,t,n,r,o,s){const u=Sf.get(e);if(!u)return;let l=[];if(t==="clear")l=[...u.values()];else if(n==="length"&&Ae(e)){const f=Number(r);u.forEach((p,g)=>{(g==="length"||g>=f)&&l.push(p)})}else switch(n!==void 0&&l.push(u.get(n)),t){case"add":Ae(e)?Iv(n)&&l.push(u.get("length")):(l.push(u.get(Go)),Ys(e)&&l.push(u.get(yg)));break;case"delete":Ae(e)||(l.push(u.get(Go)),Ys(e)&&l.push(u.get(yg)));break;case"set":Ys(e)&&l.push(u.get(Go));break}if(l.length===1)l[0]&&_g(l[0]);else{const f=[];for(const p of l)p&&f.push(...p);_g(Ev(f))}}function _g(e,t){const n=Ae(e)?e:[...e];for(const r of n)r.computed&&Zb(r);for(const r of n)r.computed||Zb(r)}function Zb(e,t){(e!==br||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function nP(e,t){var n;return(n=Sf.get(e))==null?void 0:n.get(t)}const rP=_v("__proto__,__v_isRef,__isVue"),nS=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($u)),iP=Sv(),oP=Sv(!1,!0),sP=Sv(!0),eI=aP();function aP(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Qe(this);for(let s=0,u=this.length;s<u;s++)Fn(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(Qe)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Sa();const r=Qe(this)[t].apply(this,n);return Aa(),r}}),e}function uP(e){const t=Qe(this);return Fn(t,"has",e),t.hasOwnProperty(e)}function Sv(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?TP:aS:t?sS:oS).get(r))return r;const u=Ae(r);if(!e){if(u&&Je(eI,o))return Reflect.get(eI,o,s);if(o==="hasOwnProperty")return uP}const l=Reflect.get(r,o,s);return($u(o)?nS.has(o):rP(o))||(e||Fn(r,"get",o),t)?l:lt(l)?u&&Iv(o)?l:l.value:ut(l)?e?xv(l):hi(l):l}}const cP=rS(),lP=rS(!0);function rS(e=!1){return function(n,r,o,s){let u=n[r];if(ta(u)&&lt(u)&&!lt(o))return!1;if(!e&&(!Af(o)&&!ta(o)&&(u=Qe(u),o=Qe(o)),!Ae(n)&&lt(u)&&!lt(o)))return u.value=o,!0;const l=Ae(n)&&Iv(r)?Number(r)<n.length:Je(n,r),f=Reflect.set(n,r,o,s);return n===Qe(s)&&(l?Hu(o,u)&&fi(n,"set",r,o):fi(n,"add",r,o)),f}}function fP(e,t){const n=Je(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&fi(e,"delete",t,void 0),r}function hP(e,t){const n=Reflect.has(e,t);return(!$u(t)||!nS.has(t))&&Fn(e,"has",t),n}function dP(e){return Fn(e,"iterate",Ae(e)?"length":Go),Reflect.ownKeys(e)}const iS={get:iP,set:cP,deleteProperty:fP,has:hP,ownKeys:dP},pP={get:sP,set(e,t){return!0},deleteProperty(e,t){return!0}},mP=Vt({},iS,{get:oP,set:lP}),Av=e=>e,hh=e=>Reflect.getPrototypeOf(e);function Hl(e,t,n=!1,r=!1){e=e.__v_raw;const o=Qe(e),s=Qe(t);n||(t!==s&&Fn(o,"get",t),Fn(o,"get",s));const{has:u}=hh(o),l=r?Av:n?Nv:Ku;if(u.call(o,t))return l(e.get(t));if(u.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function Kl(e,t=!1){const n=this.__v_raw,r=Qe(n),o=Qe(e);return t||(e!==o&&Fn(r,"has",e),Fn(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Gl(e,t=!1){return e=e.__v_raw,!t&&Fn(Qe(e),"iterate",Go),Reflect.get(e,"size",e)}function tI(e){e=Qe(e);const t=Qe(this);return hh(t).has.call(t,e)||(t.add(e),fi(t,"add",e,e)),this}function nI(e,t){t=Qe(t);const n=Qe(this),{has:r,get:o}=hh(n);let s=r.call(n,e);s||(e=Qe(e),s=r.call(n,e));const u=o.call(n,e);return n.set(e,t),s?Hu(t,u)&&fi(n,"set",e,t):fi(n,"add",e,t),this}function rI(e){const t=Qe(this),{has:n,get:r}=hh(t);let o=n.call(t,e);o||(e=Qe(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&fi(t,"delete",e,void 0),s}function iI(){const e=Qe(this),t=e.size!==0,n=e.clear();return t&&fi(e,"clear",void 0,void 0),n}function zl(e,t){return function(r,o){const s=this,u=s.__v_raw,l=Qe(u),f=t?Av:e?Nv:Ku;return!e&&Fn(l,"iterate",Go),u.forEach((p,g)=>r.call(o,f(p),f(g),s))}}function Wl(e,t,n){return function(...r){const o=this.__v_raw,s=Qe(o),u=Ys(s),l=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,p=o[e](...r),g=n?Av:t?Nv:Ku;return!t&&Fn(s,"iterate",f?yg:Go),{next(){const{value:h,done:m}=p.next();return m?{value:h,done:m}:{value:l?[g(h[0]),g(h[1])]:g(h),done:m}},[Symbol.iterator](){return this}}}}function Si(e){return function(...t){return e==="delete"?!1:this}}function gP(){const e={get(s){return Hl(this,s)},get size(){return Gl(this)},has:Kl,add:tI,set:nI,delete:rI,clear:iI,forEach:zl(!1,!1)},t={get(s){return Hl(this,s,!1,!0)},get size(){return Gl(this)},has:Kl,add:tI,set:nI,delete:rI,clear:iI,forEach:zl(!1,!0)},n={get(s){return Hl(this,s,!0)},get size(){return Gl(this,!0)},has(s){return Kl.call(this,s,!0)},add:Si("add"),set:Si("set"),delete:Si("delete"),clear:Si("clear"),forEach:zl(!0,!1)},r={get(s){return Hl(this,s,!0,!0)},get size(){return Gl(this,!0)},has(s){return Kl.call(this,s,!0)},add:Si("add"),set:Si("set"),delete:Si("delete"),clear:Si("clear"),forEach:zl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Wl(s,!1,!1),n[s]=Wl(s,!0,!1),t[s]=Wl(s,!1,!0),r[s]=Wl(s,!0,!0)}),[e,n,t,r]}const[vP,yP,_P,wP]=gP();function kv(e,t){const n=t?e?wP:_P:e?yP:vP;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Je(n,o)&&o in r?n:r,o,s)}const bP={get:kv(!1,!1)},IP={get:kv(!1,!0)},EP={get:kv(!0,!1)},oS=new WeakMap,sS=new WeakMap,aS=new WeakMap,TP=new WeakMap;function SP(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function AP(e){return e.__v_skip||!Object.isExtensible(e)?0:SP(jR(e))}function hi(e){return ta(e)?e:Cv(e,!1,iS,bP,oS)}function uS(e){return Cv(e,!1,mP,IP,sS)}function xv(e){return Cv(e,!0,pP,EP,aS)}function Cv(e,t,n,r,o){if(!ut(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const u=AP(e);if(u===0)return e;const l=new Proxy(e,u===2?r:n);return o.set(e,l),l}function $i(e){return ta(e)?$i(e.__v_raw):!!(e&&e.__v_isReactive)}function ta(e){return!!(e&&e.__v_isReadonly)}function Af(e){return!!(e&&e.__v_isShallow)}function cS(e){return $i(e)||ta(e)}function Qe(e){const t=e&&e.__v_raw;return t?Qe(t):e}function dh(e){return Ef(e,"__v_skip",!0),e}const Ku=e=>ut(e)?hi(e):e,Nv=e=>ut(e)?xv(e):e;function lS(e){qi&&br&&(e=Qe(e),tS(e.dep||(e.dep=Ev())))}function fS(e,t){e=Qe(e);const n=e.dep;n&&_g(n)}function lt(e){return!!(e&&e.__v_isRef===!0)}function bn(e){return dS(e,!1)}function hS(e){return dS(e,!0)}function dS(e,t){return lt(e)?e:new kP(e,t)}class kP{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Qe(t),this._value=n?t:Ku(t)}get value(){return lS(this),this._value}set value(t){const n=this.__v_isShallow||Af(t)||ta(t);t=n?t:Qe(t),Hu(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ku(t),fS(this))}}function Re(e){return lt(e)?e.value:e}function wr(e){return Ue(e)?e():Re(e)}const xP={get:(e,t,n)=>Re(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return lt(o)&&!lt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function pS(e){return $i(e)?e:new Proxy(e,xP)}function CP(e){const t=Ae(e)?new Array(e.length):{};for(const n in e)t[n]=mS(e,n);return t}class NP{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return nP(Qe(this._object),this._key)}}class OP{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Mi(e,t,n){return lt(e)?e:Ue(e)?new OP(e):ut(e)&&arguments.length>1?mS(e,t,n):bn(e)}function mS(e,t,n){const r=e[t];return lt(r)?r:new NP(e,t,n)}class RP{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Tv(t,()=>{this._dirty||(this._dirty=!0,fS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=Qe(this);return lS(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function PP(e,t,n=!1){let r,o;const s=Ue(e);return s?(r=e,o=Tr):(r=e.get,o=e.set),new RP(r,o,s||!o,n)}function Hi(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){ph(s,t,n)}return o}function cr(e,t,n,r){if(Ue(e)){const s=Hi(e,t,n,r);return s&&HT(s)&&s.catch(u=>{ph(u,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(cr(e[s],t,n,r));return o}function ph(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,l=n;for(;s;){const p=s.ec;if(p){for(let g=0;g<p.length;g++)if(p[g](e,u,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Hi(f,null,10,[e,u,l]);return}}DP(e,n,o,r)}function DP(e,t,n,r=!0){console.error(e)}let Gu=!1,wg=!1;const ln=[];let $r=0;const Qs=[];let ri=null,Fo=0;const gS=Promise.resolve();let Ov=null;function ii(e){const t=Ov||gS;return e?t.then(this?e.bind(this):e):t}function LP(e){let t=$r+1,n=ln.length;for(;t<n;){const r=t+n>>>1;zu(ln[r])<e?t=r+1:n=r}return t}function Rv(e){(!ln.length||!ln.includes(e,Gu&&e.allowRecurse?$r+1:$r))&&(e.id==null?ln.push(e):ln.splice(LP(e.id),0,e),vS())}function vS(){!Gu&&!wg&&(wg=!0,Ov=gS.then(_S))}function MP(e){const t=ln.indexOf(e);t>$r&&ln.splice(t,1)}function FP(e){Ae(e)?Qs.push(...e):(!ri||!ri.includes(e,e.allowRecurse?Fo+1:Fo))&&Qs.push(e),vS()}function oI(e,t=Gu?$r+1:0){for(;t<ln.length;t++){const n=ln[t];n&&n.pre&&(ln.splice(t,1),t--,n())}}function yS(e){if(Qs.length){const t=[...new Set(Qs)];if(Qs.length=0,ri){ri.push(...t);return}for(ri=t,ri.sort((n,r)=>zu(n)-zu(r)),Fo=0;Fo<ri.length;Fo++)ri[Fo]();ri=null,Fo=0}}const zu=e=>e.id==null?1/0:e.id,VP=(e,t)=>{const n=zu(e)-zu(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function _S(e){wg=!1,Gu=!0,ln.sort(VP);const t=Tr;try{for($r=0;$r<ln.length;$r++){const n=ln[$r];n&&n.active!==!1&&Hi(n,null,14)}}finally{$r=0,ln.length=0,yS(),Gu=!1,Ov=null,(ln.length||Qs.length)&&_S()}}function UP(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||mt;let o=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in r){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:h,trim:m}=r[g]||mt;m&&(o=n.map(y=>Ot(y)?y.trim():y)),h&&(o=n.map($R))}let l,f=r[l=Vm(t)]||r[l=Vm(Wr(t))];!f&&s&&(f=r[l=Vm(Ta(t))]),f&&cr(f,e,6,o);const p=r[l+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,cr(p,e,6,o)}}function wS(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let u={},l=!1;if(!Ue(e)){const f=p=>{const g=wS(p,t,!0);g&&(l=!0,Vt(u,g))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(ut(e)&&r.set(e,null),null):(Ae(s)?s.forEach(f=>u[f]=null):Vt(u,s),ut(e)&&r.set(e,u),u)}function mh(e,t){return!e||!ch(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(e,t[0].toLowerCase()+t.slice(1))||Je(e,Ta(t))||Je(e,t))}let Pn=null,bS=null;function kf(e){const t=Pn;return Pn=e,bS=e&&e.type.__scopeId||null,t}function Ln(e,t=Pn,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&vI(-1);const s=kf(t);let u;try{u=e(...o)}finally{kf(s),r._d&&vI(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function Um(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[u],slots:l,attrs:f,emit:p,render:g,renderCache:h,data:m,setupState:y,ctx:_,inheritAttrs:I}=e;let E,T;const C=kf(e);try{if(n.shapeFlag&4){const L=o||r;E=Br(g.call(L,L,h,s,y,m,_)),T=f}else{const L=t;E=Br(L.length>1?L(s,{attrs:f,slots:l,emit:p}):L(s,null)),T=t.props?f:jP(f)}}catch(L){Pu.length=0,ph(L,e,1),E=Ce(Sr)}let P=E;if(T&&I!==!1){const L=Object.keys(T),{shapeFlag:X}=P;L.length&&X&7&&(u&&L.some(wv)&&(T=BP(T,u)),P=Yi(P,T))}return n.dirs&&(P=Yi(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),E=P,kf(C),E}const jP=e=>{let t;for(const n in e)(n==="class"||n==="style"||ch(n))&&((t||(t={}))[n]=e[n]);return t},BP=(e,t)=>{const n={};for(const r in e)(!wv(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function qP(e,t,n){const{props:r,children:o,component:s}=e,{props:u,children:l,patchFlag:f}=t,p=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?sI(r,u,p):!!u;if(f&8){const g=t.dynamicProps;for(let h=0;h<g.length;h++){const m=g[h];if(u[m]!==r[m]&&!mh(p,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===u?!1:r?u?sI(r,u,p):!0:!!u;return!1}function sI(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!mh(n,s))return!0}return!1}function $P({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const HP=e=>e.__isSuspense;function KP(e,t){t&&t.pendingBranch?Ae(e)?t.effects.push(...e):t.effects.push(e):FP(e)}function GP(e,t){return Pv(e,null,t)}const Xl={};function Jn(e,t,n){return Pv(e,t,n)}function Pv(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:u}=mt){var l;const f=QT()===((l=Ht)==null?void 0:l.scope)?Ht:null;let p,g=!1,h=!1;if(lt(e)?(p=()=>e.value,g=Af(e)):$i(e)?(p=()=>e,r=!0):Ae(e)?(h=!0,g=e.some(L=>$i(L)||Af(L)),p=()=>e.map(L=>{if(lt(L))return L.value;if($i(L))return Bo(L);if(Ue(L))return Hi(L,f,2)})):Ue(e)?t?p=()=>Hi(e,f,2):p=()=>{if(!(f&&f.isUnmounted))return m&&m(),cr(e,f,3,[y])}:p=Tr,t&&r){const L=p;p=()=>Bo(L())}let m,y=L=>{m=C.onStop=()=>{Hi(L,f,4)}},_;if(Yu)if(y=Tr,t?n&&cr(t,f,3,[p(),h?[]:void 0,y]):p(),o==="sync"){const L=UD();_=L.__watcherHandles||(L.__watcherHandles=[])}else return Tr;let I=h?new Array(e.length).fill(Xl):Xl;const E=()=>{if(C.active)if(t){const L=C.run();(r||g||(h?L.some((X,U)=>Hu(X,I[U])):Hu(L,I)))&&(m&&m(),cr(t,f,3,[L,I===Xl?void 0:h&&I[0]===Xl?[]:I,y]),I=L)}else C.run()};E.allowRecurse=!!t;let T;o==="sync"?T=E:o==="post"?T=()=>On(E,f&&f.suspense):(E.pre=!0,f&&(E.id=f.uid),T=()=>Rv(E));const C=new Tv(p,T);t?n?E():I=C.run():o==="post"?On(C.run.bind(C),f&&f.suspense):C.run();const P=()=>{C.stop(),f&&f.scope&&bv(f.scope.effects,C)};return _&&_.push(P),P}function zP(e,t,n){const r=this.proxy,o=Ot(e)?e.includes(".")?IS(r,e):()=>r[e]:e.bind(r,r);let s;Ue(t)?s=t:(s=t.handler,n=t);const u=Ht;na(this);const l=Pv(o,s.bind(r),n);return u?na(u):zo(),l}function IS(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Bo(e,t){if(!ut(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),lt(e))Bo(e.value,t);else if(Ae(e))for(let n=0;n<e.length;n++)Bo(e[n],t);else if($T(e)||Ys(e))e.forEach(n=>{Bo(n,t)});else if(GT(e))for(const n in e)Bo(e[n],t);return e}function Ki(e,t){const n=Pn;if(n===null)return e;const r=Ih(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,l,f,p=mt]=t[s];u&&(Ue(u)&&(u={mounted:u,updated:u}),u.deep&&Bo(l),o.push({dir:u,instance:r,value:l,oldValue:void 0,arg:f,modifiers:p}))}return e}function Co(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const l=o[u];s&&(l.oldValue=s[u].value);let f=l.dir[r];f&&(Sa(),cr(f,n,8,[e.el,l,e,t]),Aa())}}function WP(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yh(()=>{e.isMounted=!0}),Dv(()=>{e.isUnmounting=!0}),e}const sr=[Function,Array],ES={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:sr,onEnter:sr,onAfterEnter:sr,onEnterCancelled:sr,onBeforeLeave:sr,onLeave:sr,onAfterLeave:sr,onLeaveCancelled:sr,onBeforeAppear:sr,onAppear:sr,onAfterAppear:sr,onAppearCancelled:sr},XP={name:"BaseTransition",props:ES,setup(e,{slots:t}){const n=_c(),r=WP();let o;return()=>{const s=t.default&&SS(t.default(),!0);if(!s||!s.length)return;let u=s[0];if(s.length>1){for(const I of s)if(I.type!==Sr){u=I;break}}const l=Qe(e),{mode:f}=l;if(r.isLeaving)return jm(u);const p=aI(u);if(!p)return jm(u);const g=bg(p,l,r,n);Ig(p,g);const h=n.subTree,m=h&&aI(h);let y=!1;const{getTransitionKey:_}=p.type;if(_){const I=_();o===void 0?o=I:I!==o&&(o=I,y=!0)}if(m&&m.type!==Sr&&(!Vo(p,m)||y)){const I=bg(m,l,r,n);if(Ig(m,I),f==="out-in")return r.isLeaving=!0,I.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},jm(u);f==="in-out"&&p.type!==Sr&&(I.delayLeave=(E,T,C)=>{const P=TS(r,m);P[String(m.key)]=m,E._leaveCb=()=>{T(),E._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=C})}return u}}},YP=XP;function TS(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function bg(e,t,n,r){const{appear:o,mode:s,persisted:u=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:p,onEnterCancelled:g,onBeforeLeave:h,onLeave:m,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:I,onAppear:E,onAfterAppear:T,onAppearCancelled:C}=t,P=String(e.key),L=TS(n,e),X=(V,H)=>{V&&cr(V,r,9,H)},U=(V,H)=>{const k=H[1];X(V,H),Ae(V)?V.every(Ne=>Ne.length<=1)&&k():V.length<=1&&k()},ue={mode:s,persisted:u,beforeEnter(V){let H=l;if(!n.isMounted)if(o)H=I||l;else return;V._leaveCb&&V._leaveCb(!0);const k=L[P];k&&Vo(e,k)&&k.el._leaveCb&&k.el._leaveCb(),X(H,[V])},enter(V){let H=f,k=p,Ne=g;if(!n.isMounted)if(o)H=E||f,k=T||p,Ne=C||g;else return;let oe=!1;const ke=V._enterCb=Fe=>{oe||(oe=!0,Fe?X(Ne,[V]):X(k,[V]),ue.delayedLeave&&ue.delayedLeave(),V._enterCb=void 0)};H?U(H,[V,ke]):ke()},leave(V,H){const k=String(e.key);if(V._enterCb&&V._enterCb(!0),n.isUnmounting)return H();X(h,[V]);let Ne=!1;const oe=V._leaveCb=ke=>{Ne||(Ne=!0,H(),ke?X(_,[V]):X(y,[V]),V._leaveCb=void 0,L[k]===e&&delete L[k])};L[k]=e,m?U(m,[V,oe]):oe()},clone(V){return bg(V,t,n,r)}};return ue}function jm(e){if(gh(e))return e=Yi(e),e.children=null,e}function aI(e){return gh(e)?e.children?e.children[0]:void 0:e}function Ig(e,t){e.shapeFlag&6&&e.component?Ig(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function SS(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let u=e[s];const l=n==null?u.key:String(n)+String(u.key!=null?u.key:s);u.type===en?(u.patchFlag&128&&o++,r=r.concat(SS(u.children,t,l))):(t||u.type!==Sr)&&r.push(l!=null?Yi(u,{key:l}):u)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function vc(e,t){return Ue(e)?(()=>Vt({name:e.name},t,{setup:e}))():e}const df=e=>!!e.type.__asyncLoader,gh=e=>e.type.__isKeepAlive;function QP(e,t){AS(e,"a",t)}function JP(e,t){AS(e,"da",t)}function AS(e,t,n=Ht){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(vh(t,r,n),n){let o=n.parent;for(;o&&o.parent;)gh(o.parent.vnode)&&ZP(r,t,n,o),o=o.parent}}function ZP(e,t,n,r){const o=vh(t,e,r,!0);kS(()=>{bv(r[t],o)},n)}function vh(e,t,n=Ht,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;Sa(),na(n);const l=cr(t,n,e,u);return zo(),Aa(),l});return r?o.unshift(s):o.push(s),s}}const pi=e=>(t,n=Ht)=>(!Yu||e==="sp")&&vh(e,(...r)=>t(...r),n),eD=pi("bm"),yh=pi("m"),tD=pi("bu"),nD=pi("u"),Dv=pi("bum"),kS=pi("um"),rD=pi("sp"),iD=pi("rtg"),oD=pi("rtc");function sD(e,t=Ht){vh("ec",e,t)}const Lv="components",aD="directives";function It(e,t){return Fv(Lv,e,!0,t)||e}const xS=Symbol.for("v-ndc");function _h(e){return Ot(e)?Fv(Lv,e,!1)||e:e||xS}function Mv(e){return Fv(aD,e)}function Fv(e,t,n=!0,r=!1){const o=Pn||Ht;if(o){const s=o.type;if(e===Lv){const l=MD(s,!1);if(l&&(l===t||l===Wr(t)||l===fh(Wr(t))))return s}const u=uI(o[e]||s[e],t)||uI(o.appContext[e],t);return!u&&r?s:u}}function uI(e,t){return e&&(e[t]||e[Wr(t)]||e[fh(Wr(t))])}function yc(e,t,n,r){let o;const s=n&&n[r];if(Ae(e)||Ot(e)){o=new Array(e.length);for(let u=0,l=e.length;u<l;u++)o[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(ut(e))if(e[Symbol.iterator])o=Array.from(e,(u,l)=>t(u,l,void 0,s&&s[l]));else{const u=Object.keys(e);o=new Array(u.length);for(let l=0,f=u.length;l<f;l++){const p=u[l];o[l]=t(e[p],p,l,s&&s[l])}}else o=[];return n&&(n[r]=o),o}const Eg=e=>e?jS(e)?Ih(e)||e.proxy:Eg(e.parent):null,Ru=Vt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Eg(e.parent),$root:e=>Eg(e.root),$emit:e=>e.emit,$options:e=>Vv(e),$forceUpdate:e=>e.f||(e.f=()=>Rv(e.update)),$nextTick:e=>e.n||(e.n=ii.bind(e.proxy)),$watch:e=>zP.bind(e)}),Bm=(e,t)=>e!==mt&&!e.__isScriptSetup&&Je(e,t),uD={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:u,type:l,appContext:f}=e;let p;if(t[0]!=="$"){const y=u[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Bm(r,t))return u[t]=1,r[t];if(o!==mt&&Je(o,t))return u[t]=2,o[t];if((p=e.propsOptions[0])&&Je(p,t))return u[t]=3,s[t];if(n!==mt&&Je(n,t))return u[t]=4,n[t];Tg&&(u[t]=0)}}const g=Ru[t];let h,m;if(g)return t==="$attrs"&&Fn(e,"get",t),g(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==mt&&Je(n,t))return u[t]=4,n[t];if(m=f.config.globalProperties,Je(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Bm(o,t)?(o[t]=n,!0):r!==mt&&Je(r,t)?(r[t]=n,!0):Je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},u){let l;return!!n[u]||e!==mt&&Je(e,u)||Bm(t,u)||(l=s[0])&&Je(l,u)||Je(r,u)||Je(Ru,u)||Je(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function cI(e){return Ae(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Tg=!0;function cD(e){const t=Vv(e),n=e.proxy,r=e.ctx;Tg=!1,t.beforeCreate&&lI(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:l,provide:f,inject:p,created:g,beforeMount:h,mounted:m,beforeUpdate:y,updated:_,activated:I,deactivated:E,beforeDestroy:T,beforeUnmount:C,destroyed:P,unmounted:L,render:X,renderTracked:U,renderTriggered:ue,errorCaptured:V,serverPrefetch:H,expose:k,inheritAttrs:Ne,components:oe,directives:ke,filters:Fe}=t;if(p&&lD(p,r,null),u)for(const Ve in u){const ye=u[Ve];Ue(ye)&&(r[Ve]=ye.bind(n))}if(o){const Ve=o.call(n,n);ut(Ve)&&(e.data=hi(Ve))}if(Tg=!0,s)for(const Ve in s){const ye=s[Ve],ht=Ue(ye)?ye.bind(n,n):Ue(ye.get)?ye.get.bind(n,n):Tr,Et=!Ue(ye)&&Ue(ye.set)?ye.set.bind(n):Tr,Bt=Be({get:ht,set:Et});Object.defineProperty(r,Ve,{enumerable:!0,configurable:!0,get:()=>Bt.value,set:Rt=>Bt.value=Rt})}if(l)for(const Ve in l)CS(l[Ve],r,n,Ve);if(f){const Ve=Ue(f)?f.call(n):f;Reflect.ownKeys(Ve).forEach(ye=>{Js(ye,Ve[ye])})}g&&lI(g,e,"c");function le(Ve,ye){Ae(ye)?ye.forEach(ht=>Ve(ht.bind(n))):ye&&Ve(ye.bind(n))}if(le(eD,h),le(yh,m),le(tD,y),le(nD,_),le(QP,I),le(JP,E),le(sD,V),le(oD,U),le(iD,ue),le(Dv,C),le(kS,L),le(rD,H),Ae(k))if(k.length){const Ve=e.exposed||(e.exposed={});k.forEach(ye=>{Object.defineProperty(Ve,ye,{get:()=>n[ye],set:ht=>n[ye]=ht})})}else e.exposed||(e.exposed={});X&&e.render===Tr&&(e.render=X),Ne!=null&&(e.inheritAttrs=Ne),oe&&(e.components=oe),ke&&(e.directives=ke)}function lD(e,t,n=Tr){Ae(e)&&(e=Sg(e));for(const r in e){const o=e[r];let s;ut(o)?"default"in o?s=lr(o.from||r,o.default,!0):s=lr(o.from||r):s=lr(o),lt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[r]=s}}function lI(e,t,n){cr(Ae(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function CS(e,t,n,r){const o=r.includes(".")?IS(n,r):()=>n[r];if(Ot(e)){const s=t[e];Ue(s)&&Jn(o,s)}else if(Ue(e))Jn(o,e.bind(n));else if(ut(e))if(Ae(e))e.forEach(s=>CS(s,t,n,r));else{const s=Ue(e.handler)?e.handler.bind(n):t[e.handler];Ue(s)&&Jn(o,s,e)}}function Vv(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(p=>xf(f,p,u,!0)),xf(f,t,u)),ut(t)&&s.set(t,f),f}function xf(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&xf(e,s,n,!0),o&&o.forEach(u=>xf(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const l=fD[u]||n&&n[u];e[u]=l?l(e[u],t[u]):t[u]}return e}const fD={data:fI,props:hI,emits:hI,methods:xu,computed:xu,beforeCreate:yn,created:yn,beforeMount:yn,mounted:yn,beforeUpdate:yn,updated:yn,beforeDestroy:yn,beforeUnmount:yn,destroyed:yn,unmounted:yn,activated:yn,deactivated:yn,errorCaptured:yn,serverPrefetch:yn,components:xu,directives:xu,watch:dD,provide:fI,inject:hD};function fI(e,t){return t?e?function(){return Vt(Ue(e)?e.call(this,this):e,Ue(t)?t.call(this,this):t)}:t:e}function hD(e,t){return xu(Sg(e),Sg(t))}function Sg(e){if(Ae(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function yn(e,t){return e?[...new Set([].concat(e,t))]:t}function xu(e,t){return e?Vt(Object.create(null),e,t):t}function hI(e,t){return e?Ae(e)&&Ae(t)?[...new Set([...e,...t])]:Vt(Object.create(null),cI(e),cI(t??{})):t}function dD(e,t){if(!e)return t;if(!t)return e;const n=Vt(Object.create(null),e);for(const r in t)n[r]=yn(e[r],t[r]);return n}function NS(){return{app:null,config:{isNativeTag:FR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pD=0;function mD(e,t){return function(r,o=null){Ue(r)||(r=Vt({},r)),o!=null&&!ut(o)&&(o=null);const s=NS(),u=new Set;let l=!1;const f=s.app={_uid:pD++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:jD,get config(){return s.config},set config(p){},use(p,...g){return u.has(p)||(p&&Ue(p.install)?(u.add(p),p.install(f,...g)):Ue(p)&&(u.add(p),p(f,...g))),f},mixin(p){return s.mixins.includes(p)||s.mixins.push(p),f},component(p,g){return g?(s.components[p]=g,f):s.components[p]},directive(p,g){return g?(s.directives[p]=g,f):s.directives[p]},mount(p,g,h){if(!l){const m=Ce(r,o);return m.appContext=s,g&&t?t(m,p):e(m,p,h),l=!0,f._container=p,p.__vue_app__=f,Ih(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(p,g){return s.provides[p]=g,f},runWithContext(p){Wu=f;try{return p()}finally{Wu=null}}};return f}}let Wu=null;function Js(e,t){if(Ht){let n=Ht.provides;const r=Ht.parent&&Ht.parent.provides;r===n&&(n=Ht.provides=Object.create(r)),n[e]=t}}function lr(e,t,n=!1){const r=Ht||Pn;if(r||Wu){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Wu._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Ue(t)?t.call(r&&r.proxy):t}}function gD(){return!!(Ht||Pn||Wu)}function vD(e,t,n,r=!1){const o={},s={};Ef(s,bh,1),e.propsDefaults=Object.create(null),OS(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=r?o:uS(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function yD(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,l=Qe(o),[f]=e.propsOptions;let p=!1;if((r||u>0)&&!(u&16)){if(u&8){const g=e.vnode.dynamicProps;for(let h=0;h<g.length;h++){let m=g[h];if(mh(e.emitsOptions,m))continue;const y=t[m];if(f)if(Je(s,m))y!==s[m]&&(s[m]=y,p=!0);else{const _=Wr(m);o[_]=Ag(f,l,_,y,e,!1)}else y!==s[m]&&(s[m]=y,p=!0)}}}else{OS(e,t,o,s)&&(p=!0);let g;for(const h in l)(!t||!Je(t,h)&&((g=Ta(h))===h||!Je(t,g)))&&(f?n&&(n[h]!==void 0||n[g]!==void 0)&&(o[h]=Ag(f,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!Je(t,h))&&(delete s[h],p=!0)}p&&fi(e,"set","$attrs")}function OS(e,t,n,r){const[o,s]=e.propsOptions;let u=!1,l;if(t)for(let f in t){if(ff(f))continue;const p=t[f];let g;o&&Je(o,g=Wr(f))?!s||!s.includes(g)?n[g]=p:(l||(l={}))[g]=p:mh(e.emitsOptions,f)||(!(f in r)||p!==r[f])&&(r[f]=p,u=!0)}if(s){const f=Qe(n),p=l||mt;for(let g=0;g<s.length;g++){const h=s[g];n[h]=Ag(o,f,h,p[h],e,!Je(p,h))}}return u}function Ag(e,t,n,r,o,s){const u=e[n];if(u!=null){const l=Je(u,"default");if(l&&r===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&Ue(f)){const{propsDefaults:p}=o;n in p?r=p[n]:(na(o),r=p[n]=f.call(null,t),zo())}else r=f}u[0]&&(s&&!l?r=!1:u[1]&&(r===""||r===Ta(n))&&(r=!0))}return r}function RS(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,u={},l=[];let f=!1;if(!Ue(e)){const g=h=>{f=!0;const[m,y]=RS(h,t,!0);Vt(u,m),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!s&&!f)return ut(e)&&r.set(e,Xs),Xs;if(Ae(s))for(let g=0;g<s.length;g++){const h=Wr(s[g]);dI(h)&&(u[h]=mt)}else if(s)for(const g in s){const h=Wr(g);if(dI(h)){const m=s[g],y=u[h]=Ae(m)||Ue(m)?{type:m}:Vt({},m);if(y){const _=gI(Boolean,y.type),I=gI(String,y.type);y[0]=_>-1,y[1]=I<0||_<I,(_>-1||Je(y,"default"))&&l.push(h)}}}const p=[u,l];return ut(e)&&r.set(e,p),p}function dI(e){return e[0]!=="$"}function pI(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function mI(e,t){return pI(e)===pI(t)}function gI(e,t){return Ae(t)?t.findIndex(n=>mI(n,e)):Ue(t)&&mI(t,e)?0:-1}const PS=e=>e[0]==="_"||e==="$stable",Uv=e=>Ae(e)?e.map(Br):[Br(e)],_D=(e,t,n)=>{if(t._n)return t;const r=Ln((...o)=>Uv(t(...o)),n);return r._c=!1,r},DS=(e,t,n)=>{const r=e._ctx;for(const o in e){if(PS(o))continue;const s=e[o];if(Ue(s))t[o]=_D(o,s,r);else if(s!=null){const u=Uv(s);t[o]=()=>u}}},LS=(e,t)=>{const n=Uv(t);e.slots.default=()=>n},wD=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Qe(t),Ef(t,"_",n)):DS(t,e.slots={})}else e.slots={},t&&LS(e,t);Ef(e.slots,bh,1)},bD=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,u=mt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(Vt(o,t),!n&&l===1&&delete o._):(s=!t.$stable,DS(t,o)),u=t}else t&&(LS(e,t),u={default:1});if(s)for(const l in o)!PS(l)&&!(l in u)&&delete o[l]};function kg(e,t,n,r,o=!1){if(Ae(e)){e.forEach((m,y)=>kg(m,t&&(Ae(t)?t[y]:t),n,r,o));return}if(df(r)&&!o)return;const s=r.shapeFlag&4?Ih(r.component)||r.component.proxy:r.el,u=o?null:s,{i:l,r:f}=e,p=t&&t.r,g=l.refs===mt?l.refs={}:l.refs,h=l.setupState;if(p!=null&&p!==f&&(Ot(p)?(g[p]=null,Je(h,p)&&(h[p]=null)):lt(p)&&(p.value=null)),Ue(f))Hi(f,l,12,[u,g]);else{const m=Ot(f),y=lt(f);if(m||y){const _=()=>{if(e.f){const I=m?Je(h,f)?h[f]:g[f]:f.value;o?Ae(I)&&bv(I,s):Ae(I)?I.includes(s)||I.push(s):m?(g[f]=[s],Je(h,f)&&(h[f]=g[f])):(f.value=[s],e.k&&(g[e.k]=f.value))}else m?(g[f]=u,Je(h,f)&&(h[f]=u)):y&&(f.value=u,e.k&&(g[e.k]=u))};u?(_.id=-1,On(_,n)):_()}}}const On=KP;function ID(e){return ED(e)}function ED(e,t){const n=gg();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:u,createText:l,createComment:f,setText:p,setElementText:g,parentNode:h,nextSibling:m,setScopeId:y=Tr,insertStaticContent:_}=e,I=(A,x,R,j=null,$=null,Q=null,se=!1,te=null,ie=!!x.dynamicChildren)=>{if(A===x)return;A&&!Vo(A,x)&&(j=F(A),Rt(A,$,Q,!0),A=null),x.patchFlag===-2&&(ie=!1,x.dynamicChildren=null);const{type:Z,ref:be,shapeFlag:pe}=x;switch(Z){case wh:E(A,x,R,j);break;case Sr:T(A,x,R,j);break;case qm:A==null&&C(x,R,j,se);break;case en:oe(A,x,R,j,$,Q,se,te,ie);break;default:pe&1?X(A,x,R,j,$,Q,se,te,ie):pe&6?ke(A,x,R,j,$,Q,se,te,ie):(pe&64||pe&128)&&Z.process(A,x,R,j,$,Q,se,te,ie,ne)}be!=null&&$&&kg(be,A&&A.ref,Q,x||A,!x)},E=(A,x,R,j)=>{if(A==null)r(x.el=l(x.children),R,j);else{const $=x.el=A.el;x.children!==A.children&&p($,x.children)}},T=(A,x,R,j)=>{A==null?r(x.el=f(x.children||""),R,j):x.el=A.el},C=(A,x,R,j)=>{[A.el,A.anchor]=_(A.children,x,R,j,A.el,A.anchor)},P=({el:A,anchor:x},R,j)=>{let $;for(;A&&A!==x;)$=m(A),r(A,R,j),A=$;r(x,R,j)},L=({el:A,anchor:x})=>{let R;for(;A&&A!==x;)R=m(A),o(A),A=R;o(x)},X=(A,x,R,j,$,Q,se,te,ie)=>{se=se||x.type==="svg",A==null?U(x,R,j,$,Q,se,te,ie):H(A,x,$,Q,se,te,ie)},U=(A,x,R,j,$,Q,se,te)=>{let ie,Z;const{type:be,props:pe,shapeFlag:N,transition:O,dirs:B}=A;if(ie=A.el=u(A.type,Q,pe&&pe.is,pe),N&8?g(ie,A.children):N&16&&V(A.children,ie,null,j,$,Q&&be!=="foreignObject",se,te),B&&Co(A,null,j,"created"),ue(ie,A,A.scopeId,se,j),pe){for(const de in pe)de!=="value"&&!ff(de)&&s(ie,de,null,pe[de],Q,A.children,j,$,_e);"value"in pe&&s(ie,"value",null,pe.value),(Z=pe.onVnodeBeforeMount)&&Ur(Z,j,A)}B&&Co(A,null,j,"beforeMount");const W=(!$||$&&!$.pendingBranch)&&O&&!O.persisted;W&&O.beforeEnter(ie),r(ie,x,R),((Z=pe&&pe.onVnodeMounted)||W||B)&&On(()=>{Z&&Ur(Z,j,A),W&&O.enter(ie),B&&Co(A,null,j,"mounted")},$)},ue=(A,x,R,j,$)=>{if(R&&y(A,R),j)for(let Q=0;Q<j.length;Q++)y(A,j[Q]);if($){let Q=$.subTree;if(x===Q){const se=$.vnode;ue(A,se,se.scopeId,se.slotScopeIds,$.parent)}}},V=(A,x,R,j,$,Q,se,te,ie=0)=>{for(let Z=ie;Z<A.length;Z++){const be=A[Z]=te?Pi(A[Z]):Br(A[Z]);I(null,be,x,R,j,$,Q,se,te)}},H=(A,x,R,j,$,Q,se)=>{const te=x.el=A.el;let{patchFlag:ie,dynamicChildren:Z,dirs:be}=x;ie|=A.patchFlag&16;const pe=A.props||mt,N=x.props||mt;let O;R&&No(R,!1),(O=N.onVnodeBeforeUpdate)&&Ur(O,R,x,A),be&&Co(x,A,R,"beforeUpdate"),R&&No(R,!0);const B=$&&x.type!=="foreignObject";if(Z?k(A.dynamicChildren,Z,te,R,j,B,Q):se||ye(A,x,te,null,R,j,B,Q,!1),ie>0){if(ie&16)Ne(te,x,pe,N,R,j,$);else if(ie&2&&pe.class!==N.class&&s(te,"class",null,N.class,$),ie&4&&s(te,"style",pe.style,N.style,$),ie&8){const W=x.dynamicProps;for(let de=0;de<W.length;de++){const ce=W[de],De=pe[ce],Xe=N[ce];(Xe!==De||ce==="value")&&s(te,ce,De,Xe,$,A.children,R,j,_e)}}ie&1&&A.children!==x.children&&g(te,x.children)}else!se&&Z==null&&Ne(te,x,pe,N,R,j,$);((O=N.onVnodeUpdated)||be)&&On(()=>{O&&Ur(O,R,x,A),be&&Co(x,A,R,"updated")},j)},k=(A,x,R,j,$,Q,se)=>{for(let te=0;te<x.length;te++){const ie=A[te],Z=x[te],be=ie.el&&(ie.type===en||!Vo(ie,Z)||ie.shapeFlag&70)?h(ie.el):R;I(ie,Z,be,null,j,$,Q,se,!0)}},Ne=(A,x,R,j,$,Q,se)=>{if(R!==j){if(R!==mt)for(const te in R)!ff(te)&&!(te in j)&&s(A,te,R[te],null,se,x.children,$,Q,_e);for(const te in j){if(ff(te))continue;const ie=j[te],Z=R[te];ie!==Z&&te!=="value"&&s(A,te,Z,ie,se,x.children,$,Q,_e)}"value"in j&&s(A,"value",R.value,j.value)}},oe=(A,x,R,j,$,Q,se,te,ie)=>{const Z=x.el=A?A.el:l(""),be=x.anchor=A?A.anchor:l("");let{patchFlag:pe,dynamicChildren:N,slotScopeIds:O}=x;O&&(te=te?te.concat(O):O),A==null?(r(Z,R,j),r(be,R,j),V(x.children,R,be,$,Q,se,te,ie)):pe>0&&pe&64&&N&&A.dynamicChildren?(k(A.dynamicChildren,N,R,$,Q,se,te),(x.key!=null||$&&x===$.subTree)&&MS(A,x,!0)):ye(A,x,R,be,$,Q,se,te,ie)},ke=(A,x,R,j,$,Q,se,te,ie)=>{x.slotScopeIds=te,A==null?x.shapeFlag&512?$.ctx.activate(x,R,j,se,ie):Fe(x,R,j,$,Q,se,ie):He(A,x,ie)},Fe=(A,x,R,j,$,Q,se)=>{const te=A.component=OD(A,j,$);if(gh(A)&&(te.ctx.renderer=ne),RD(te),te.asyncDep){if($&&$.registerDep(te,le),!A.el){const ie=te.subTree=Ce(Sr);T(null,ie,x,R)}return}le(te,A,x,R,$,Q,se)},He=(A,x,R)=>{const j=x.component=A.component;if(qP(A,x,R))if(j.asyncDep&&!j.asyncResolved){Ve(j,x,R);return}else j.next=x,MP(j.update),j.update();else x.el=A.el,j.vnode=x},le=(A,x,R,j,$,Q,se)=>{const te=()=>{if(A.isMounted){let{next:be,bu:pe,u:N,parent:O,vnode:B}=A,W=be,de;No(A,!1),be?(be.el=B.el,Ve(A,be,se)):be=B,pe&&hf(pe),(de=be.props&&be.props.onVnodeBeforeUpdate)&&Ur(de,O,be,B),No(A,!0);const ce=Um(A),De=A.subTree;A.subTree=ce,I(De,ce,h(De.el),F(De),A,$,Q),be.el=ce.el,W===null&&$P(A,ce.el),N&&On(N,$),(de=be.props&&be.props.onVnodeUpdated)&&On(()=>Ur(de,O,be,B),$)}else{let be;const{el:pe,props:N}=x,{bm:O,m:B,parent:W}=A,de=df(x);if(No(A,!1),O&&hf(O),!de&&(be=N&&N.onVnodeBeforeMount)&&Ur(be,W,x),No(A,!0),pe&&Oe){const ce=()=>{A.subTree=Um(A),Oe(pe,A.subTree,A,$,null)};de?x.type.__asyncLoader().then(()=>!A.isUnmounted&&ce()):ce()}else{const ce=A.subTree=Um(A);I(null,ce,R,j,A,$,Q),x.el=ce.el}if(B&&On(B,$),!de&&(be=N&&N.onVnodeMounted)){const ce=x;On(()=>Ur(be,W,ce),$)}(x.shapeFlag&256||W&&df(W.vnode)&&W.vnode.shapeFlag&256)&&A.a&&On(A.a,$),A.isMounted=!0,x=R=j=null}},ie=A.effect=new Tv(te,()=>Rv(Z),A.scope),Z=A.update=()=>ie.run();Z.id=A.uid,No(A,!0),Z()},Ve=(A,x,R)=>{x.component=A;const j=A.vnode.props;A.vnode=x,A.next=null,yD(A,x.props,j,R),bD(A,x.children,R),Sa(),oI(),Aa()},ye=(A,x,R,j,$,Q,se,te,ie=!1)=>{const Z=A&&A.children,be=A?A.shapeFlag:0,pe=x.children,{patchFlag:N,shapeFlag:O}=x;if(N>0){if(N&128){Et(Z,pe,R,j,$,Q,se,te,ie);return}else if(N&256){ht(Z,pe,R,j,$,Q,se,te,ie);return}}O&8?(be&16&&_e(Z,$,Q),pe!==Z&&g(R,pe)):be&16?O&16?Et(Z,pe,R,j,$,Q,se,te,ie):_e(Z,$,Q,!0):(be&8&&g(R,""),O&16&&V(pe,R,j,$,Q,se,te,ie))},ht=(A,x,R,j,$,Q,se,te,ie)=>{A=A||Xs,x=x||Xs;const Z=A.length,be=x.length,pe=Math.min(Z,be);let N;for(N=0;N<pe;N++){const O=x[N]=ie?Pi(x[N]):Br(x[N]);I(A[N],O,R,null,$,Q,se,te,ie)}Z>be?_e(A,$,Q,!0,!1,pe):V(x,R,j,$,Q,se,te,ie,pe)},Et=(A,x,R,j,$,Q,se,te,ie)=>{let Z=0;const be=x.length;let pe=A.length-1,N=be-1;for(;Z<=pe&&Z<=N;){const O=A[Z],B=x[Z]=ie?Pi(x[Z]):Br(x[Z]);if(Vo(O,B))I(O,B,R,null,$,Q,se,te,ie);else break;Z++}for(;Z<=pe&&Z<=N;){const O=A[pe],B=x[N]=ie?Pi(x[N]):Br(x[N]);if(Vo(O,B))I(O,B,R,null,$,Q,se,te,ie);else break;pe--,N--}if(Z>pe){if(Z<=N){const O=N+1,B=O<be?x[O].el:j;for(;Z<=N;)I(null,x[Z]=ie?Pi(x[Z]):Br(x[Z]),R,B,$,Q,se,te,ie),Z++}}else if(Z>N)for(;Z<=pe;)Rt(A[Z],$,Q,!0),Z++;else{const O=Z,B=Z,W=new Map;for(Z=B;Z<=N;Z++){const st=x[Z]=ie?Pi(x[Z]):Br(x[Z]);st.key!=null&&W.set(st.key,Z)}let de,ce=0;const De=N-B+1;let Xe=!1,Se=0;const Ge=new Array(De);for(Z=0;Z<De;Z++)Ge[Z]=0;for(Z=O;Z<=pe;Z++){const st=A[Z];if(ce>=De){Rt(st,$,Q,!0);continue}let qn;if(st.key!=null)qn=W.get(st.key);else for(de=B;de<=N;de++)if(Ge[de-B]===0&&Vo(st,x[de])){qn=de;break}qn===void 0?Rt(st,$,Q,!0):(Ge[qn-B]=Z+1,qn>=Se?Se=qn:Xe=!0,I(st,x[qn],R,null,$,Q,se,te,ie),ce++)}const vt=Xe?TD(Ge):Xs;for(de=vt.length-1,Z=De-1;Z>=0;Z--){const st=B+Z,qn=x[st],Qt=st+1<be?x[st+1].el:j;Ge[Z]===0?I(null,qn,R,Qt,$,Q,se,te,ie):Xe&&(de<0||Z!==vt[de]?Bt(qn,R,Qt,2):de--)}}},Bt=(A,x,R,j,$=null)=>{const{el:Q,type:se,transition:te,children:ie,shapeFlag:Z}=A;if(Z&6){Bt(A.component.subTree,x,R,j);return}if(Z&128){A.suspense.move(x,R,j);return}if(Z&64){se.move(A,x,R,ne);return}if(se===en){r(Q,x,R);for(let pe=0;pe<ie.length;pe++)Bt(ie[pe],x,R,j);r(A.anchor,x,R);return}if(se===qm){P(A,x,R);return}if(j!==2&&Z&1&&te)if(j===0)te.beforeEnter(Q),r(Q,x,R),On(()=>te.enter(Q),$);else{const{leave:pe,delayLeave:N,afterLeave:O}=te,B=()=>r(Q,x,R),W=()=>{pe(Q,()=>{B(),O&&O()})};N?N(Q,B,W):W()}else r(Q,x,R)},Rt=(A,x,R,j=!1,$=!1)=>{const{type:Q,props:se,ref:te,children:ie,dynamicChildren:Z,shapeFlag:be,patchFlag:pe,dirs:N}=A;if(te!=null&&kg(te,null,R,A,!0),be&256){x.ctx.deactivate(A);return}const O=be&1&&N,B=!df(A);let W;if(B&&(W=se&&se.onVnodeBeforeUnmount)&&Ur(W,x,A),be&6)ge(A.component,R,j);else{if(be&128){A.suspense.unmount(R,j);return}O&&Co(A,null,x,"beforeUnmount"),be&64?A.type.remove(A,x,R,$,ne,j):Z&&(Q!==en||pe>0&&pe&64)?_e(Z,x,R,!1,!0):(Q===en&&pe&384||!$&&be&16)&&_e(ie,x,R),j&&dt(A)}(B&&(W=se&&se.onVnodeUnmounted)||O)&&On(()=>{W&&Ur(W,x,A),O&&Co(A,null,x,"unmounted")},R)},dt=A=>{const{type:x,el:R,anchor:j,transition:$}=A;if(x===en){Bn(R,j);return}if(x===qm){L(A);return}const Q=()=>{o(R),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(A.shapeFlag&1&&$&&!$.persisted){const{leave:se,delayLeave:te}=$,ie=()=>se(R,Q);te?te(A.el,Q,ie):ie()}else Q()},Bn=(A,x)=>{let R;for(;A!==x;)R=m(A),o(A),A=R;o(x)},ge=(A,x,R)=>{const{bum:j,scope:$,update:Q,subTree:se,um:te}=A;j&&hf(j),$.stop(),Q&&(Q.active=!1,Rt(se,A,x,R)),te&&On(te,x),On(()=>{A.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},_e=(A,x,R,j=!1,$=!1,Q=0)=>{for(let se=Q;se<A.length;se++)Rt(A[se],x,R,j,$)},F=A=>A.shapeFlag&6?F(A.component.subTree):A.shapeFlag&128?A.suspense.next():m(A.anchor||A.el),K=(A,x,R)=>{A==null?x._vnode&&Rt(x._vnode,null,null,!0):I(x._vnode||null,A,x,null,null,null,R),oI(),yS(),x._vnode=A},ne={p:I,um:Rt,m:Bt,r:dt,mt:Fe,mc:V,pc:ye,pbc:k,n:F,o:e};let fe,Oe;return t&&([fe,Oe]=t(ne)),{render:K,hydrate:fe,createApp:mD(K,fe)}}function No({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function MS(e,t,n=!1){const r=e.children,o=t.children;if(Ae(r)&&Ae(o))for(let s=0;s<r.length;s++){const u=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Pi(o[s]),l.el=u.el),n||MS(u,l)),l.type===wh&&(l.el=u.el)}}function TD(e){const t=e.slice(),n=[0];let r,o,s,u,l;const f=e.length;for(r=0;r<f;r++){const p=e[r];if(p!==0){if(o=n[n.length-1],e[o]<p){t[r]=o,n.push(r);continue}for(s=0,u=n.length-1;s<u;)l=s+u>>1,e[n[l]]<p?s=l+1:u=l;p<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}const SD=e=>e.__isTeleport,en=Symbol.for("v-fgt"),wh=Symbol.for("v-txt"),Sr=Symbol.for("v-cmt"),qm=Symbol.for("v-stc"),Pu=[];let Ir=null;function qe(e=!1){Pu.push(Ir=e?null:[])}function AD(){Pu.pop(),Ir=Pu[Pu.length-1]||null}let Xu=1;function vI(e){Xu+=e}function FS(e){return e.dynamicChildren=Xu>0?Ir||Xs:null,AD(),Xu>0&&Ir&&Ir.push(e),e}function tt(e,t,n,r,o,s){return FS(D(e,t,n,r,o,s,!0))}function Xi(e,t,n,r,o){return FS(Ce(e,t,n,r,o,!0))}function xg(e){return e?e.__v_isVNode===!0:!1}function Vo(e,t){return e.type===t.type&&e.key===t.key}const bh="__vInternal",VS=({key:e})=>e??null,pf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ot(e)||lt(e)||Ue(e)?{i:Pn,r:e,k:t,f:!!n}:e:null);function D(e,t=null,n=null,r=0,o=null,s=e===en?0:1,u=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&VS(t),ref:t&&pf(t),scopeId:bS,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Pn};return l?(jv(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Ot(n)?8:16),Xu>0&&!u&&Ir&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Ir.push(f),f}const Ce=kD;function kD(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===xS)&&(e=Sr),xg(e)){const l=Yi(e,t,!0);return n&&jv(l,n),Xu>0&&!s&&Ir&&(l.shapeFlag&6?Ir[Ir.indexOf(e)]=l:Ir.push(l)),l.patchFlag|=-2,l}if(FD(e)&&(e=e.__vccOpts),t){t=xD(t);let{class:l,style:f}=t;l&&!Ot(l)&&(t.class=Xt(l)),ut(f)&&(cS(f)&&!Ae(f)&&(f=Vt({},f)),t.style=li(f))}const u=Ot(e)?1:HP(e)?128:SD(e)?64:ut(e)?4:Ue(e)?2:0;return D(e,t,n,r,o,u,s,!0)}function xD(e){return e?cS(e)||bh in e?Vt({},e):e:null}function Yi(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:u}=e,l=t?US(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&VS(l),ref:t&&t.ref?n&&o?Ae(o)?o.concat(pf(t)):[o,pf(t)]:pf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==en?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Yi(e.ssContent),ssFallback:e.ssFallback&&Yi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Er(e=" ",t=0){return Ce(wh,null,e,t)}function Qi(e="",t=!1){return t?(qe(),Xi(Sr,null,e)):Ce(Sr,null,e)}function Br(e){return e==null||typeof e=="boolean"?Ce(Sr):Ae(e)?Ce(en,null,e.slice()):typeof e=="object"?Pi(e):Ce(wh,null,String(e))}function Pi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Yi(e)}function jv(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ae(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),jv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(bh in t)?t._ctx=Pn:o===3&&Pn&&(Pn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ue(t)?(t={default:t,_ctx:Pn},n=32):(t=String(t),r&64?(n=16,t=[Er(t)]):n=8);e.children=t,e.shapeFlag|=n}function US(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Xt([t.class,r.class]));else if(o==="style")t.style=li([t.style,r.style]);else if(ch(o)){const s=t[o],u=r[o];u&&s!==u&&!(Ae(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=r[o])}return t}function Ur(e,t,n,r=null){cr(e,t,7,[n,r])}const CD=NS();let ND=0;function OD(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||CD,s={uid:ND++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new XT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:RS(r,o),emitsOptions:wS(r,o),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:r.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=UP.bind(null,s),e.ce&&e.ce(s),s}let Ht=null;const _c=()=>Ht||Pn;let Bv,Vs,yI="__VUE_INSTANCE_SETTERS__";(Vs=gg()[yI])||(Vs=gg()[yI]=[]),Vs.push(e=>Ht=e),Bv=e=>{Vs.length>1?Vs.forEach(t=>t(e)):Vs[0](e)};const na=e=>{Bv(e),e.scope.on()},zo=()=>{Ht&&Ht.scope.off(),Bv(null)};function jS(e){return e.vnode.shapeFlag&4}let Yu=!1;function RD(e,t=!1){Yu=t;const{props:n,children:r}=e.vnode,o=jS(e);vD(e,n,o,t),wD(e,r);const s=o?PD(e,t):void 0;return Yu=!1,s}function PD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=dh(new Proxy(e.ctx,uD));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?LD(e):null;na(e),Sa();const s=Hi(r,e,0,[e.props,o]);if(Aa(),zo(),HT(s)){if(s.then(zo,zo),t)return s.then(u=>{_I(e,u,t)}).catch(u=>{ph(u,e,0)});e.asyncDep=s}else _I(e,s,t)}else BS(e,t)}function _I(e,t,n){Ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ut(t)&&(e.setupState=pS(t)),BS(e,n)}let wI;function BS(e,t,n){const r=e.type;if(!e.render){if(!t&&wI&&!r.render){const o=r.template||Vv(e).template;if(o){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:l,compilerOptions:f}=r,p=Vt(Vt({isCustomElement:s,delimiters:l},u),f);r.render=wI(o,p)}}e.render=r.render||Tr}na(e),Sa(),cD(e),Aa(),zo()}function DD(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Fn(e,"get","$attrs"),t[n]}}))}function LD(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return DD(e)},slots:e.slots,emit:e.emit,expose:t}}function Ih(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(pS(dh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ru)return Ru[n](e)},has(t,n){return n in t||n in Ru}}))}function MD(e,t=!0){return Ue(e)?e.displayName||e.name:e.name||t&&e.__name}function FD(e){return Ue(e)&&"__vccOpts"in e}const Be=(e,t)=>PP(e,t,Yu);function Jo(e,t,n){const r=arguments.length;return r===2?ut(t)&&!Ae(t)?xg(t)?Ce(e,null,[t]):Ce(e,t):Ce(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&xg(n)&&(n=[n]),Ce(e,t,n))}const VD=Symbol.for("v-scx"),UD=()=>lr(VD),jD="3.3.4",BD="http://www.w3.org/2000/svg",Uo=typeof document<"u"?document:null,bI=Uo&&Uo.createElement("template"),qD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?Uo.createElementNS(BD,e):Uo.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Uo.createTextNode(e),createComment:e=>Uo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Uo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const u=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{bI.innerHTML=r?`<svg>${e}</svg>`:e;const l=bI.content;if(r){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function $D(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function HD(e,t,n){const r=e.style,o=Ot(n);if(n&&!o){if(t&&!Ot(t))for(const s in t)n[s]==null&&Cg(r,s,"");for(const s in n)Cg(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const II=/\s*!important$/;function Cg(e,t,n){if(Ae(n))n.forEach(r=>Cg(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=KD(e,t);II.test(n)?e.setProperty(Ta(r),n.replace(II,""),"important"):e[r]=n}}const EI=["Webkit","Moz","ms"],$m={};function KD(e,t){const n=$m[t];if(n)return n;let r=Wr(t);if(r!=="filter"&&r in e)return $m[t]=r;r=fh(r);for(let o=0;o<EI.length;o++){const s=EI[o]+r;if(s in e)return $m[t]=s}return t}const TI="http://www.w3.org/1999/xlink";function GD(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(TI,t.slice(6,t.length)):e.setAttributeNS(TI,t,n);else{const s=YR(t);n==null||s&&!zT(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function zD(e,t,n,r,o,s,u){if(t==="innerHTML"||t==="textContent"){r&&u(r,o,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const p=l==="OPTION"?e.getAttribute("value"):e.value,g=n??"";p!==g&&(e.value=g),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const p=typeof e[t];p==="boolean"?n=zT(n):n==null&&p==="string"?(n="",f=!0):p==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function qS(e,t,n,r){e.addEventListener(t,n,r)}function WD(e,t,n,r){e.removeEventListener(t,n,r)}function XD(e,t,n,r,o=null){const s=e._vei||(e._vei={}),u=s[t];if(r&&u)u.value=r;else{const[l,f]=YD(t);if(r){const p=s[t]=ZD(r,o);qS(e,l,p,f)}else u&&(WD(e,l,u,f),s[t]=void 0)}}const SI=/(?:Once|Passive|Capture)$/;function YD(e){let t;if(SI.test(e)){t={};let r;for(;r=e.match(SI);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ta(e.slice(2)),t]}let Hm=0;const QD=Promise.resolve(),JD=()=>Hm||(QD.then(()=>Hm=0),Hm=Date.now());function ZD(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;cr(eL(r,n.value),t,5,[r])};return n.value=e,n.attached=JD(),n}function eL(e,t){if(Ae(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const AI=/^on[a-z]/,tL=(e,t,n,r,o=!1,s,u,l,f)=>{t==="class"?$D(e,r,o):t==="style"?HD(e,n,r):ch(t)?wv(t)||XD(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):nL(e,t,r,o))?zD(e,t,r,s,u,l,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),GD(e,t,r,o))};function nL(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&AI.test(t)&&Ue(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||AI.test(t)&&Ot(n)?!1:t in e}const Ai="transition",_u="animation",qv=(e,{slots:t})=>Jo(YP,rL(e),t);qv.displayName="Transition";const $S={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};qv.props=Vt({},ES,$S);const Oo=(e,t=[])=>{Ae(e)?e.forEach(n=>n(...t)):e&&e(...t)},kI=e=>e?Ae(e)?e.some(t=>t.length>1):e.length>1:!1;function rL(e){const t={};for(const oe in e)oe in $S||(t[oe]=e[oe]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:p=u,appearToClass:g=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,_=iL(o),I=_&&_[0],E=_&&_[1],{onBeforeEnter:T,onEnter:C,onEnterCancelled:P,onLeave:L,onLeaveCancelled:X,onBeforeAppear:U=T,onAppear:ue=C,onAppearCancelled:V=P}=t,H=(oe,ke,Fe)=>{Ro(oe,ke?g:l),Ro(oe,ke?p:u),Fe&&Fe()},k=(oe,ke)=>{oe._isLeaving=!1,Ro(oe,h),Ro(oe,y),Ro(oe,m),ke&&ke()},Ne=oe=>(ke,Fe)=>{const He=oe?ue:C,le=()=>H(ke,oe,Fe);Oo(He,[ke,le]),xI(()=>{Ro(ke,oe?f:s),ki(ke,oe?g:l),kI(He)||CI(ke,r,I,le)})};return Vt(t,{onBeforeEnter(oe){Oo(T,[oe]),ki(oe,s),ki(oe,u)},onBeforeAppear(oe){Oo(U,[oe]),ki(oe,f),ki(oe,p)},onEnter:Ne(!1),onAppear:Ne(!0),onLeave(oe,ke){oe._isLeaving=!0;const Fe=()=>k(oe,ke);ki(oe,h),aL(),ki(oe,m),xI(()=>{oe._isLeaving&&(Ro(oe,h),ki(oe,y),kI(L)||CI(oe,r,E,Fe))}),Oo(L,[oe,Fe])},onEnterCancelled(oe){H(oe,!1),Oo(P,[oe])},onAppearCancelled(oe){H(oe,!0),Oo(V,[oe])},onLeaveCancelled(oe){k(oe),Oo(X,[oe])}})}function iL(e){if(e==null)return null;if(ut(e))return[Km(e.enter),Km(e.leave)];{const t=Km(e);return[t,t]}}function Km(e){return HR(e)}function ki(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Ro(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function xI(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let oL=0;function CI(e,t,n,r){const o=e._endId=++oL,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:u,timeout:l,propCount:f}=sL(e,t);if(!u)return r();const p=u+"end";let g=0;const h=()=>{e.removeEventListener(p,m),s()},m=y=>{y.target===e&&++g>=f&&h()};setTimeout(()=>{g<f&&h()},l+1),e.addEventListener(p,m)}function sL(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),o=r(`${Ai}Delay`),s=r(`${Ai}Duration`),u=NI(o,s),l=r(`${_u}Delay`),f=r(`${_u}Duration`),p=NI(l,f);let g=null,h=0,m=0;t===Ai?u>0&&(g=Ai,h=u,m=s.length):t===_u?p>0&&(g=_u,h=p,m=f.length):(h=Math.max(u,p),g=h>0?u>p?Ai:_u:null,m=g?g===Ai?s.length:f.length:0);const y=g===Ai&&/\b(transform|all)(,|$)/.test(r(`${Ai}Property`).toString());return{type:g,timeout:h,propCount:m,hasTransform:y}}function NI(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>OI(n)+OI(e[r])))}function OI(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function aL(){return document.body.offsetHeight}const RI=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ae(t)?n=>hf(t,n):t},PI={created(e,{value:t},n){e.checked=Tf(t,n.props.value),e._assign=RI(n),qS(e,"change",()=>{e._assign(uL(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=RI(r),t!==n&&(e.checked=Tf(t,r.props.value))}};function uL(e){return"_value"in e?e._value:e.value}const cL=["ctrl","shift","alt","meta"],lL={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>cL.some(n=>e[`${n}Key`]&&!t.includes(n))},$t=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=lL[t[o]];if(s&&s(n,t))return}return e(n,...r)},Gm={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):wu(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),wu(e,!0),r.enter(e)):r.leave(e,()=>{wu(e,!1)}):wu(e,t))},beforeUnmount(e,{value:t}){wu(e,t)}};function wu(e,t){e.style.display=t?e._vod:"none"}const fL=Vt({patchProp:tL},qD);let DI;function hL(){return DI||(DI=ID(fL))}const dL=(...e)=>{const t=hL().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=pL(r);if(!o)return;const s=t._component;!Ue(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const u=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function pL(e){return Ot(e)?document.querySelector(e):e}var mL=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let HS;const Eh=e=>HS=e,KS=Symbol();function Ng(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Du;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Du||(Du={}));function gL(){const e=YT(!0),t=e.run(()=>bn({}));let n=[],r=[];const o=dh({install(s){Eh(o),o._a=s,s.provide(KS,o),s.config.globalProperties.$pinia=o,r.forEach(u=>n.push(u)),r=[]},use(s){return!this._a&&!mL?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const GS=()=>{};function LI(e,t,n,r=GS){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&QT()&&ZR(o),o}function Us(e,...t){e.slice().forEach(n=>{n(...t)})}const vL=e=>e();function Og(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];Ng(o)&&Ng(r)&&e.hasOwnProperty(n)&&!lt(r)&&!$i(r)?e[n]=Og(o,r):e[n]=r}return e}const yL=Symbol();function _L(e){return!Ng(e)||!e.hasOwnProperty(yL)}const{assign:Ri}=Object;function wL(e){return!!(lt(e)&&e.effect)}function bL(e,t,n,r){const{state:o,actions:s,getters:u}=t,l=n.state.value[e];let f;function p(){l||(n.state.value[e]=o?o():{});const g=CP(n.state.value[e]);return Ri(g,s,Object.keys(u||{}).reduce((h,m)=>(h[m]=dh(Be(()=>{Eh(n);const y=n._s.get(e);return u[m].call(y,y)})),h),{}))}return f=zS(e,p,t,n,r,!0),f}function zS(e,t,n={},r,o,s){let u;const l=Ri({actions:{}},n),f={deep:!0};let p,g,h=[],m=[],y;const _=r.state.value[e];!s&&!_&&(r.state.value[e]={}),bn({});let I;function E(V){let H;p=g=!1,typeof V=="function"?(V(r.state.value[e]),H={type:Du.patchFunction,storeId:e,events:y}):(Og(r.state.value[e],V),H={type:Du.patchObject,payload:V,storeId:e,events:y});const k=I=Symbol();ii().then(()=>{I===k&&(p=!0)}),g=!0,Us(h,H,r.state.value[e])}const T=s?function(){const{state:H}=n,k=H?H():{};this.$patch(Ne=>{Ri(Ne,k)})}:GS;function C(){u.stop(),h=[],m=[],r._s.delete(e)}function P(V,H){return function(){Eh(r);const k=Array.from(arguments),Ne=[],oe=[];function ke(le){Ne.push(le)}function Fe(le){oe.push(le)}Us(m,{args:k,name:V,store:X,after:ke,onError:Fe});let He;try{He=H.apply(this&&this.$id===e?this:X,k)}catch(le){throw Us(oe,le),le}return He instanceof Promise?He.then(le=>(Us(Ne,le),le)).catch(le=>(Us(oe,le),Promise.reject(le))):(Us(Ne,He),He)}}const L={_p:r,$id:e,$onAction:LI.bind(null,m),$patch:E,$reset:T,$subscribe(V,H={}){const k=LI(h,V,H.detached,()=>Ne()),Ne=u.run(()=>Jn(()=>r.state.value[e],oe=>{(H.flush==="sync"?g:p)&&V({storeId:e,type:Du.direct,events:y},oe)},Ri({},f,H)));return k},$dispose:C},X=hi(L);r._s.set(e,X);const U=r._a&&r._a.runWithContext||vL,ue=r._e.run(()=>(u=YT(),U(()=>u.run(t))));for(const V in ue){const H=ue[V];if(lt(H)&&!wL(H)||$i(H))s||(_&&_L(H)&&(lt(H)?H.value=_[V]:Og(H,_[V])),r.state.value[e][V]=H);else if(typeof H=="function"){const k=P(V,H);ue[V]=k,l.actions[V]=H}}return Ri(X,ue),Ri(Qe(X),ue),Object.defineProperty(X,"$state",{get:()=>r.state.value[e],set:V=>{E(H=>{Ri(H,V)})}}),r._p.forEach(V=>{Ri(X,u.run(()=>V({store:X,app:r._a,pinia:r,options:l})))}),_&&s&&n.hydrate&&n.hydrate(X.$state,_),p=!0,g=!0,X}function $v(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function u(l,f){const p=gD();return l=l||(p?lr(KS,null):null),l&&Eh(l),l=HS,l._s.has(r)||(s?zS(r,t,o,l):bL(r,o,l)),l._s.get(r)}return u.$id=r,u}let IL="Store";function EL(...e){return e.reduce((t,n)=>(t[n.$id+IL]=function(){return n(this.$pinia)},t),{})}function Th(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function Sh(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function WS(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}const Rg=$v("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?" ":"hidden"}}});var Pg=function(e,t){return Pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Pg(e,t)};function Te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ra=function(){return ra=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ra.apply(this,arguments)};function z(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(g){try{p(r.next(g))}catch(h){u(h)}}function f(g){try{p(r.throw(g))}catch(h){u(h)}}function p(g){g.done?s(g.value):o(g.value).then(l,f)}p((r=r.apply(e,t||[])).next())})}function G(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(p){return function(g){return f([p,g])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(g){p=[6,g],o=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function zm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){u={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function wt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XS=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},TL=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},SL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,l=u?e[o+1]:0,f=o+2<e.length,p=f?e[o+2]:0,g=s>>2,h=(s&3)<<4|l>>4,m=(l&15)<<2|p>>6,y=p&63;f||(y=64,u||(m=64)),r.push(n[g],n[h],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(XS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):TL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,l=u?n[e.charAt(o)]:0;++o;var f=o<e.length,p=f?n[e.charAt(o)]:64;++o;var g=o<e.length,h=g?n[e.charAt(o)]:64;if(++o,s==null||l==null||p==null||h==null)throw Error();var m=s<<2|l>>4;if(r.push(m),p!==64){var y=l<<4&240|p>>2;if(r.push(y),h!==64){var _=p<<6&192|h;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},AL=function(e){var t=XS(e);return SL.encodeByteArray(t,!0)},MI=function(e){return AL(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(e){return Qu(void 0,e)}function Qu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!xL(r)||(e[r]=Qu(e[r],t[r]));return e}function xL(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=ra({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[MI(JSON.stringify(n)),MI(JSON.stringify(u)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zo())}function QS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OL(){return typeof self=="object"&&self.self===self}function RL(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function PL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DL(){return Zo().indexOf("Electron/")>=0}function LL(){var e=Zo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ML(){return Zo().indexOf("MSAppHost/")>=0}function FL(){return!QS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VL="FirebaseError",JS=function(e){Te(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=VL,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Hv.prototype.create),s}return t}(Error),Hv=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],l=u?UL(u,o):"Error",f=this.serviceName+": "+l+" ("+s+").",p=new JS(s,f,o);return p},e}();function UL(e,t){return e.replace(jL,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var jL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function BL(e,t){var n=new qL(e,t);return n.subscribe.bind(n)}var qL=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$L(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Wm),s.error===void 0&&(s.error=Wm),s.complete===void 0&&(s.complete=Wm);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function $L(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(e){return e&&e._delegate?e._delegate:e}var wc=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new CL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(GL(t))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}try{for(var o=zm(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=Yl(s.value,2),l=u[0],f=u[1],p=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:p});f.resolve(g)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Lo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return z(this,void 0,void 0,function(){var t;return G(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(wt(wt([],Yl(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Yl(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Lo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Lo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var f=zm(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var g=Yl(p.value,2),h=g[0],m=g[1],y=this.normalizeInstanceIdentifier(h);u===y&&m.resolve(l)}}catch(_){n={error:_}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(s)try{for(var u=zm(s),l=u.next();!l.done;l=u.next()){var f=l.value;try{f(t,n)}catch{}}}catch(p){r={error:p}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KL(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Lo),this.component?this.component.multipleInstances?t:Lo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function KL(e){return e===Lo?void 0:e}function GL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new HL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function _r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,l=s.length;u<l;u++,o++)r[o]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Po,Kv=[],et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(et||(et={}));var ZS={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},WL=et.INFO,XL=(Po={},Po[et.DEBUG]="log",Po[et.VERBOSE]="log",Po[et.INFO]="info",Po[et.WARN]="warn",Po[et.ERROR]="error",Po),YL=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=XL[t];if(s)console[s].apply(console,_r(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},e1=function(){function e(t){this.name=t,this._logLevel=WL,this._logHandler=YL,this._userLogHandler=null,Kv.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in et))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?ZS[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,et.DEBUG],t)),this._logHandler.apply(this,_r([this,et.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,et.VERBOSE],t)),this._logHandler.apply(this,_r([this,et.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,et.INFO],t)),this._logHandler.apply(this,_r([this,et.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,et.WARN],t)),this._logHandler.apply(this,_r([this,et.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,et.ERROR],t)),this._logHandler.apply(this,_r([this,et.ERROR],t))},e}();function QL(e){Kv.forEach(function(t){t.setLogLevel(e)})}function JL(e,t){for(var n=function(u){var l=null;t&&t.level&&(l=ZS[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,p){for(var g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];var m=g.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");p>=(l??f.logLevel)&&e({level:et[p].toLowerCase(),message:m,args:g,type:f.name})}},r=0,o=Kv;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi,ZL=(xi={},xi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",xi["bad-app-name"]="Illegal App name: '{$appName}",xi["duplicate-app"]="Firebase App named '{$appName}' already exists",xi["app-deleted"]="Firebase App named '{$appName}' already deleted",xi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",xi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",xi),$s=new Hv("app","Firebase",ZL),t1="@firebase/app",eM="0.6.30",tM="@firebase/analytics",nM="@firebase/app-check",rM="@firebase/auth",iM="@firebase/database",oM="@firebase/functions",sM="@firebase/installations",aM="@firebase/messaging",uM="@firebase/performance",cM="@firebase/remote-config",lM="@firebase/storage",fM="@firebase/firestore",hM="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,Cf="[DEFAULT]",dM=(an={},an[t1]="fire-core",an[tM]="fire-analytics",an[nM]="fire-app-check",an[rM]="fire-auth",an[iM]="fire-rtdb",an[oM]="fire-fn",an[sM]="fire-iid",an[aM]="fire-fcm",an[uM]="fire-perf",an[cM]="fire-rc",an[lM]="fire-gcs",an[fM]="fire-fst",an["fire-js"]="fire-js",an[hM]="fire-js-all",an);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ia=new e1("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mf=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=kL(t),this.container=new zL(n.name),this._addComponent(new wc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Cf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Cf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){ia.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw $s.create("app-deleted",{appName:this.name_})},e}();mf.prototype.name&&mf.prototype.options||mf.prototype.delete||console.log("dc");var pM="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:p,setLogLevel:QL,onLog:g,apps:null,SDK_VERSION:pM,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(m){delete t[m]}function s(m){if(m=m||Cf,!FI(t,m))throw $s.create("no-app",{appName:m});return t[m]}s.App=e;function u(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var I=y;I.name===void 0&&(I.name=Cf);var E=I.name;if(typeof E!="string"||!E)throw $s.create("bad-app-name",{appName:String(E)});if(FI(t,E))throw $s.create("duplicate-app",{appName:E});var T=new e(m,I,r);return t[E]=T,T}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var y=m.name;if(n.has(y))return ia.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var _=function(C){if(C===void 0&&(C=s()),typeof C[y]!="function")throw $s.create("invalid-app-argument",{appName:y});return C[y]()};m.serviceProps!==void 0&&Qu(_,m.serviceProps),r[y]=_,e.prototype[y]=function(){for(var C=[],P=0;P<arguments.length;P++)C[P]=arguments[P];var L=this._getService.bind(this,y);return L.apply(this,m.multipleInstances?C:[])}}for(var I=0,E=Object.keys(t);I<E.length;I++){var T=E[I];t[T]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function p(m,y,_){var I,E=(I=dM[m])!==null&&I!==void 0?I:m;_&&(E+="-"+_);var T=E.match(/\s|\//),C=y.match(/\s|\//);if(T||C){var P=['Unable to register library "'+E+'" with version "'+y+'":'];T&&P.push('library name "'+E+'" contains illegal characters (whitespace or "/")'),T&&C&&P.push("and"),C&&P.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),ia.warn(P.join(" "));return}f(new wc(E+"-version",function(){return{library:E,version:y}},"VERSION"))}function g(m,y){if(m!==null&&typeof m!="function")throw $s.create("invalid-log-argument");JL(m,y)}function h(m,y){if(y==="serverAuth")return null;var _=y;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){var e=mM(mf);e.INTERNAL=ra(ra({},e.INTERNAL),{createFirebaseNamespace:n1,extendNamespace:t,createSubscribe:BL,ErrorFactory:Hv,deepExtend:Qu});function t(n){Qu(e,n)}return e}var Gv=n1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gM=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(vM(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function vM(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(e,t){e.INTERNAL.registerComponent(new wc("platform-logger",function(n){return new gM(n)},"PRIVATE")),e.registerVersion(t1,eM,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(OL()&&self.firebase!==void 0){ia.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var VI=self.firebase.SDK_VERSION;VI&&VI.indexOf("LITE")>=0&&ia.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var _M=Gv.initializeApp;Gv.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return QS()&&ia.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),_M.apply(void 0,e)};var xe=Gv;yM(xe);var wM="firebase",r1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xe.registerVersion(wM,r1,"app");xe.SDK_VERSION=r1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,c){i!=Array.prototype&&i!=Object.prototype&&(i[a]=c.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var c=i[a];if(c&&c.Math==Math)return c}return globalThis}var r=n(this);function o(i,a){if(a){var c=r;i=i.split(".");for(var d=0;d<i.length-1;d++){var v=i[d];v in c||(c[v]={}),c=c[v]}i=i[i.length-1],d=c[i],a=a(d),a!=d&&a!=null&&t(c,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(b){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{b(S.resolve,S.reject)}catch(q){S.reject(q)}}function c(){this.a=null}function d(b){return b instanceof a?b:new a(function(S){S(b)})}if(i)return i;c.prototype.b=function(b){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(b)};var v=r.setTimeout;c.prototype.c=function(b){v(b,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var S=0;S<b.length;++S){var q=b[S];b[S]=null;try{q()}catch(Y){this.f(Y)}}}this.a=null},c.prototype.f=function(b){this.c(function(){throw b})},a.prototype.f=function(){function b(Y){return function(Le){q||(q=!0,Y.call(S,Le))}}var S=this,q=!1;return{resolve:b(this.m),reject:b(this.g)}},a.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.s(b);else{e:switch(typeof b){case"object":var S=b!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(b):this.h(b)}},a.prototype.v=function(b){var S=void 0;try{S=b.then}catch(q){this.g(q);return}typeof S=="function"?this.u(S,b):this.h(b)},a.prototype.g=function(b){this.i(2,b)},a.prototype.h=function(b){this.i(1,b)},a.prototype.i=function(b,S){if(this.b!=0)throw Error("Cannot settle("+b+", "+S+"): Promise already settled in state"+this.b);this.b=b,this.c=S,this.l()},a.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)w.b(this.a[b]);this.a=null}};var w=new c;return a.prototype.s=function(b){var S=this.f();b.Ra(S.resolve,S.reject)},a.prototype.u=function(b,S){var q=this.f();try{b.call(S,q.resolve,q.reject)}catch(Y){q.reject(Y)}},a.prototype.then=function(b,S){function q(Ze,zt){return typeof Ze=="function"?function(ti){try{Y(Ze(ti))}catch(Fm){Le(Fm)}}:zt}var Y,Le,it=new a(function(Ze,zt){Y=Ze,Le=zt});return this.Ra(q(b,Y),q(S,Le)),it},a.prototype.catch=function(b){return this.then(void 0,b)},a.prototype.Ra=function(b,S){function q(){switch(Y.b){case 1:b(Y.c);break;case 2:S(Y.c);break;default:throw Error("Unexpected state: "+Y.b)}}var Y=this;this.a==null?w.b(q):this.a.push(q)},a.resolve=d,a.reject=function(b){return new a(function(S,q){q(b)})},a.race=function(b){return new a(function(S,q){for(var Y=u(b),Le=Y.next();!Le.done;Le=Y.next())d(Le.value).Ra(S,q)})},a.all=function(b){var S=u(b),q=S.next();return q.done?d([]):new a(function(Y,Le){function it(ti){return function(Fm){Ze[ti]=Fm,zt--,zt==0&&Y(Ze)}}var Ze=[],zt=0;do Ze.push(void 0),zt++,d(q.value).Ra(it(Ze.length-1),Le),q=S.next();while(!q.done)})},a});var l=l||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,g=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&p.test(i)?i:""}function m(){}function y(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function _(i){var a=y(i);return a=="array"||a=="object"&&typeof i.length=="number"}function I(i){return y(i)=="function"}function E(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function T(i){return Object.prototype.hasOwnProperty.call(i,C)&&i[C]||(i[C]=++P)}var C="closure_uid_"+(1e9*Math.random()>>>0),P=0;function L(i,a,c){return i.call.apply(i.bind,arguments)}function X(i,a,c){if(!i)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,d),i.apply(a,v)}}return function(){return i.apply(a,arguments)}}function U(i,a,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?U=L:U=X,U.apply(null,arguments)}function ue(i,a){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),i.apply(this,d)}}function V(i,a){function c(){}c.prototype=a.prototype,i.bb=a.prototype,i.prototype=new c,i.prototype.constructor=i}function H(i){return i}function k(i,a,c){this.code=oe+i,this.message=a||ke[i]||"",this.a=c||null}V(k,Error),k.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},k.prototype.toJSON=function(){return this.w()};function Ne(i){var a=i&&i.code;return a?new k(a.substring(oe.length),i.message,i.serverResponse):null}var oe="auth/",ke={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Fe={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function He(i){for(var a in Fe)if(Fe[a].id===i)return i=Fe[a],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var le;le=He("__EID__")?"__EID__":void 0;function Ve(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function ye(i){if(Error.captureStackTrace)Error.captureStackTrace(this,ye);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}V(ye,Error),ye.prototype.name="CustomError";function ht(i,a){i=i.split("%s");for(var c="",d=i.length-1,v=0;v<d;v++)c+=i[v]+(v<a.length?a[v]:"%s");ye.call(this,c+i[d])}V(ht,ye),ht.prototype.name="AssertionError";function Et(i,a){throw new ht("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function Bt(i,a){this.c=i,this.f=a,this.b=0,this.a=null}Bt.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function Rt(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function dt(){this.b=this.a=null}var Bn=new Bt(function(){return new _e},function(i){i.reset()});dt.prototype.add=function(i,a){var c=Bn.get();c.set(i,a),this.b?this.b.next=c:this.a=c,this.b=c};function ge(){var i=L_,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function _e(){this.next=this.b=this.a=null}_e.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},_e.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var c=0;c<i.length;c++)if(c in i&&i[c]===a)return c;return-1},K=Array.prototype.forEach?function(i,a,c){Array.prototype.forEach.call(i,a,c)}:function(i,a,c){for(var d=i.length,v=typeof i=="string"?i.split(""):i,w=0;w<d;w++)w in v&&a.call(c,v[w],w,i)};function ne(i,a){for(var c=typeof i=="string"?i.split(""):i,d=i.length-1;0<=d;--d)d in c&&a.call(void 0,c[d],d,i)}var fe=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var c=i.length,d=[],v=0,w=typeof i=="string"?i.split(""):i,b=0;b<c;b++)if(b in w){var S=w[b];a.call(void 0,S,b,i)&&(d[v++]=S)}return d},Oe=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var c=i.length,d=Array(c),v=typeof i=="string"?i.split(""):i,w=0;w<c;w++)w in v&&(d[w]=a.call(void 0,v[w],w,i));return d},A=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var c=i.length,d=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in d&&a.call(void 0,d[v],v,i))return!0;return!1};function x(i){e:{for(var a=gN,c=i.length,d=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in d&&a.call(void 0,d[v],v,i)){a=v;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function R(i,a){return 0<=F(i,a)}function j(i,a){a=F(i,a);var c;return(c=0<=a)&&Array.prototype.splice.call(i,a,1),c}function $(i,a){var c=0;ne(i,function(d,v){a.call(void 0,d,v,i)&&Array.prototype.splice.call(i,v,1).length==1&&c++})}function Q(i){return Array.prototype.concat.apply([],arguments)}function se(i){var a=i.length;if(0<a){for(var c=Array(a),d=0;d<a;d++)c[d]=i[d];return c}return[]}var te=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},ie=/&/g,Z=/</g,be=/>/g,pe=/"/g,N=/'/g,O=/\x00/g,B=/[\x00&<>"']/;function W(i,a){return i.indexOf(a)!=-1}function de(i,a){return i<a?-1:i>a?1:0}var ce;e:{var De=f.navigator;if(De){var Xe=De.userAgent;if(Xe){ce=Xe;break e}}ce=""}function Se(i){return W(ce,i)}function Ge(i,a){for(var c in i)a.call(void 0,i[c],c,i)}function vt(i){for(var a in i)return!1;return!0}function st(i){var a={},c;for(c in i)a[c]=i[c];return a}var qn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qt(i,a){for(var c,d,v=1;v<arguments.length;v++){d=arguments[v];for(c in d)i[c]=d[c];for(var w=0;w<qn.length;w++)c=qn[w],Object.prototype.hasOwnProperty.call(d,c)&&(i[c]=d[c])}}function m_(i,a){e:{try{var c=i&&i.ownerDocument,d=c&&(c.defaultView||c.parentWindow);if(d=d||f,d.Element&&d.Location){var v=d;break e}}catch{}v=null}if(v&&typeof v[a]<"u"&&(!i||!(i instanceof v[a])&&(i instanceof v.Location||i instanceof v.Element))){if(E(i))try{var w=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{w="<object could not be stringified>"}else w=i===void 0?"undefined":i===null?"null":typeof i;Et("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,w)}}function Or(i,a){this.a=i===$c&&a||"",this.b=g_}Or.prototype.ta=!0,Or.prototype.sa=function(){return this.a},Or.prototype.toString=function(){return"Const{"+this.a+"}"};function ld(i){return i instanceof Or&&i.constructor===Or&&i.b===g_?i.a:(Et("expected object of type Const, got '"+i+"'"),"type_error:Const")}var g_={},$c={},Hc;function v_(){if(Hc===void 0){var i=null,a=f.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:H,createScript:H,createScriptURL:H})}catch(c){f.console&&f.console.error(c.message)}Hc=i}else Hc=i}return Hc}function ms(i,a){this.a=a===__?i:""}ms.prototype.ta=!0,ms.prototype.sa=function(){return this.a.toString()},ms.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function y_(i){return i instanceof ms&&i.constructor===ms?i.a:(Et("expected object of type TrustedResourceUrl, got '"+i+"' of type "+y(i)),"type_error:TrustedResourceUrl")}function fd(i,a){var c=ld(i);if(!Gx.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return i=c.replace(Kx,function(d,v){if(!Object.prototype.hasOwnProperty.call(a,v))throw Error('Found marker, "'+v+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(a));return d=a[v],d instanceof Or?ld(d):encodeURIComponent(String(d))}),zx(i)}var Kx=/%{(\w+)}/g,Gx=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,__={};function zx(i){var a=v_();return i=a?a.createScriptURL(i):i,new ms(i,__)}function kn(i,a){this.a=a===Fa?i:""}kn.prototype.ta=!0,kn.prototype.sa=function(){return this.a.toString()},kn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Kc(i){return i instanceof kn&&i.constructor===kn?i.a:(Et("expected object of type SafeUrl, got '"+i+"' of type "+y(i)),"type_error:SafeUrl")}var Wx=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Xx=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,w_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function b_(i){if(i instanceof kn)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),w_.test(i))i=new kn(i,Fa);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(Xx);i=a&&Wx.test(a[1])?new kn(i,Fa):null}return i}function I_(i){return i instanceof kn?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),w_.test(i)||(i="about:invalid#zClosurez"),new kn(i,Fa))}var Fa={},E_=new kn("about:invalid#zClosurez",Fa);function gs(i,a,c){this.a=c===T_?i:""}gs.prototype.ta=!0,gs.prototype.sa=function(){return this.a.toString()},gs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Yx(i){return i instanceof gs&&i.constructor===gs?i.a:(Et("expected object of type SafeHtml, got '"+i+"' of type "+y(i)),"type_error:SafeHtml")}var T_={};function Qx(i,a){m_(i,"HTMLScriptElement"),i.src=y_(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=f?a=h(a.document):(g===null&&(g=h(f.document)),a=g),a&&i.setAttribute("nonce",a)}function S_(i,a,c,d){return i=i instanceof kn?i:I_(i),a=a||f,c=c instanceof Or?ld(c):c||"",a.open(Kc(i),c,d,void 0)}function A_(i,a){for(var c=i.split("%s"),d="",v=Array.prototype.slice.call(arguments,1);v.length&&1<c.length;)d+=c.shift()+v.shift();return d+c.join("%s")}function hd(i){return B.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(ie,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(Z,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(be,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(pe,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(N,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(O,"&#0;"))),i}function dd(i){return dd[" "](i),i}dd[" "]=m;function Jx(i,a){var c=nC;return Object.prototype.hasOwnProperty.call(c,i)?c[i]:c[i]=a(i)}var Zx=Se("Opera"),hr=Se("Trident")||Se("MSIE"),k_=Se("Edge"),eC=k_||hr,x_=Se("Gecko")&&!(W(ce.toLowerCase(),"webkit")&&!Se("Edge"))&&!(Se("Trident")||Se("MSIE"))&&!Se("Edge"),tC=W(ce.toLowerCase(),"webkit")&&!Se("Edge");function C_(){var i=f.document;return i?i.documentMode:void 0}var Gc;e:{var pd="",md=function(){var i=ce;if(x_)return/rv:([^\);]+)(\)|;)/.exec(i);if(k_)return/Edge\/([\d\.]+)/.exec(i);if(hr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(tC)return/WebKit\/(\S+)/.exec(i);if(Zx)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(md&&(pd=md?md[1]:""),hr){var gd=C_();if(gd!=null&&gd>parseFloat(pd)){Gc=String(gd);break e}}Gc=pd}var nC={};function N_(i){return Jx(i,function(){for(var a=0,c=te(String(Gc)).split("."),d=te(String(i)).split("."),v=Math.max(c.length,d.length),w=0;a==0&&w<v;w++){var b=c[w]||"",S=d[w]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],b[0].length==0&&S[0].length==0)break;a=de(b[1].length==0?0:parseInt(b[1],10),S[1].length==0?0:parseInt(S[1],10))||de(b[2].length==0,S[2].length==0)||de(b[2],S[2]),b=b[3],S=S[3]}while(a==0)}return 0<=a})}var vd;if(f.document&&hr){var O_=C_();vd=O_||parseInt(Gc,10)||void 0}else vd=void 0;var vi=vd;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var rC=!hr||9<=Number(vi);function Va(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function R_(i,a){Ge(a,function(c,d){c&&typeof c=="object"&&c.ta&&(c=c.sa()),d=="style"?i.style.cssText=c:d=="class"?i.className=c:d=="for"?i.htmlFor=c:P_.hasOwnProperty(d)?i.setAttribute(P_[d],c):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?i.setAttribute(d,c):i[d]=c})}var P_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function iC(i,a,c){var d=arguments,v=document,w=String(d[0]),b=d[1];if(!rC&&b&&(b.name||b.type)){if(w=["<",w],b.name&&w.push(' name="',hd(b.name),'"'),b.type){w.push(' type="',hd(b.type),'"');var S={};Qt(S,b),delete S.type,b=S}w.push(">"),w=w.join("")}return w=zc(v,w),b&&(typeof b=="string"?w.className=b:Array.isArray(b)?w.className=b.join(" "):R_(w,b)),2<d.length&&oC(v,w,d),w}function oC(i,a,c){function d(S){S&&a.appendChild(typeof S=="string"?i.createTextNode(S):S)}for(var v=2;v<c.length;v++){var w=c[v];if(!_(w)||E(w)&&0<w.nodeType)d(w);else{e:{if(w&&typeof w.length=="number"){if(E(w)){var b=typeof w.item=="function"||typeof w.item=="string";break e}if(I(w)){b=typeof w.item=="function";break e}}b=!1}K(b?se(w):w,d)}}}function zc(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function D_(i){f.setTimeout(function(){throw i},0)}var yd;function sC(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Se("Presto")&&(i=function(){var v=zc(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var w=v.contentWindow;v=w.document,v.open(),v.close();var b="callImmediate"+Math.random(),S=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;v=U(function(q){(S=="*"||q.origin==S)&&q.data==b&&this.port1.onmessage()},this),w.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(b,S)}}}),typeof i<"u"&&!Se("Trident")&&!Se("MSIE")){var a=new i,c={},d=c;return a.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var v=c.Hb;c.Hb=null,v()}},function(v){d.next={Hb:v},d=d.next,a.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function Wc(i,a){Xc||aC(),_d||(Xc(),_d=!0),L_.add(i,a)}var Xc;function aC(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);Xc=function(){i.then(M_)}}else Xc=function(){var a=M_;!I(f.setImmediate)||f.Window&&f.Window.prototype&&!Se("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(yd||(yd=sC()),yd(a)):f.setImmediate(a)}}var _d=!1,L_=new dt;function M_(){for(var i;i=ge();){try{i.a.call(i.b)}catch(a){D_(a)}Rt(Bn,i)}_d=!1}function Ke(i,a){if(this.a=co,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=m)try{var c=this;i.call(a,function(d){lo(c,Ua,d)},function(d){if(!(d instanceof vs))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}lo(c,Qr,d)})}catch(d){lo(this,Qr,d)}}var co=0,Ua=2,Qr=3;function F_(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}F_.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var V_=new Bt(function(){return new F_},function(i){i.reset()});function wd(i,a,c){var d=V_.get();return d.g=i,d.b=a,d.f=c,d}function Ee(i){if(i instanceof Ke)return i;var a=new Ke(m);return lo(a,Ua,i),a}function yt(i){return new Ke(function(a,c){c(i)})}function U_(i,a,c){$_(i,a,c,null)||Wc(ue(a,i))}function uC(i){return new Ke(function(a,c){var d=i.length,v=[];if(d)for(var w=function(Y,Le){d--,v[Y]=Le,d==0&&a(v)},b=function(Y){c(Y)},S=0,q;S<i.length;S++)q=i[S],U_(q,ue(w,S),b);else a(v)})}function j_(i){return new Ke(function(a){var c=i.length,d=[];if(c)for(var v=function(S,q,Y){c--,d[S]=q?{Qb:!0,value:Y}:{Qb:!1,reason:Y},c==0&&a(d)},w=0,b;w<i.length;w++)b=i[w],U_(b,ue(v,w,!0),ue(v,w,!1));else a(d)})}Ke.prototype.then=function(i,a,c){return q_(this,I(i)?i:null,I(a)?a:null,c)},Ke.prototype.$goog_Thenable=!0,e=Ke.prototype,e.oa=function(i,a){return i=wd(i,i,a),i.c=!0,bd(this,i),this},e.o=function(i,a){return q_(this,null,i,a)},e.cancel=function(i){if(this.a==co){var a=new vs(i);Wc(function(){B_(this,a)},this)}};function B_(i,a){if(i.a==co)if(i.c){var c=i.c;if(c.b){for(var d=0,v=null,w=null,b=c.b;b&&(b.c||(d++,b.a==i&&(v=b),!(v&&1<d)));b=b.next)v||(w=b);v&&(c.a==co&&d==1?B_(c,a):(w?(d=w,d.next==c.f&&(c.f=d),d.next=d.next.next):K_(c),G_(c,v,Qr,a)))}i.c=null}else lo(i,Qr,a)}function bd(i,a){i.b||i.a!=Ua&&i.a!=Qr||H_(i),i.f?i.f.next=a:i.b=a,i.f=a}function q_(i,a,c,d){var v=wd(null,null,null);return v.a=new Ke(function(w,b){v.g=a?function(S){try{var q=a.call(d,S);w(q)}catch(Y){b(Y)}}:w,v.b=c?function(S){try{var q=c.call(d,S);q===void 0&&S instanceof vs?b(S):w(q)}catch(Y){b(Y)}}:b}),v.a.c=i,bd(i,v),v.a}e.$c=function(i){this.a=co,lo(this,Ua,i)},e.ad=function(i){this.a=co,lo(this,Qr,i)};function lo(i,a,c){i.a==co&&(i===c&&(a=Qr,c=new TypeError("Promise cannot resolve to itself")),i.a=1,$_(c,i.$c,i.ad,i)||(i.i=c,i.a=a,i.c=null,H_(i),a!=Qr||c instanceof vs||lC(i,c)))}function $_(i,a,c,d){if(i instanceof Ke)return bd(i,wd(a||m,c||null,d)),!0;if(Ve(i))return i.then(a,c,d),!0;if(E(i))try{var v=i.then;if(I(v))return cC(i,v,a,c,d),!0}catch(w){return c.call(d,w),!0}return!1}function cC(i,a,c,d,v){function w(q){S||(S=!0,d.call(v,q))}function b(q){S||(S=!0,c.call(v,q))}var S=!1;try{a.call(i,b,w)}catch(q){w(q)}}function H_(i){i.h||(i.h=!0,Wc(i.gc,i))}function K_(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=K_(this);)G_(this,i,this.a,this.i);this.h=!1};function G_(i,a,c,d){if(c==Qr&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,z_(a,c,d);else try{a.c?a.g.call(a.f):z_(a,c,d)}catch(v){W_.call(null,v)}Rt(V_,a)}function z_(i,a,c){a==Ua?i.g.call(i.f,c):i.b&&i.b.call(i.f,c)}function lC(i,a){i.g=!0,Wc(function(){i.g&&W_.call(null,a)})}var W_=D_;function vs(i){ye.call(this,i)}V(vs,ye),vs.prototype.name="cancel";function Yc(){this.ya=this.ya,this.pa=this.pa}var fC=0;Yc.prototype.ya=!1;function X_(i){!i.ya&&(i.ya=!0,i.Da(),fC!=0)&&T(i)}Yc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var hC=Object.freeze||function(i){return i},Y_=!hr||9<=Number(vi),dC=hr&&!N_("9"),pC=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",m,a),f.removeEventListener("test",m,a)}catch{}return i}();function xn(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}xn.prototype.preventDefault=function(){this.defaultPrevented=!0};function fo(i,a){if(xn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var c=this.type=i.type,d=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if(x_){e:{try{dd(a.nodeName);var v=!0;break e}catch{}v=!1}v||(a=null)}}else c=="mouseover"?a=i.fromElement:c=="mouseout"&&(a=i.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:mC[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}V(fo,xn);var mC=hC({2:"touch",3:"pen",4:"mouse"});fo.prototype.preventDefault=function(){fo.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,dC)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},fo.prototype.g=function(){return this.a};var ja="closure_listenable_"+(1e6*Math.random()|0),gC=0;function vC(i,a,c,d,v){this.listener=i,this.proxy=null,this.src=a,this.type=c,this.capture=!!d,this.Wa=v,this.key=++gC,this.wa=this.Qa=!1}function Qc(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function Jc(i){this.src=i,this.a={},this.b=0}Jc.prototype.add=function(i,a,c,d,v){var w=i.toString();i=this.a[w],i||(i=this.a[w]=[],this.b++);var b=Ed(i,a,d,v);return-1<b?(a=i[b],c||(a.Qa=!1)):(a=new vC(a,this.src,w,!!d,v),a.Qa=c,i.push(a)),a};function Id(i,a){var c=a.type;c in i.a&&j(i.a[c],a)&&(Qc(a),i.a[c].length==0&&(delete i.a[c],i.b--))}function Ed(i,a,c,d){for(var v=0;v<i.length;++v){var w=i[v];if(!w.wa&&w.listener==a&&w.capture==!!c&&w.Wa==d)return v}return-1}var Td="closure_lm_"+(1e6*Math.random()|0),Sd={};function nr(i,a,c,d,v){if(d&&d.once)Ad(i,a,c,d,v);else if(Array.isArray(a))for(var w=0;w<a.length;w++)nr(i,a[w],c,d,v);else c=xd(c),i&&i[ja]?n0(i,a,c,E(d)?!!d.capture:!!d,v):Q_(i,a,c,!1,d,v)}function Q_(i,a,c,d,v,w){if(!a)throw Error("Invalid event type");var b=E(v)?!!v.capture:!!v,S=Zc(i);if(S||(i[Td]=S=new Jc(i)),c=S.add(a,c,d,b,w),!c.proxy)if(d=yC(),c.proxy=d,d.src=i,d.listener=c,i.addEventListener)pC||(v=b),v===void 0&&(v=!1),i.addEventListener(a.toString(),d,v);else if(i.attachEvent)i.attachEvent(Z_(a.toString()),d);else if(i.addListener&&i.removeListener)i.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function yC(){var i=_C,a=Y_?function(c){return i.call(a.src,a.listener,c)}:function(c){if(c=i.call(a.src,a.listener,c),!c)return c};return a}function Ad(i,a,c,d,v){if(Array.isArray(a))for(var w=0;w<a.length;w++)Ad(i,a[w],c,d,v);else c=xd(c),i&&i[ja]?Cd(i,a,c,E(d)?!!d.capture:!!d,v):Q_(i,a,c,!0,d,v)}function $n(i,a,c,d,v){if(Array.isArray(a))for(var w=0;w<a.length;w++)$n(i,a[w],c,d,v);else d=E(d)?!!d.capture:!!d,c=xd(c),i&&i[ja]?(i=i.v,a=String(a).toString(),a in i.a&&(w=i.a[a],c=Ed(w,c,d,v),-1<c&&(Qc(w[c]),Array.prototype.splice.call(w,c,1),w.length==0&&(delete i.a[a],i.b--)))):i&&(i=Zc(i))&&(a=i.a[a.toString()],i=-1,a&&(i=Ed(a,c,d,v)),(c=-1<i?a[i]:null)&&J_(c))}function J_(i){if(typeof i!="number"&&i&&!i.wa){var a=i.src;if(a&&a[ja])Id(a.v,i);else{var c=i.type,d=i.proxy;a.removeEventListener?a.removeEventListener(c,d,i.capture):a.detachEvent?a.detachEvent(Z_(c),d):a.addListener&&a.removeListener&&a.removeListener(d),(c=Zc(a))?(Id(c,i),c.b==0&&(c.src=null,a[Td]=null)):Qc(i)}}}function Z_(i){return i in Sd?Sd[i]:Sd[i]="on"+i}function e0(i,a,c,d){var v=!0;if((i=Zc(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var w=a[i];w&&w.capture==c&&!w.wa&&(w=t0(w,d),v=v&&w!==!1)}return v}function t0(i,a){var c=i.listener,d=i.Wa||i.src;return i.Qa&&J_(i),c.call(d,a)}function _C(i,a){if(i.wa)return!0;if(!Y_){if(!a)e:{a=["window","event"];for(var c=f,d=0;d<a.length;d++)if(c=c[a[d]],c==null){a=null;break e}a=c}if(d=a,a=new fo(d,this),c=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var v=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{v=!0}(v||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],v=a.b;v;v=v.parentNode)d.push(v);for(i=i.type,v=d.length-1;0<=v;v--){a.b=d[v];var w=e0(d[v],i,!0,a);c=c&&w}for(v=0;v<d.length;v++)a.b=d[v],w=e0(d[v],i,!1,a),c=c&&w}return c}return t0(i,new fo(a,this))}function Zc(i){return i=i[Td],i instanceof Jc?i:null}var kd="__closure_events_fn_"+(1e9*Math.random()>>>0);function xd(i){return I(i)?i:(i[kd]||(i[kd]=function(a){return i.handleEvent(a)}),i[kd])}function mn(){Yc.call(this),this.v=new Jc(this),this.bc=this,this.hb=null}V(mn,Yc),mn.prototype[ja]=!0,mn.prototype.addEventListener=function(i,a,c,d){nr(this,i,a,c,d)},mn.prototype.removeEventListener=function(i,a,c,d){$n(this,i,a,c,d)},mn.prototype.dispatchEvent=function(i){var a,c=this.hb;if(c)for(a=[];c;c=c.hb)a.push(c);c=this.bc;var d=i.type||i;if(typeof i=="string")i=new xn(i,c);else if(i instanceof xn)i.target=i.target||c;else{var v=i;i=new xn(d,c),Qt(i,v)}if(v=!0,a)for(var w=a.length-1;0<=w;w--){var b=i.b=a[w];v=el(b,d,!0,i)&&v}if(b=i.b=c,v=el(b,d,!0,i)&&v,v=el(b,d,!1,i)&&v,a)for(w=0;w<a.length;w++)b=i.b=a[w],v=el(b,d,!1,i)&&v;return v},mn.prototype.Da=function(){if(mn.bb.Da.call(this),this.v){var i=this.v,a;for(a in i.a){for(var c=i.a[a],d=0;d<c.length;d++)Qc(c[d]);delete i.a[a],i.b--}}this.hb=null};function n0(i,a,c,d,v){i.v.add(String(a),c,!1,d,v)}function Cd(i,a,c,d,v){i.v.add(String(a),c,!0,d,v)}function el(i,a,c,d){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var v=!0,w=0;w<a.length;++w){var b=a[w];if(b&&!b.wa&&b.capture==c){var S=b.listener,q=b.Wa||b.src;b.Qa&&Id(i.v,b),v=S.call(q,d)!==!1&&v}}return v&&!d.defaultPrevented}function Nd(i,a,c){if(I(i))c&&(i=U(i,c));else if(i&&typeof i.handleEvent=="function")i=U(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(i,a||0)}function ys(i){var a=null;return new Ke(function(c,d){a=Nd(function(){c(void 0)},i),a==-1&&d(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(a),c})}function r0(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(_(i)){for(var a=[],c=i.length,d=0;d<c;d++)a.push(i[d]);return a}a=[],c=0;for(d in i)a[c++]=i[d];return a}function i0(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(_(i)||typeof i=="string"){var a=[];i=i.length;for(var c=0;c<i;c++)a.push(c);return a}a=[],c=0;for(var d in i)a[c++]=d;return a}}function wC(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(_(i)||typeof i=="string")K(i,a,void 0);else for(var c=i0(i),d=r0(i),v=d.length,w=0;w<v;w++)a.call(void 0,d[w],c&&c[w],i)}function _s(i,a){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(i)if(i instanceof _s)for(c=i.Y(),d=0;d<c.length;d++)this.set(c[d],i.get(c[d]));else for(d in i)this.set(d,i[d])}e=_s.prototype,e.X=function(){Od(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return Od(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Od(i){if(i.c!=i.a.length){for(var a=0,c=0;a<i.a.length;){var d=i.a[a];ho(i.b,d)&&(i.a[c++]=d),a++}i.a.length=c}if(i.c!=i.a.length){var v={};for(c=a=0;a<i.a.length;)d=i.a[a],ho(v,d)||(i.a[c++]=d,v[d]=1),a++;i.a.length=c}}e.get=function(i,a){return ho(this.b,i)?this.b[i]:a},e.set=function(i,a){ho(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var c=this.Y(),d=0;d<c.length;d++){var v=c[d],w=this.get(v);i.call(a,w,v,this)}};function ho(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var o0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bC(i,a){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var d=i[c].indexOf("="),v=null;if(0<=d){var w=i[c].substring(0,d);v=i[c].substring(d+1)}else w=i[c];a(w,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function yi(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;i instanceof yi?(this.i=a!==void 0?a:i.i,Ba(this,i.c),this.l=i.l,this.a=i.a,qa(this,i.g),this.f=i.f,Rd(this,c0(i.b)),this.h=i.h):i&&(c=String(i).match(o0))?(this.i=!!a,Ba(this,c[1]||"",!0),this.l=$a(c[2]||""),this.a=$a(c[3]||"",!0),qa(this,c[4]),this.f=$a(c[5]||"",!0),Rd(this,c[6]||"",!0),this.h=$a(c[7]||"")):(this.i=!!a,this.b=new po(null,this.i))}yi.prototype.toString=function(){var i=[],a=this.c;a&&i.push(Ha(a,s0,!0),":");var c=this.a;return(c||a=="file")&&(i.push("//"),(a=this.l)&&i.push(Ha(a,s0,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&i.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&i.push("/"),i.push(Ha(c,c.charAt(0)=="/"?TC:EC,!0))),(c=this.b.toString())&&i.push("?",c),(c=this.h)&&i.push("#",Ha(c,AC)),i.join("")},yi.prototype.resolve=function(i){var a=new yi(this),c=!!i.c;c?Ba(a,i.c):c=!!i.l,c?a.l=i.l:c=!!i.a,c?a.a=i.a:c=i.g!=null;var d=i.f;if(c)qa(a,i.g);else if(c=!!i.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var v=a.f.lastIndexOf("/");v!=-1&&(d=a.f.substr(0,v+1)+d)}if(v=d,v==".."||v==".")d="";else if(W(v,"./")||W(v,"/.")){d=v.lastIndexOf("/",0)==0,v=v.split("/");for(var w=[],b=0;b<v.length;){var S=v[b++];S=="."?d&&b==v.length&&w.push(""):S==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&b==v.length&&w.push("")):(w.push(S),d=!0)}d=w.join("/")}else d=v}return c?a.f=d:c=i.b.toString()!=="",c?Rd(a,c0(i.b)):c=!!i.h,c&&(a.h=i.h),a};function Ba(i,a,c){i.c=c?$a(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function qa(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function Rd(i,a,c){a instanceof po?(i.b=a,kC(i.b,i.i)):(c||(a=Ha(a,SC)),i.b=new po(a,i.i))}function xt(i,a,c){i.b.set(a,c)}function rr(i,a){return i.b.get(a)}function Cn(i){return i instanceof yi?new yi(i):new yi(i,void 0)}function tl(i,a,c,d){var v=new yi(null,void 0);return i&&Ba(v,i),a&&(v.a=a),c&&qa(v,c),d&&(v.f=d),v}function $a(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ha(i,a,c){return typeof i=="string"?(i=encodeURI(i).replace(a,IC),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function IC(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var s0=/[#\/\?@]/g,EC=/[#\?:]/g,TC=/[#\?]/g,SC=/[#\?@]/g,AC=/#/g;function po(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function _i(i){i.a||(i.a=new _s,i.b=0,i.c&&bC(i.c,function(a,c){i.add(decodeURIComponent(a.replace(/\+/g," ")),c)}))}function a0(i){var a=i0(i);if(typeof a>"u")throw Error("Keys are undefined");var c=new po(null,void 0);i=r0(i);for(var d=0;d<a.length;d++){var v=a[d],w=i[d];Array.isArray(w)?u0(c,v,w):c.add(v,w)}return c}e=po.prototype,e.add=function(i,a){_i(this),this.c=null,i=ws(this,i);var c=this.a.get(i);return c||this.a.set(i,c=[]),c.push(a),this.b+=1,this};function Rr(i,a){_i(i),a=ws(i,a),ho(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,ho(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&Od(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function Pd(i,a){return _i(i),a=ws(i,a),ho(i.a.b,a)}e.forEach=function(i,a){_i(this),this.a.forEach(function(c,d){K(c,function(v){i.call(a,v,d,this)},this)},this)},e.Y=function(){_i(this);for(var i=this.a.X(),a=this.a.Y(),c=[],d=0;d<a.length;d++)for(var v=i[d],w=0;w<v.length;w++)c.push(a[d]);return c},e.X=function(i){_i(this);var a=[];if(typeof i=="string")Pd(this,i)&&(a=Q(a,this.a.get(ws(this,i))));else{i=this.a.X();for(var c=0;c<i.length;c++)a=Q(a,i[c])}return a},e.set=function(i,a){return _i(this),this.c=null,i=ws(this,i),Pd(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.X(i),0<i.length?String(i[0]):a):a};function u0(i,a,c){Rr(i,a),0<c.length&&(i.c=null,i.a.set(ws(i,a),se(c)),i.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),c=0;c<a.length;c++){var d=a[c],v=encodeURIComponent(String(d));d=this.X(d);for(var w=0;w<d.length;w++){var b=v;d[w]!==""&&(b+="="+encodeURIComponent(String(d[w]))),i.push(b)}}return this.c=i.join("&")};function c0(i){var a=new po;return a.c=i.c,i.a&&(a.a=new _s(i.a),a.b=i.b),a}function ws(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function kC(i,a){a&&!i.f&&(_i(i),i.c=null,i.a.forEach(function(c,d){var v=d.toLowerCase();d!=v&&(Rr(this,d),u0(this,v,c))},i)),i.f=a}function l0(i){var a=[];return Dd(new xC,i,a),a.join("")}function xC(){}function Dd(i,a,c){if(a==null)c.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var d=a;a=d.length,c.push("[");for(var v="",w=0;w<a;w++)c.push(v),Dd(i,d[w],c),v=",";c.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{c.push("{"),v="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(w=a[d],typeof w!="function"&&(c.push(v),h0(d,c),c.push(":"),Dd(i,w,c),v=","));c.push("}");return}}switch(typeof a){case"string":h0(a,c);break;case"number":c.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":c.push(String(a));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var f0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},CC=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function h0(i,a){a.push('"',i.replace(CC,function(c){var d=f0[c];return d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),f0[c]=d),d}),'"')}function Ld(){var i=Jt();return hr&&!!vi&&vi==11||/Edge\/\d+/.test(i)}function Ka(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function d0(i,a){a=a||f.window;var c="about:blank";i&&(c=Kc(b_(i)||E_)),a.location.href=c}function p0(i,a){var c=[],d;for(d in i)d in a?typeof i[d]!=typeof a[d]?c.push(d):typeof i[d]=="object"&&i[d]!=null&&a[d]!=null?0<p0(i[d],a[d]).length&&c.push(d):i[d]!==a[d]&&c.push(d):c.push(d);for(d in a)d in i||c.push(d);return c}function NC(){var i=Jt();return i=bs(i)!=y0?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!hr||!vi||9<vi}function m0(i){return i=(i||Jt()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function mo(i){i=i||f.window;try{i.close()}catch{}}function g0(i,a,c){var d=Math.floor(1e9*Math.random()).toString();a=a||500,c=c||600;var v=(window.screen.availHeight-c)/2,w=(window.screen.availWidth-a)/2;a={width:a,height:c,top:0<v?v:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Jt().toLowerCase(),d&&(a.target=d,W(c,"crios/")&&(a.target="_blank")),bs(Jt())==Vd&&(i=i||"http://localhost",a.scrollbars=!0),c=i||"",(i=a)||(i={}),d=window,a=c instanceof kn?c:b_(typeof c.href<"u"?c.href:String(c))||E_,c=i.target||c.target,v=[];for(b in i)switch(b){case"width":case"height":case"top":case"left":v.push(b+"="+i[b]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(b+"="+(i[b]?1:0))}var b=v.join(",");if((Se("iPhone")&&!Se("iPod")&&!Se("iPad")||Se("iPad")||Se("iPod"))&&d.navigator&&d.navigator.standalone&&c&&c!="_self"?(b=zc(document,"A"),m_(b,"HTMLAnchorElement"),a=a instanceof kn?a:I_(a),b.href=Kc(a),b.setAttribute("target",c),i.noreferrer&&b.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,d,1),b.dispatchEvent(i),b={}):i.noreferrer?(b=S_("",d,c,b),i=Kc(a),b&&(eC&&W(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),b.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+hd(i)+'">',i=(d=v_())?d.createHTML(i):i,i=new gs(i,null,T_),d=b.document)&&(d.write(Yx(i)),d.close())):(b=S_(a,d,c,b))&&i.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function OC(i){return new Ke(function(a){function c(){ys(2e3).then(function(){if(!i||i.closed)a();else return c()})}return c()})}var RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PC=/^[^@]+@[^@]+$/;function nl(){var i=null;return new Ke(function(a){f.document.readyState=="complete"?a():(i=function(){a()},Ad(window,"load",i))}).o(function(a){throw $n(window,"load",i),a})}function DC(){return Md(void 0)?nl().then(function(){return new Ke(function(i,a){var c=f.document,d=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(d),i()},!1)})}):yt(Error("Cordova must run in an Android or iOS file scheme."))}function Md(i){return i=i||Jt(),!(Es()!=="file:"&&Es()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fd(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function dr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Pr(){return xe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":xe.INTERNAL.hasOwnProperty("node")?"Node":dr()?"Worker":"Browser"}function v0(){var i=Pr();return i==="ReactNative"||i==="Node"}function LC(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var Vd="Firefox",y0="Chrome";function bs(i){var a=i.toLowerCase();if(W(a,"opera/")||W(a,"opr/")||W(a,"opios/"))return"Opera";if(W(a,"iemobile"))return"IEMobile";if(W(a,"msie")||W(a,"trident/"))return"IE";if(W(a,"edge/"))return"Edge";if(W(a,"firefox/"))return Vd;if(W(a,"silk/"))return"Silk";if(W(a,"blackberry"))return"Blackberry";if(W(a,"webos"))return"Webos";if(!W(a,"safari/")||W(a,"chrome/")||W(a,"crios/")||W(a,"android"))if(!W(a,"chrome/")&&!W(a,"crios/")||W(a,"edge/")){if(W(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return y0;else return"Safari";return"Other"}var _0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Is(i,a){a=a||[];var c=[],d={},v;for(v in _0)d[_0[v]]=!0;for(v=0;v<a.length;v++)typeof d[a[v]]<"u"&&(delete d[a[v]],c.push(a[v]));return c.sort(),a=c,a.length||(a=["FirebaseCore-web"]),c=Pr(),c==="Browser"?(d=Jt(),c=bs(d)):c==="Worker"&&(d=Jt(),c=bs(d)+"-"+c),c+"/JsCore/"+i+"/"+a.join(",")}function Jt(){return f.navigator&&f.navigator.userAgent||""}function _t(i,a){i=i.split("."),a=a||f;for(var c=0;c<i.length&&typeof a=="object"&&a!=null;c++)a=a[i[c]];return c!=i.length&&(a=void 0),a}function Ud(){try{var i=f.localStorage,a=vo();if(i)return i.setItem(a,"1"),i.removeItem(a),Ld()?!!f.indexedDB:!0}catch{return dr()&&!!f.indexedDB}return!1}function go(){return(rl()||Es()==="chrome-extension:"||Md())&&!v0()&&Ud()&&!dr()}function rl(){return Es()==="http:"||Es()==="https:"}function Es(){return f.location&&f.location.protocol||null}function Ga(i){return i=i||Jt(),!(m0(i)||bs(i)==Vd)}function za(i){return typeof i>"u"?null:l0(i)}function w0(i){var a={},c;for(c in i)i.hasOwnProperty(c)&&i[c]!==null&&i[c]!==void 0&&(a[c]=i[c]);return a}function Ts(i){if(i!==null)return JSON.parse(i)}function vo(i){return i||Math.floor(1e9*Math.random()).toString()}function b0(i){return i=i||Jt(),!(bs(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function I0(){var i=f.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var c=0;c<i.CP.length;c++)i.CP[c]=null}}function wi(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=Jt(),a=Pr(),this.b=m0(i)||a==="ReactNative"}wi.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(rl()||Es()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function jd(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function MC(){var i=f.document,a=null;return jd()||!i?Ee():new Ke(function(c){a=function(){jd()&&(i.removeEventListener("visibilitychange",a,!1),c())},i.addEventListener("visibilitychange",a,!1)}).o(function(c){throw i.removeEventListener("visibilitychange",a,!1),c})}function Wa(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch{}return null}function E0(){return!(!_t("fireauth.oauthhelper",f)&&!_t("fireauth.iframe",f))}function FC(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function VC(){var i=f.navigator;return i&&i.serviceWorker?Ee().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Ee(null)}var T0={};function Bd(i){T0[i]||(T0[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var qd;try{var $d={};Object.defineProperty($d,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($d,"abcd",{configurable:!0,enumerable:!0,value:2}),qd=$d.abcd==2}catch{qd=!1}function ve(i,a,c){qd?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:c}):i[a]=c}function gn(i,a){if(a)for(var c in a)a.hasOwnProperty(c)&&ve(i,c,a[c])}function Dr(i){var a={};return gn(a,i),a}function UC(i){var a={},c;for(c in i)i.hasOwnProperty(c)&&(a[c]=i[c]);return a}function jC(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var c=0;c<a.length;c++){var d=i[a[c]];if(d==null||d==="")return!1}return!0}function Hd(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var c in i)ve(a,c,Hd(i[c]))}return a}function Kd(i){var a=i&&(i[Xd]?"phone":null);if(a&&i&&i[Wd]){ve(this,"uid",i[Wd]),ve(this,"displayName",i[S0]||null);var c=null;i[zd]&&(c=new Date(i[zd]).toUTCString()),ve(this,"enrollmentTime",c),ve(this,"factorId",a)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}Kd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Gd(i){try{var a=new Xa(i)}catch{a=null}return a}var S0="displayName",zd="enrolledAt",Wd="mfaEnrollmentId",Xd="phoneInfo";function Xa(i){Kd.call(this,i),ve(this,"phoneNumber",i[Xd])}V(Xa,Kd),Xa.prototype.w=function(){var i=Xa.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function BC(i){var a={},c=i[qC],d=i[HC],v=i[KC];if(i=Gd(i[$C]),!v||v!=il&&v!=Ya&&!c||v==Ya&&!d||v==Yd&&!i)throw Error("Invalid checkActionCode response!");v==Ya?(a[k0]=c||null,a[x0]=c||null,a[A0]=d):(a[k0]=d||null,a[x0]=d||null,a[A0]=c||null),a[GC]=i||null,ve(this,WC,v),ve(this,zC,Hd(a))}var Yd="REVERT_SECOND_FACTOR_ADDITION",il="EMAIL_SIGNIN",Ya="VERIFY_AND_CHANGE_EMAIL",qC="email",$C="mfaInfo",HC="newEmail",KC="requestType",A0="email",k0="fromEmail",GC="multiFactorInfo",x0="previousEmail",zC="data",WC="operation";function Qd(i){i=Cn(i);var a=rr(i,C0)||null,c=rr(i,N0)||null,d=rr(i,O0)||null;if(d=d&&JC[d]||null,!a||!c||!d)throw new k("argument-error",C0+", "+N0+"and "+O0+" are required in a valid action code URL.");gn(this,{apiKey:a,operation:d,code:c,continueUrl:rr(i,XC)||null,languageCode:rr(i,YC)||null,tenantId:rr(i,QC)||null})}var C0="apiKey",N0="oobCode",XC="continueUrl",YC="languageCode",O0="mode",QC="tenantId",JC={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Yd,signIn:il,verifyAndChangeEmail:Ya,verifyEmail:"VERIFY_EMAIL"};function R0(i){try{return new Qd(i)}catch{return null}}function ol(i){var a=i[ZC];if(typeof a>"u")throw new k("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new k("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var c=i[P0];if(c&&typeof c=="object"){a=c[V0];var d=c[M0];if(c=c[F0],typeof a=="string"&&a.length){if(this.a=a,typeof d<"u"&&typeof d!="boolean")throw new k("argument-error",M0+" property must be a boolean when specified.");if(this.g=!!d,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new k("argument-error",F0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof a<"u")throw new k("argument-error",V0+" property must be a non empty string when specified.");if(typeof d<"u"||typeof c<"u")throw new k("missing-android-pkg-name")}}else if(typeof c<"u")throw new k("argument-error",P0+" property must be a non null object when specified.");if(this.f=null,(a=i[L0])&&typeof a=="object"){if(a=a[U0],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new k("argument-error",U0+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new k("argument-error",L0+" property must be a non null object when specified.");if(a=i[Jd],typeof a<"u"&&typeof a!="boolean")throw new k("argument-error",Jd+" property must be a boolean when specified.");if(this.c=!!a,i=i[D0],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new k("argument-error",D0+" property must be a non empty string when specified.");this.i=i||null}var P0="android",D0="dynamicLinkDomain",Jd="handleCodeInApp",L0="iOS",ZC="url",M0="installApp",F0="minimumVersion",V0="packageName",U0="bundleId";function sl(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var c in a)a[c]===null&&delete a[c];return a}function eN(i){return Oe(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var Qa=null;function tN(i){var a=[];return nN(i,function(c){a.push(c)}),a}function nN(i,a){function c(q){for(;d<i.length;){var Y=i.charAt(d++),Le=Qa[Y];if(Le!=null)return Le;if(!/^[\s\xa0]*$/.test(Y))throw Error("Unknown base64 encoding at char: "+Y)}return q}rN();for(var d=0;;){var v=c(-1),w=c(0),b=c(64),S=c(64);if(S===64&&v===-1)break;a(v<<2|w>>4),b!=64&&(a(w<<4&240|b>>2),S!=64&&a(b<<6&192|S))}}function rN(){if(!Qa){Qa={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=i.concat(a[c].split("")),v=0;v<d.length;v++){var w=d[v];Qa[w]===void 0&&(Qa[w]=v)}}}function al(i){var a=j0(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}al.prototype.T=function(){return this.f},al.prototype.l=function(){return this.c},al.prototype.toString=function(){return this.h};function ul(i){try{return new al(i)}catch{return null}}function j0(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,c=0;c<a;c++)i+=".";try{var d=tN(i);for(i=[],c=a=0;a<d.length;){var v=d[a++];if(128>v)i[c++]=String.fromCharCode(v);else if(191<v&&224>v){var w=d[a++];i[c++]=String.fromCharCode((v&31)<<6|w&63)}else if(239<v&&365>v){w=d[a++];var b=d[a++],S=d[a++],q=((v&7)<<18|(w&63)<<12|(b&63)<<6|S&63)-65536;i[c++]=String.fromCharCode(55296+(q>>10)),i[c++]=String.fromCharCode(56320+(q&1023))}else w=d[a++],b=d[a++],i[c++]=String.fromCharCode((v&15)<<12|(w&63)<<6|b&63)}return JSON.parse(i.join(""))}catch{}return null}var B0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),cl=["client_id","response_type","scope","redirect_uri","state"],Zd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:cl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:cl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:cl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:B0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function ep(i){for(var a in Zd)if(Zd[a].fa==i)return Zd[a];return null}function q0(i){var a={};a["facebook.com"]=H0,a["google.com"]=G0,a["github.com"]=K0,a["twitter.com"]=z0;var c=i&&i[$0];try{if(c)return a[c]?new a[c](i):new Lr(i);if(typeof i[tp]<"u")return new np(i)}catch{}return null}var tp="idToken",$0="providerId";function np(i){var a=i[$0];if(!a&&i[tp]){var c=ul(i[tp]);c&&c.b&&(a=c.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),c=!1,typeof i.isNewUser<"u"?c=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),ve(this,"providerId",a),ve(this,"isNewUser",c)}function Lr(i){np.call(this,i),i=Ts(i.rawUserInfo||"{}"),ve(this,"profile",Hd(i||{}))}V(Lr,np);function H0(i){if(Lr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}V(H0,Lr);function K0(i){if(Lr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");ve(this,"username",this.profile&&this.profile.login||null)}V(K0,Lr);function G0(i){if(Lr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}V(G0,Lr);function z0(i){if(Lr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ve(this,"username",i.screenName||null)}V(z0,Lr);function W0(i){var a=Cn(i),c=rr(a,"link"),d=rr(Cn(c),"link");return a=rr(a,"deep_link_id"),rr(Cn(a),"link")||a||d||c||i}function ll(i,a){if(!i&&!a)throw new k("internal-error","Internal assert: no raw session string available");if(i&&a)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?Ja:fl}var Ja="enroll",fl="signin";ll.prototype.Ha=function(){return this.a?Ee(this.a):Ee(this.b)},ll.prototype.w=function(){return this.type==Ja?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Ss(){}Ss.prototype.ka=function(){},Ss.prototype.b=function(){},Ss.prototype.c=function(){},Ss.prototype.w=function(){};function As(i,a){return i.then(function(c){if(c[gr]){var d=ul(c[gr]);if(!d||a!=d.i)throw new k("user-mismatch");return c}throw new k("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==oe+"user-not-found"?new k("user-mismatch"):c})}function yo(i,a){if(a)this.a=a;else throw new k("internal-error","failed to construct a credential");ve(this,"providerId",i),ve(this,"signInMethod",i)}yo.prototype.ka=function(i){return Ap(i,rp(this))},yo.prototype.b=function(i,a){var c=rp(this);return c.idToken=a,kp(i,c)},yo.prototype.c=function(i,a){return As(xp(i,rp(this)),a)};function rp(i){return{pendingToken:i.a,requestUri:"http://localhost"}}yo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function iN(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new yo(i.providerId,i.pendingToken)}catch{}return null}function Jr(i,a,c){if(this.a=null,a.idToken||a.accessToken)a.idToken&&ve(this,"idToken",a.idToken),a.accessToken&&ve(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&ve(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)ve(this,"accessToken",a.oauthToken),ve(this,"secret",a.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");ve(this,"providerId",i),ve(this,"signInMethod",c)}Jr.prototype.ka=function(i){return Ap(i,ip(this))},Jr.prototype.b=function(i,a){var c=ip(this);return c.idToken=a,kp(i,c)},Jr.prototype.c=function(i,a){var c=ip(this);return As(xp(i,c),a)};function ip(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:a0(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}Jr.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function oN(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new Jr(i.providerId,a,i.signInMethod)}catch{}}return null}function _o(i,a){this.Qc=a||[],gn(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(ep(i)||{}).Ja||null,this.pb=null}_o.prototype.Ka=function(i){return this.Jb=st(i),this};function X0(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');_o.call(this,i,[])}V(X0,_o);function Hn(i){_o.call(this,i,cl),this.a=[]}V(Hn,_o),Hn.prototype.Ca=function(i){return R(this.a,i)||this.a.push(i),this},Hn.prototype.Rb=function(){return se(this.a)},Hn.prototype.credential=function(i,a){var c;if(E(i)?c={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:c={idToken:i||null,accessToken:a||null},!c.idToken&&!c.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new Jr(this.providerId,c,this.providerId)};function wo(){Hn.call(this,"facebook.com")}V(wo,Hn),ve(wo,"PROVIDER_ID","facebook.com"),ve(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Y0(i){if(!i)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return E(i)&&(a=i.accessToken),new wo().credential({accessToken:a})}function bo(){Hn.call(this,"github.com")}V(bo,Hn),ve(bo,"PROVIDER_ID","github.com"),ve(bo,"GITHUB_SIGN_IN_METHOD","github.com");function Q0(i){if(!i)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return E(i)&&(a=i.accessToken),new bo().credential({accessToken:a})}function Io(){Hn.call(this,"google.com"),this.Ca("profile")}V(Io,Hn),ve(Io,"PROVIDER_ID","google.com"),ve(Io,"GOOGLE_SIGN_IN_METHOD","google.com");function J0(i,a){var c=i;return E(i)&&(c=i.idToken,a=i.accessToken),new Io().credential({idToken:c,accessToken:a})}function ks(){_o.call(this,"twitter.com",B0)}V(ks,_o),ve(ks,"PROVIDER_ID","twitter.com"),ve(ks,"TWITTER_SIGN_IN_METHOD","twitter.com");function Z0(i,a){var c=i;if(E(c)||(c={oauthToken:i,oauthTokenSecret:a}),!c.oauthToken||!c.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Jr("twitter.com",c,"twitter.com")}function bi(i,a,c){this.a=i,this.f=a,ve(this,"providerId","password"),ve(this,"signInMethod",c===ir.EMAIL_LINK_SIGN_IN_METHOD?ir.EMAIL_LINK_SIGN_IN_METHOD:ir.EMAIL_PASSWORD_SIGN_IN_METHOD)}bi.prototype.ka=function(i){return this.signInMethod==ir.EMAIL_LINK_SIGN_IN_METHOD?ze(i,$N,{email:this.a,oobCode:this.f}):ze(i,kw,{email:this.a,password:this.f})},bi.prototype.b=function(i,a){return this.signInMethod==ir.EMAIL_LINK_SIGN_IN_METHOD?ze(i,HN,{idToken:a,email:this.a,oobCode:this.f}):ze(i,Aw,{idToken:a,email:this.a,password:this.f})},bi.prototype.c=function(i,a){return As(this.ka(i),a)},bi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function sN(i){return i&&i.email&&i.password?new bi(i.email,i.password,i.signInMethod):null}function ir(){gn(this,{providerId:"password",isOAuthProvider:!1})}function ew(i,a){if(a=op(a),!a)throw new k("argument-error","Invalid email link!");return new bi(i,a.code,ir.EMAIL_LINK_SIGN_IN_METHOD)}function op(i){return i=W0(i),(i=R0(i))&&i.operation===il?i:null}gn(ir,{PROVIDER_ID:"password"}),gn(ir,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),gn(ir,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Ii(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new k("internal-error");this.a=i,ve(this,"providerId","phone"),this.fa="phone",ve(this,"signInMethod","phone")}Ii.prototype.ka=function(i){return i.gb(Za(this))},Ii.prototype.b=function(i,a){var c=Za(this);return c.idToken=a,ze(i,lO,c)},Ii.prototype.c=function(i,a){var c=Za(this);return c.operation="REAUTH",i=ze(i,fO,c),As(i,a)},Ii.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function aN(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){i[c]&&(a[c]=i[c])}),new Ii(a)}return null}function Za(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function Zr(i){try{this.a=i||xe.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}gn(this,{providerId:"phone",isOAuthProvider:!1})}Zr.prototype.gb=function(i,a){var c=this.a.a;return Ee(a.verify()).then(function(d){if(typeof d!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var v=E(i)?i.session:null,w=E(i)?i.phoneNumber:i,b;return v&&v.type==Ja?b=v.Ha().then(function(S){return DN(c,{idToken:S,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:d}})}):v&&v.type==fl?b=v.Ha().then(function(S){return LN(c,{mfaPendingCredential:S,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):b=PN(c,{phoneNumber:w,recaptchaToken:d}),b.then(function(S){return typeof a.reset=="function"&&a.reset(),S},function(S){throw typeof a.reset=="function"&&a.reset(),S});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function tw(i,a){if(!i)throw new k("missing-verification-id");if(!a)throw new k("missing-verification-code");return new Ii({fb:i,eb:a})}gn(Zr,{PROVIDER_ID:"phone"}),gn(Zr,{PHONE_SIGN_IN_METHOD:"phone"});function sp(i){if(i.temporaryProof&&i.phoneNumber)return new Ii({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var c=i&&i.oauthAccessToken,d=i&&i.oauthTokenSecret,v=i&&i.nonce,w=i&&i.oauthIdToken,b=i&&i.pendingToken;try{switch(a){case"google.com":return J0(w,c);case"facebook.com":return Y0(c);case"github.com":return Q0(c);case"twitter.com":return Z0(c,d);default:return c||d||w||b?b?a.indexOf("saml.")==0?new yo(a,b):new Jr(a,{pendingToken:b,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new Hn(a).credential({idToken:w,accessToken:c,rawNonce:v}):null}}catch{return null}}function ap(i){if(!i.isOAuthProvider)throw new k("invalid-oauth-provider")}function pr(i,a,c,d,v,w,b){if(this.c=i,this.b=a||null,this.g=c||null,this.f=d||null,this.i=w||null,this.h=b||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}pr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},pr.prototype.T=function(){return this.h},pr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function nw(i){return i=i||{},i.type?new pr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Ne(i.error),i.postBody,i.tenantId):null}function uN(){this.b=null,this.a=[]}var up=null;function cN(i){var a=up;a.a.push(i),a.b||(a.b=function(c){for(var d=0;d<a.a.length;d++)a.a[d](c)},i=_t("universalLinks.subscribe",f),typeof i=="function"&&i(null,a.b))}function cp(i){var a="unauthorized-domain",c=void 0,d=Cn(i);i=d.a,d=d.c,d=="chrome-extension"?c=A_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):d=="http"||d=="https"?c=A_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",k.call(this,a,c)}V(cp,k);function eu(i,a,c){k.call(this,i,c),i=a||{},i.Kb&&ve(this,"email",i.Kb),i.ea&&ve(this,"phoneNumber",i.ea),i.credential&&ve(this,"credential",i.credential),i.$b&&ve(this,"tenantId",i.$b)}V(eu,k),eu.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&Qt(i,a),i},eu.prototype.toJSON=function(){return this.w()};function hl(i){if(i.code){var a=i.code||"";a.indexOf(oe)==0&&(a=a.substring(oe.length));var c={credential:sp(i),$b:i.tenantId};if(i.email)c.Kb=i.email;else if(i.phoneNumber)c.ea=i.phoneNumber;else if(!c.credential)return new k(a,i.message||void 0);return new eu(a,c,i.message)}return null}function tu(){}tu.prototype.c=null;function rw(i){return i.c||(i.c=i.b())}var lp;function dl(){}V(dl,tu),dl.prototype.a=function(){var i=iw(this);return i?new ActiveXObject(i):new XMLHttpRequest},dl.prototype.b=function(){var i={};return iw(this)&&(i[0]=!0,i[1]=!0),i};function iw(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<a.length;c++){var d=a[c];try{return new ActiveXObject(d),i.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}lp=new dl;function pl(){}V(pl,tu),pl.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new ow;throw Error("Unsupported browser")},pl.prototype.b=function(){return{}};function ow(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=U(this.qc,this),this.a.onerror=U(this.Tb,this),this.a.onprogress=U(this.rc,this),this.a.ontimeout=U(this.vc,this)}e=ow.prototype,e.open=function(i,a,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,fp(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",fp(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,fp(this,1)};function fp(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function hp(i,a,c){this.reset(i,a,c,void 0,void 0)}hp.prototype.a=null,hp.prototype.reset=function(i,a,c,d,v){delete this.a};function dp(i){this.f=i,this.b=this.c=this.a=null}function nu(i,a){this.name=i,this.value=a}nu.prototype.toString=function(){return this.name};var sw=new nu("SEVERE",1e3),pp=new nu("WARNING",900),lN=new nu("CONFIG",700),fN=new nu("FINE",500);function aw(i){return i.c?i.c:i.a?aw(i.a):(Et("Root logger has no level set."),null)}dp.prototype.log=function(i,a,c){if(i.value>=aw(this).value)for(I(a)&&(a=a()),i=new hp(i,String(a),this.f),c&&(i.a=c),c=this;c;)c=c.a};var mp={},ml=null;function gp(i){ml||(ml=new dp(""),mp[""]=ml,ml.c=lN);var a;if(!(a=mp[i])){a=new dp(i);var c=i.lastIndexOf("."),d=i.substr(c+1);c=gp(i.substr(0,c)),c.b||(c.b={}),c.b[d]=a,a.a=c,mp[i]=a}return a}function or(i,a){i&&i.log(fN,a,void 0)}function gl(i){this.f=i}V(gl,tu),gl.prototype.a=function(){return new vl(this.f)},gl.prototype.b=function(i){return function(){return i}}({});function vl(i){mn.call(this),this.u=i,this.h=void 0,this.readyState=vp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=gp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}V(vl,mn);var vp=0;e=vl.prototype,e.open=function(i,a){if(this.readyState!=vp)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,iu(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,ru(this)),this.readyState=vp},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,iu(this)),this.a&&(this.readyState=3,iu(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,uw(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function uw(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?ru(this):iu(this),this.readyState==3&&uw(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,ru(this))},e.sc=function(i){this.a&&(this.response=i,ru(this))},e.Va=function(i){var a=this.i;a&&a.log(pp,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&ru(this)};function ru(i){i.readyState=4,i.g=null,i.c=null,i.m=null,iu(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(pp,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(pp,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),c=a.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=a.next();return i.join(`\r
`)};function iu(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(vl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function ou(i){mn.call(this),this.headers=new _s,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=cw,this.u=this.S=!1}V(ou,mn);var cw="";ou.prototype.b=gp("goog.net.XhrIo");var hN=/^https?$/i,dN=["POST","PUT"];function pN(i,a,c,d,v){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);c=c?c.toUpperCase():"GET",i.l=a,i.h="",i.P=c,i.J=!1,i.c=!0,i.a=i.D?i.D.a():lp.a(),i.C=i.D?rw(i.D):rw(lp),i.a.onreadystatechange=U(i.Wb,i);try{or(i.b,ei(i,"Opening Xhr")),i.N=!0,i.a.open(c,String(a),!0),i.N=!1}catch(b){or(i.b,ei(i,"Error opening Xhr: "+b.message)),lw(i,b);return}a=d||"";var w=new _s(i.headers);v&&wC(v,function(b,S){w.set(S,b)}),v=x(w.Y()),d=f.FormData&&a instanceof f.FormData,!R(dN,c)||v||d||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(b,S){this.a.setRequestHeader(S,b)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{dw(i),0<i.g&&(i.u=mN(i.a),or(i.b,ei(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=U(i.Ma,i)):i.s=Nd(i.Ma,i.g,i)),or(i.b,ei(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(b){or(i.b,ei(i,"Send error: "+b.message)),lw(i,b)}}function mN(i){return hr&&N_(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function gN(i){return i.toLowerCase()=="content-type"}e=ou.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",or(this.b,ei(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function lw(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,fw(i),yl(i)}function fw(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(or(this.b,ei(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),yl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),yl(this,!0)),ou.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?hw(this):this.Jc())},e.Jc=function(){hw(this)};function hw(i){if(i.c&&typeof l<"u"){if(i.C[1]&&su(i)==4&&_l(i)==2)or(i.b,ei(i,"Local request error detected and ignored"));else if(i.i&&su(i)==4)Nd(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),su(i)==4){or(i.b,ei(i,"Request complete")),i.c=!1;try{var a=_l(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var v;if(v=a===0){var w=String(i.l).match(o0)[1]||null;if(!w&&f.self&&f.self.location){var b=f.self.location.protocol;w=b.substr(0,b.length-1)}v=!hN.test(w?w.toLowerCase():"")}d=v}if(d)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var S=2<su(i)?i.a.statusText:""}catch(q){or(i.b,"Can not get status: "+q.message),S=""}i.h=S+" ["+_l(i)+"]",fw(i)}}finally{yl(i)}}}}function yl(i,a){if(i.a){dw(i);var c=i.a,d=i.C[0]?m:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{c.onreadystatechange=d}catch(v){(i=i.b)&&i.log(sw,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function dw(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function su(i){return i.a?i.a.readyState:0}function _l(i){try{return 2<su(i)?i.a.status:-1}catch{return-1}}function vN(i){try{return i.a?i.a.responseText:""}catch(a){return or(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case cw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(sw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return or(this.b,"Can not get response: "+a.message),null}};function ei(i,a){return a+" ["+i.P+" "+i.l+" "+_l(i)+"]"}function Eo(i){var a=wN;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Eo.prototype.cancel=function(i){if(this.a)this.c instanceof Eo&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new uu,wl(this),au(this,!1,i))}},Eo.prototype.m=function(i,a){this.i=!1,au(this,i,a)};function au(i,a,c){i.a=!0,i.c=c,i.f=!a,mw(i)}function wl(i){if(i.a){if(!i.v)throw new bl;i.v=!1}}function yN(i,a){yp(i,null,a,void 0)}function yp(i,a,c,d){i.g.push([a,c,d]),i.a&&mw(i)}Eo.prototype.then=function(i,a,c){var d,v,w=new Ke(function(b,S){d=b,v=S});return yp(this,d,function(b){b instanceof uu?w.cancel():v(b)}),w.then(i,a,c)},Eo.prototype.$goog_Thenable=!0;function pw(i){return A(i.g,function(a){return I(a[1])})}function mw(i){if(i.h&&i.a&&pw(i)){var a=i.h,c=Il[a];c&&(f.clearTimeout(c.a),delete Il[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var d=c=!1;i.g.length&&!i.i;){var v=i.g.shift(),w=v[0],b=v[1];if(v=v[2],w=i.f?b:w)try{var S=w.call(v||i.s,a);S!==void 0&&(i.f=i.f&&(S==a||S instanceof Error),i.c=a=S),(Ve(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(d=!0,i.i=!0)}catch(q){a=q,i.f=!0,pw(i)||(c=!0)}}i.c=a,d&&(S=U(i.m,i,!0),d=U(i.m,i,!1),a instanceof Eo?(yp(a,S,d),a.C=!0):a.then(S,d)),c&&(a=new gw(a),Il[a.a]=a,i.h=a.a)}function bl(){ye.call(this)}V(bl,ye),bl.prototype.message="Deferred has already fired",bl.prototype.name="AlreadyCalledError";function uu(){ye.call(this)}V(uu,ye),uu.prototype.message="Deferred was canceled",uu.prototype.name="CanceledError";function gw(i){this.a=f.setTimeout(U(this.c,this),0),this.b=i}gw.prototype.c=function(){throw delete Il[this.a],this.b};var Il={};function _p(i){var a={},c=a.document||document,d=y_(i).toString(),v=zc(document,"SCRIPT"),w={Xb:v,Ma:void 0},b=new Eo(w),S=null,q=a.timeout!=null?a.timeout:5e3;return 0<q&&(S=window.setTimeout(function(){El(v,!0);var Y=new wp(IN,"Timeout reached for loading script "+d);wl(b),au(b,!1,Y)},q),w.Ma=S),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(El(v,a.xd||!1,S),wl(b),au(b,!0,null))},v.onerror=function(){El(v,!0,S);var Y=new wp(bN,"Error while loading script "+d);wl(b),au(b,!1,Y)},w=a.attributes||{},Qt(w,{type:"text/javascript",charset:"UTF-8"}),R_(v,w),Qx(v,i),_N(c).appendChild(v),b}function _N(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function wN(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&El(i,!0,this.Ma)}}function El(i,a,c){c!=null&&f.clearTimeout(c),i.onload=m,i.onerror=m,i.onreadystatechange=m,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var bN=0,IN=1;function wp(i,a){var c="Jsloader error (code #"+i+")";a&&(c+=": "+a),ye.call(this,c),this.code=i}V(wp,ye);function Tl(i){this.f=i}V(Tl,tu),Tl.prototype.a=function(){return new this.f},Tl.prototype.b=function(){return{}};function mr(i,a,c){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||EN,this.g=st(i.secureTokenHeaders||TN),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||SN,this.a=st(i.firebaseHeaders||AN),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Pr()=="Node",c=f.XMLHttpRequest||c&&xe.INTERNAL.node&&xe.INTERNAL.node.XMLHttpRequest,!c&&!dr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,dr()?this.f=new gl(self):v0()?this.f=new Tl(c):this.f=new pl,this.b=null}var bp,gr="idToken",EN=new wi(3e4,6e4),TN={"Content-Type":"application/x-www-form-urlencoded"},SN=new wi(3e4,6e4),AN={"Content-Type":"application/json"};function vw(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function Sl(i,a){a&&(i.l=Ip("https://securetoken.googleapis.com/v1/token",a),i.h=Ip("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=Ip("https://identitytoolkit.googleapis.com/v2/",a))}function Ip(i,a){return i=Cn(i),a=Cn(a.url),i.f=i.a+i.f,Ba(i,a.c),i.a=a.a,qa(i,a.g),i.toString()}function yw(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}mr.prototype.T=function(){return this.b};function _w(i,a,c,d,v,w,b){NC()||dr()?i=U(i.u,i):(bp||(bp=new Ke(function(S,q){xN(S,q)})),i=U(i.s,i)),i(a,c,d,v,w,b)}mr.prototype.u=function(i,a,c,d,v,w){if(dr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new ou(this.f);if(w){b.g=Math.max(0,w);var S=setTimeout(function(){b.dispatchEvent("timeout")},w)}n0(b,"complete",function(){S&&clearTimeout(S);var q=null;try{q=JSON.parse(vN(this))||null}catch{q=null}a&&a(q)}),Cd(b,"ready",function(){S&&clearTimeout(S),X_(this)}),Cd(b,"timeout",function(){S&&clearTimeout(S),X_(this),a&&a(null)}),pN(b,i,c,d,v)};var kN=new Or($c,"https://apis.google.com/js/client.js?onload=%{onload}"),ww="__fcb"+Math.floor(1e6*Math.random()).toString();function xN(i,a){if(((window.gapi||{}).client||{}).request)i();else{f[ww]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var c=fd(kN,{onload:ww});yN(_p(c),function(){a(Error("CORS_UNSUPPORTED"))})}}mr.prototype.s=function(i,a,c,d,v){var w=this;bp.then(function(){window.gapi.client.setApiKey(w.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:c,body:d,headers:v,authType:"none",callback:function(S){window.gapi.auth.setToken(b),a&&a(S)}})}).o(function(b){a&&a({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function CN(i,a){return new Ke(function(c,d){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?_w(i,i.l+"?key="+encodeURIComponent(i.c),function(v){v?v.error?d(Np(v)):v.access_token&&v.refresh_token?c(v):d(new k("internal-error")):d(new k("network-request-failed"))},"POST",a0(a).toString(),i.g,i.m.get()):d(new k("internal-error"))})}function bw(i,a,c,d,v,w,b){var S=Cn(a+c);xt(S,"key",i.c),b&&xt(S,"cb",Date.now().toString());var q=d=="GET";if(q)for(var Y in v)v.hasOwnProperty(Y)&&xt(S,Y,v[Y]);return new Ke(function(Le,it){_w(i,S.toString(),function(Ze){Ze?Ze.error?it(Np(Ze,w||{})):Le(Ze):it(new k("network-request-failed"))},d,q?void 0:l0(w0(v)),i.a,i.v.get())})}function To(i){if(i=i.email,typeof i!="string"||!PC.test(i))throw new k("invalid-email")}function Iw(i){"email"in i&&To(i)}function NN(i,a){return ze(i,jN,{identifier:a,continueUri:rl()?Ka():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function ON(i){return ze(i,JN,{}).then(function(a){return a.authorizedDomains||[]})}function Nn(i){if(!i[gr])throw i.mfaPendingCredential?new k("multi-factor-auth-required",null,st(i)):new k("internal-error")}function Ep(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new k("internal-error")}else{if(!i.sessionInfo)throw new k("missing-verification-id");if(!i.code)throw new k("missing-verification-code")}}mr.prototype.Ab=function(){return ze(this,nO,{})},mr.prototype.Cb=function(i,a){return ze(this,Sw,{idToken:i,email:a})},mr.prototype.Db=function(i,a){return ze(this,Aw,{idToken:i,password:a})};var RN={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=mr.prototype,e.Eb=function(i,a){var c={idToken:i},d=[];return Ge(RN,function(v,w){var b=a[w];b===null?d.push(v):w in a&&(c[w]=b)}),d.length&&(c.deleteAttribute=d),ze(this,Sw,c)},e.wb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},Qt(i,a),ze(this,QN,i)},e.xb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},Qt(i,a),ze(this,WN,i)},e.vb=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},Qt(i,a),ze(this,XN,i)},e.Fb=function(i,a,c){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},Qt(i,c),ze(this,YN,i)};function PN(i,a){return ze(i,tO,a)}e.gb=function(i){return ze(this,cO,i)};function DN(i,a){return ze(i,rO,a).then(function(c){return c.phoneSessionInfo.sessionInfo})}function Ew(i){if(!i.phoneVerificationInfo)throw new k("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new k("missing-verification-code")}function LN(i,a){return ze(i,iO,a).then(function(c){return c.phoneResponseInfo.sessionInfo})}function MN(i,a,c){return ze(i,qN,{idToken:a,deleteProvider:c})}function Tp(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new k("internal-error")}function Sp(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new po(i.postBody),Pd(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function Tw(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=hl(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=hl(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=hl(i)):i.errorMessage&&(a=xw(i.errorMessage)),a)throw a;Nn(i)}function Ap(i,a){return a.returnIdpCredential=!0,ze(i,oO,a)}function kp(i,a){return a.returnIdpCredential=!0,ze(i,aO,a)}function xp(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,ze(i,sO,a)}function Cp(i){if(!i.oobCode)throw new k("invalid-action-code")}e.ob=function(i,a){return ze(this,eO,{oobCode:i,newPassword:a})},e.Sa=function(i){return ze(this,VN,{oobCode:i})},e.kb=function(i){return ze(this,FN,{oobCode:i})};var FN={endpoint:"setAccountInfo",A:Cp,Z:"email",B:!0},VN={endpoint:"resetPassword",A:Cp,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},UN={endpoint:"signupNewUser",A:function(i){if(To(i),!i.password)throw new k("weak-password")},G:Nn,V:!0,B:!0},jN={endpoint:"createAuthUri",B:!0},BN={endpoint:"deleteAccount",O:["idToken"]},qN={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new k("internal-error")}},$N={endpoint:"emailLinkSignin",O:["email","oobCode"],A:To,G:Nn,V:!0,B:!0},HN={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:To,G:Nn,V:!0},KN={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Ew,G:Nn,B:!0,Na:!0},GN={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Ew,G:Nn,B:!0,Na:!0},zN={endpoint:"getAccountInfo"},WN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new k("internal-error");To(i)},Z:"email",B:!0},XN={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},YN={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},QN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new k("internal-error");To(i)},Z:"email",B:!0},JN={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},ZN={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new k("internal-error")}},eO={endpoint:"resetPassword",A:Cp,Z:"email",B:!0},tO={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Sw={endpoint:"setAccountInfo",O:["idToken"],A:Iw,V:!0},Aw={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(Iw(i),!i.password)throw new k("weak-password")},G:Nn,V:!0},nO={endpoint:"signupNewUser",G:Nn,V:!0,B:!0},rO={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new k("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},iO={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},oO={endpoint:"verifyAssertion",A:Tp,Za:Sp,G:Tw,V:!0,B:!0},sO={endpoint:"verifyAssertion",A:Tp,Za:Sp,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(i.errorMessage)throw xw(i.errorMessage);Nn(i)},V:!0,B:!0},aO={endpoint:"verifyAssertion",A:function(i){if(Tp(i),!i.idToken)throw new k("internal-error")},Za:Sp,G:Tw,V:!0},uO={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new k("invalid-custom-token")},G:Nn,V:!0,B:!0},kw={endpoint:"verifyPassword",A:function(i){if(To(i),!i.password)throw new k("wrong-password")},G:Nn,V:!0,B:!0},cO={endpoint:"verifyPhoneNumber",A:Ep,G:Nn,B:!0},lO={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new k("internal-error");Ep(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",hl(i);Nn(i)}},fO={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Ep,G:Nn,B:!0},hO={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[gr]^!!i.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function ze(i,a,c){if(!jC(c,a.O))return yt(new k("internal-error"));var d=!!a.Na,v=a.Vb||"POST",w;return Ee(c).then(a.A).then(function(){return a.V&&(c.returnSecureToken=!0),a.B&&i.b&&typeof c.tenantId>"u"&&(c.tenantId=i.b),d?bw(i,i.i,a.endpoint,v,c,a.Ib,a.mb||!1):bw(i,i.h,a.endpoint,v,c,a.Ib,a.mb||!1)}).then(function(b){return w=b,a.Za?a.Za(c,w):w}).then(a.G).then(function(){if(!a.Z)return w;if(!(a.Z in w))throw new k("internal-error");return w[a.Z]})}function xw(i){return Np({error:{errors:[{message:i}],code:400,message:i}})}function Np(i,a){var c=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new k(d[c]):null)return c;c=i.error&&i.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Qt(d,a||{}),a=(a=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var v in d)if(c.indexOf(v)===0)return new k(d[v],a);return!a&&i&&(a=za(i)),new k("internal-error",a)}function dO(i){this.b=i,this.a=null,this.sb=pO(this)}function pO(i){return wO().then(function(){return new Ke(function(a,c){_t("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function v(){clearTimeout(w),a()}i.a=d,i.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){c(Error("Network Error"))},_O.get());d.ping(v).then(v,function(){c(Error("Network Error"))})})})})}function mO(i,a){return i.sb.then(function(){return new Ke(function(c){i.a.send(a.type,a,c,_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function gO(i,a){i.sb.then(function(){i.a.register("authEvent",a,_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var vO=new Or($c,"https://apis.google.com/js/api.js?onload=%{onload}"),yO=new wi(3e4,6e4),_O=new wi(5e3,15e3),Al=null;function wO(){return Al||(Al=new Ke(function(i,a){function c(){I0(),_t("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){I0(),a(Error("Network Error"))},timeout:yO.get()})}if(_t("gapi.iframes.Iframe"))i();else if(_t("gapi.load"))c();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[d]=function(){_t("gapi.load")?c():a(Error("Network Error"))},d=fd(vO,{onload:d}),Ee(_p(d)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw Al=null,i}))}function Cw(i,a,c,d){this.l=i,this.h=a,this.i=c,this.g=d,this.f=null,this.g?(i=Cn(this.g.url),i=tl(i.c,i.a,i.g,"/emulator/auth/iframe")):i=tl("https",this.l,null,"/__/auth/iframe"),this.a=i,xt(this.a,"apiKey",this.h),xt(this.a,"appName",this.i),this.b=null,this.c=[]}Cw.prototype.toString=function(){return this.f?xt(this.a,"v",this.f):Rr(this.a.b,"v"),this.b?xt(this.a,"eid",this.b):Rr(this.a.b,"eid"),this.c.length?xt(this.a,"fw",this.c.join(",")):Rr(this.a.b,"fw"),this.a.toString()};function Op(i,a,c,d,v,w){this.u=i,this.s=a,this.c=c,this.m=d,this.v=w,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}Op.prototype.zb=function(i){return this.h=i,this},Op.prototype.toString=function(){if(this.v){var i=Cn(this.v.url);i=tl(i.c,i.a,i.g,"/emulator/auth/handler")}else i=tl("https",this.u,null,"/__/auth/handler");if(xt(i,"apiKey",this.s),xt(i,"appName",this.c),xt(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var c=xe.app(this.c).auth().la()}catch{c=null}a.pb=c,xt(i,"providerId",this.a.providerId),c=this.a,a=w0(c.Jb);for(var d in a)a[d]=a[d].toString();d=c.Qc,a=st(a);for(var v=0;v<d.length;v++){var w=d[v];w in a&&delete a[w]}c.qb&&c.pb&&!a[c.qb]&&(a[c.qb]=c.pb),vt(a)||xt(i,"customParameters",za(a))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&xt(i,"scopes",c.join(","))),this.l?xt(i,"redirectUrl",this.l):Rr(i.b,"redirectUrl"),this.g?xt(i,"eventId",this.g):Rr(i.b,"eventId"),this.i?xt(i,"v",this.i):Rr(i.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!rr(i,b)&&xt(i,b,this.b[b]);return this.h?xt(i,"tid",this.h):Rr(i.b,"tid"),this.f?xt(i,"eid",this.f):Rr(i.b,"eid"),b=Rp(this.c),b.length&&xt(i,"fw",b.join(",")),i.toString()};function Rp(i){try{return xe.app(i).auth().Ga()}catch{return[]}}function Nw(i,a,c,d,v,w){this.s=i,this.g=a,this.b=c,this.f=w,this.c=d||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Ow(i){var a=Ka();return ON(i).then(function(c){e:{var d=Cn(a),v=d.c;d=d.a;for(var w=0;w<c.length;w++){var b=c[w],S=d,q=v;if(b.indexOf("chrome-extension://")==0?S=Cn(b).a==S&&q=="chrome-extension":q!="http"&&q!="https"?S=!1:RC.test(b)?S=S==b:(b=b.split(".").join("\\."),S=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(S)),S){c=!0;break e}}c=!1}if(!c)throw new cp(Ka())})}function Rw(i){return i.m||(i.m=nl().then(function(){if(!i.u){var a=i.c,c=i.i,d=Rp(i.b),v=new Cw(i.s,i.g,i.b,i.f);v.f=a,v.b=c,v.c=se(d||[]),i.u=v.toString()}i.v=new dO(i.u),bO(i)})),i.m}e=Nw.prototype,e.Pb=function(i,a,c){var d=new k("popup-closed-by-user"),v=new k("web-storage-unsupported"),w=this,b=!1;return this.ma().then(function(){IO(w).then(function(S){S||(i&&mo(i),a(v),b=!0)})}).o(function(){}).then(function(){if(!b)return OC(i)}).then(function(){if(!b)return ys(c).then(function(){a(d)})})},e.Yb=function(){var i=Jt();return!Ga(i)&&!b0(i)},e.Ub=function(){return!1},e.Nb=function(i,a,c,d,v,w,b,S){if(!i)return yt(new k("popup-blocked"));if(b&&!Ga())return this.ma().o(function(Y){mo(i),v(Y)}),d(),Ee();this.a||(this.a=Ow(Pw(this)));var q=this;return this.a.then(function(){var Y=q.ma().o(function(Le){throw mo(i),v(Le),Le});return d(),Y}).then(function(){if(ap(c),!b){var Y=cu(q.s,q.g,q.b,a,c,null,w,q.c,void 0,q.i,S,q.f);d0(Y,i)}}).o(function(Y){throw Y.code=="auth/network-request-failed"&&(q.a=null),Y})};function Pw(i){return i.l||(i.C=i.c?Is(i.c,Rp(i.b)):null,i.l=new mr(i.g,He(i.i),i.C),i.f&&Sl(i.l,i.f)),i.l}e.Ob=function(i,a,c,d){this.a||(this.a=Ow(Pw(this)));var v=this;return this.a.then(function(){ap(a);var w=cu(v.s,v.g,v.b,i,a,Ka(),c,v.c,void 0,v.i,d,v.f);d0(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(v.a=null),w})},e.ma=function(){var i=this;return Rw(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function cu(i,a,c,d,v,w,b,S,q,Y,Le,it){return i=new Op(i,a,c,d,v,it),i.l=w,i.g=b,i.i=S,i.b=st(q||null),i.f=Y,i.zb(Le).toString()}function bO(i){if(!i.v)throw Error("IfcHandler must be initialized!");gO(i.v,function(a){var c={};if(a&&a.authEvent){var d=!1;for(a=nw(a.authEvent),c=0;c<i.h.length;c++)d=i.h[c](a)||d;return c={},c.status=d?"ACK":"ERROR",Ee(c)}return c.status="ERROR",Ee(c)})}function IO(i){var a={type:"webStorageSupport"};return Rw(i).then(function(){return mO(i.v,a)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){$(this.h,function(a){return a==i})};function Dw(i){if(this.a=i||xe.INTERNAL.reactNative&&xe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Dw.prototype,e.get=function(i){return Ee(this.a.getItem(i)).then(function(a){return a&&Ts(a)})},e.set=function(i,a){return Ee(this.a.setItem(i,za(a)))},e.U=function(i){return Ee(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function Lw(i){this.b=i,this.a={},this.f=U(this.c,this)}var Mw=[];function EO(){var i=dr()?self:null;if(K(Mw,function(c){c.b==i&&(a=c)}),!a){var a=new Lw(i);Mw.push(a)}return a}Lw.prototype.c=function(i){var a=i.data.eventType,c=i.data.eventId,d=this.a[a];if(d&&0<d.length){i.ports[0].postMessage({status:"ack",eventId:c,eventType:a,response:null});var v=[];K(d,function(w){v.push(Ee().then(function(){return w(i.origin,i.data.data)}))}),j_(v).then(function(w){var b=[];K(w,function(S){b.push({fulfilled:S.Qb,value:S.value,reason:S.reason?S.reason.message:void 0})}),K(b,function(S){for(var q in S)typeof S[q]>"u"&&delete S[q]}),i.ports[0].postMessage({status:"done",eventId:c,eventType:a,response:b})})}};function Fw(i,a,c){vt(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]>"u"&&(i.a[a]=[]),i.a[a].push(c)}function Vw(i){this.a=i}Vw.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function Uw(i){this.c=i,this.b=!1,this.a=[]}function jw(i,a,c,d){var v,w=c||{},b,S,q,Y=null;if(i.b)return yt(Error("connection_unavailable"));var Le=d?800:50,it=typeof MessageChannel<"u"?new MessageChannel:null;return new Ke(function(Ze,zt){it?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),it.port1.start(),S=setTimeout(function(){zt(Error("unsupported_event"))},Le),b=function(ti){ti.data.eventId===v&&(ti.data.status==="ack"?(clearTimeout(S),q=setTimeout(function(){zt(Error("timeout"))},3e3)):ti.data.status==="done"?(clearTimeout(q),typeof ti.data.response<"u"?Ze(ti.data.response):zt(Error("unknown_error"))):(clearTimeout(S),clearTimeout(q),zt(Error("invalid_response"))))},Y={messageChannel:it,onMessage:b},i.a.push(Y),it.port1.addEventListener("message",b),i.c.postMessage({eventType:a,eventId:v,data:w},[it.port2])):zt(Error("connection_unavailable"))}).then(function(Ze){return Pp(i,Y),Ze}).o(function(Ze){throw Pp(i,Y),Ze})}function Pp(i,a){if(a){var c=a.messageChannel,d=a.onMessage;c&&(c.port1.removeEventListener("message",d),c.port1.close()),$(i.a,function(v){return v==a})}}Uw.prototype.close=function(){for(;0<this.a.length;)Pp(this,this.a[0]);this.b=!0};function Bw(){if(!Mp())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;dr()&&self?(this.v=EO(),Fw(this.v,"keyChanged",function(a,c){return Hw(i).then(function(d){return 0<d.length&&K(i.a,function(v){v(d)}),{keyProcessed:R(d,c.key)}})}),Fw(this.v,"ping",function(){return Ee(["keyChanged"])})):VC().then(function(a){(i.h=a)&&(i.g=new Uw(new Vw(a)),jw(i.g,"ping",null,!0).then(function(c){c[0].fulfilled&&R(c[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Dp;function TO(i){return new Ke(function(a,c){var d=i.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){a()},d.onerror=function(v){c(Error(v.target.error))}})}function qw(i){return new Ke(function(a,c){var d=i.m.open("firebaseLocalStorageDb",1);d.onerror=function(v){try{v.preventDefault()}catch{}c(Error(v.target.error))},d.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){c(w)}},d.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?a(v):TO(i).then(function(){return qw(i)}).then(function(w){a(w)}).o(function(w){c(w)})}})}function Lp(i){return i.i||(i.i=qw(i)),i.i}function kl(i,a){function c(v,w){Lp(i).then(a).then(v).o(function(b){if(3<++d)w(b);else return Lp(i).then(function(S){return S.close(),i.i=void 0,c(v,w)}).o(function(S){w(S)})})}var d=0;return new Ke(c)}function Mp(){try{return!!f.indexedDB}catch{return!1}}function lu(i){return i.objectStore("firebaseLocalStorage")}function fu(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function xs(i){return new Ke(function(a,c){i.onsuccess=function(d){d&&d.target?a(d.target.result):a()},i.onerror=function(d){c(d.target.error)}})}e=Bw.prototype,e.set=function(i,a){var c=this,d=!1;return kl(this,function(v){return v=lu(fu(v,!0)),xs(v.get(i))}).then(function(v){return kl(c,function(w){if(w=lu(fu(w,!0)),v)return v.value=a,xs(w.put(v));c.b++,d=!0;var b={};return b.fbase_key=i,b.value=a,xs(w.add(b))})}).then(function(){return c.c[i]=a,$w(c,i)}).oa(function(){d&&c.b--})};function $w(i,a){return i.g&&i.h&&FC()===i.h?jw(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):Ee()}e.get=function(i){return kl(this,function(a){return xs(lu(fu(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,c=!1;return kl(this,function(d){return c=!0,a.b++,xs(lu(fu(d,!0)).delete(i))}).then(function(){return delete a.c[i],$w(a,i)}).oa(function(){c&&a.b--})};function Hw(i){return Lp(i).then(function(a){var c=lu(fu(a,!1));return c.getAll?xs(c.getAll()):new Ke(function(d,v){var w=[],b=c.openCursor();b.onsuccess=function(S){(S=S.target.result)?(w.push(S.value),S.continue()):d(w)},b.onerror=function(S){v(S.target.error)}})}).then(function(a){var c={},d=[];if(i.b==0){for(d=0;d<a.length;d++)c[a[d].fbase_key]=a[d].value;d=p0(i.c,c),i.c=c}return d})}e.ca=function(i){this.a.length==0&&SO(this),this.a.push(i)},e.ia=function(i){$(this.a,function(a){return a==i}),this.a.length==0&&Kw(this)};function SO(i){function a(){i.f=setTimeout(function(){i.l=Hw(i).then(function(c){0<c.length&&K(i.a,function(d){d(c)})}).then(function(){a()}).o(function(c){c.message!="STOP_EVENT"&&a()})},800)}Kw(i),a()}function Kw(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function Gw(i){var a=this,c=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Ee().then(function(){if(Mp()){var d=vo(),v="__sak"+d;return Dp||(Dp=new Bw),c=Dp,c.set(v,d).then(function(){return c.get(v)}).then(function(w){if(w!==d)throw Error("indexedDB not supported!");return c.U(v)}).then(function(){return c}).o(function(){return a.c})}return a.c}).then(function(d){return a.type=d.type,d.ca(function(v){K(a.a,function(w){w(v)})}),d})}e=Gw.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(c){return c.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){$(this.a,function(a){return a==i})};function hu(){this.a={},this.type="inMemory"}e=hu.prototype,e.get=function(i){return Ee(this.a[i])},e.set=function(i,a){return this.a[i]=a,Ee()},e.U=function(i){return delete this.a[i],Ee()},e.ca=function(){},e.ia=function(){};function xl(){if(!AO())throw Pr()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=zw()||xe.INTERNAL.node.localStorage,this.type="localStorage"}function zw(){try{var i=f.localStorage,a=vo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function AO(){var i=Pr()=="Node";if(i=zw()||i&&xe.INTERNAL.node&&xe.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=xl.prototype,e.get=function(i){var a=this;return Ee().then(function(){var c=a.a.getItem(i);return Ts(c)})},e.set=function(i,a){var c=this;return Ee().then(function(){var d=za(a);d===null?c.U(i):c.a.setItem(i,d)})},e.U=function(i){var a=this;return Ee().then(function(){a.a.removeItem(i)})},e.ca=function(i){f.window&&nr(f.window,"storage",i)},e.ia=function(i){f.window&&$n(f.window,"storage",i)};function Fp(){this.type="nullStorage"}e=Fp.prototype,e.get=function(){return Ee(null)},e.set=function(){return Ee()},e.U=function(){return Ee()},e.ca=function(){},e.ia=function(){};function Vp(){if(!kO())throw Pr()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Ww()||xe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ww(){try{var i=f.sessionStorage,a=vo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function kO(){var i=Pr()=="Node";if(i=Ww()||i&&xe.INTERNAL.node&&xe.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Vp.prototype,e.get=function(i){var a=this;return Ee().then(function(){var c=a.a.getItem(i);return Ts(c)})},e.set=function(i,a){var c=this;return Ee().then(function(){var d=za(a);d===null?c.U(i):c.a.setItem(i,d)})},e.U=function(i){var a=this;return Ee().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function xO(){var i={};i.Browser=CO,i.Node=NO,i.ReactNative=OO,i.Worker=RO,this.a=i[Pr()]}var Up,CO={F:xl,cb:Vp},NO={F:xl,cb:Vp},OO={F:Dw,cb:Fp},RO={F:xl,cb:Fp},Cs={rd:"local",NONE:"none",td:"session"};function PO(i){var a=new k("invalid-persistence-type"),c=new k("unsupported-persistence-type");e:{for(d in Cs)if(Cs[d]==i){var d=!0;break e}d=!1}if(!d||typeof i!="string")throw a;switch(Pr()){case"ReactNative":if(i==="session")throw c;break;case"Node":if(i!=="none")throw c;break;case"Worker":if(i==="session"||!Mp()&&i!=="none")throw c;break;default:if(!Ud()&&i!=="none")throw c}}function Xw(){var i=!!(!b0(Jt())&&Fd()),a=Ga(),c=Ud();this.m=i,this.h=a,this.l=c,this.a={},Up||(Up=new xO),i=Up;try{this.g=!Ld()&&E0()||!f.indexedDB?new i.a.F:new Gw(dr()?new hu:new i.a.F)}catch{this.g=new hu,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new hu}this.v=new hu,this.f=U(this.Zb,this),this.b={}}var jp;function du(){return jp||(jp=new Xw),jp}function So(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function Ns(i,a){return"firebase:"+i.name+(a?":"+a:"")}function DO(i,a,c){var d=Ns(a,c),v=So(i,a.F);return i.get(a,c).then(function(w){var b=null;try{b=Ts(f.localStorage.getItem(d))}catch{}if(b&&!w)return f.localStorage.removeItem(d),i.set(a,b,c);b&&w&&v.type!="localStorage"&&f.localStorage.removeItem(d)})}e=Xw.prototype,e.get=function(i,a){return So(this,i.F).get(Ns(i,a))};function Os(i,a,c){return c=Ns(a,c),a.F=="local"&&(i.b[c]=null),So(i,a.F).U(c)}e.set=function(i,a,c){var d=Ns(i,c),v=this,w=So(this,i.F);return w.set(d,a).then(function(){return w.get(d)}).then(function(b){i.F=="local"&&(v.b[d]=b)})},e.addListener=function(i,a,c){i=Ns(i,a),this.l&&(this.b[i]=f.localStorage.getItem(i)),vt(this.a)&&(So(this,"local").ca(this.f),this.h||(Ld()||!E0())&&f.indexedDB||!this.l||LO(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(c)},e.removeListener=function(i,a,c){i=Ns(i,a),this.a[i]&&($(this.a[i],function(d){return d==c}),this.a[i].length==0&&delete this.a[i]),vt(this.a)&&(So(this,"local").ia(this.f),Bp(this))};function LO(i){Bp(i),i.c=setInterval(function(){for(var a in i.a){var c=f.localStorage.getItem(a),d=i.b[a];c!=d&&(i.b[a]=c,c=new fo({type:"storage",key:a,target:window,oldValue:d,newValue:c,a:!0}),i.Zb(c))}},1e3)}function Bp(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var c in this.a){var d=this.b[c];typeof d>"u"&&(d=null);var v=f.localStorage.getItem(c);v!==d&&(this.b[c]=v,this.nb(c))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a<"u"?So(this,"local").ia(this.f):Bp(this),this.m){if(c=f.localStorage.getItem(a),d=i.a.newValue,d!==c)d!==null?f.localStorage.setItem(a,d):f.localStorage.removeItem(a);else if(this.b[a]===d&&typeof i.a.a>"u")return}var w=this;c=function(){(typeof i.a.a<"u"||w.b[a]!==f.localStorage.getItem(a))&&(w.b[a]=f.localStorage.getItem(a),w.nb(a))},hr&&vi&&vi==10&&f.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(c,10):c()}}else K(i,U(this.nb,this))},e.nb=function(i){this.a[i]&&K(this.a[i],function(a){a()})};function MO(i){this.a=i,this.b=du()}var qp={name:"authEvent",F:"local"};function FO(i){return i.b.get(qp,i.a).then(function(a){return nw(a)})}function VO(){this.a=du()}function UO(){this.b=-1}function Cl(i,a){this.b=Yw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),Nl===void 0&&(f.Int32Array?Nl=new Int32Array(Zw):Nl=Zw),this.reset()}var Nl;V(Cl,UO);for(var Yw=64,jO=Yw-1,Qw=[],$p=0;$p<jO;$p++)Qw[$p]=0;var Jw=Q(128,Qw);Cl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):se(this.h)};function Hp(i){for(var a=i.f,c=i.l,d=0,v=0;v<a.length;)c[d++]=a[v]<<24|a[v+1]<<16|a[v+2]<<8|a[v+3],v=4*d;for(a=16;64>a;a++){v=c[a-15]|0,d=c[a-2]|0;var w=(c[a-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,b=(c[a-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[a]=w+b|0}d=i.a[0]|0,v=i.a[1]|0;var S=i.a[2]|0,q=i.a[3]|0,Y=i.a[4]|0,Le=i.a[5]|0,it=i.a[6]|0;for(w=i.a[7]|0,a=0;64>a;a++){var Ze=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&v^d&S^v&S)|0;b=Y&Le^~Y&it,w=w+((Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7))|0,b=b+(Nl[a]|0)|0,b=w+(b+(c[a]|0)|0)|0,w=it,it=Le,Le=Y,Y=q+b|0,q=S,S=v,v=d,d=b+Ze|0}i.a[0]=i.a[0]+d|0,i.a[1]=i.a[1]+v|0,i.a[2]=i.a[2]+S|0,i.a[3]=i.a[3]+q|0,i.a[4]=i.a[4]+Y|0,i.a[5]=i.a[5]+Le|0,i.a[6]=i.a[6]+it|0,i.a[7]=i.a[7]+w|0}function Kp(i,a,c){c===void 0&&(c=a.length);var d=0,v=i.c;if(typeof a=="string")for(;d<c;)i.f[v++]=a.charCodeAt(d++),v==i.b&&(Hp(i),v=0);else if(_(a))for(;d<c;){var w=a[d++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");i.f[v++]=w,v==i.b&&(Hp(i),v=0)}else throw Error("message must be string or array");i.c=v,i.g+=c}var Zw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function eb(){Cl.call(this,8,BO)}V(eb,Cl);var BO=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function tb(i,a,c,d,v,w){this.v=i,this.i=a,this.l=c,this.m=d||null,this.u=v||null,this.s=w,this.h=a+":"+c,this.C=new VO,this.g=new MO(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ol(i){return new k("invalid-cordova-configuration",i)}e=tb.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=DC().then(function(){if(typeof _t("universalLinks.subscribe",f)!="function")throw Ol("cordova-universal-links-plugin-fix is not installed");if(typeof _t("BuildInfo.packageName",f)>"u")throw Ol("cordova-plugin-buildinfo is not installed");if(typeof _t("cordova.plugins.browsertab.openUrl",f)!="function")throw Ol("cordova-plugin-browsertab is not installed");if(typeof _t("cordova.InAppBrowser.open",f)!="function")throw Ol("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function qO(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function $O(i){var a=new eb;Kp(a,i),i=[];var c=8*a.g;56>a.c?Kp(a,Jw,56-a.c):Kp(a,Jw,a.b-(a.c-56));for(var d=63;56<=d;d--)a.f[d]=c&255,c/=256;for(Hp(a),d=c=0;d<a.i;d++)for(var v=24;0<=v;v-=8)i[c++]=a.a[d]>>v&255;return eN(i)}e.Pb=function(i,a){return a(new k("operation-not-supported-in-this-environment")),Ee()},e.Nb=function(){return yt(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,a,c,d){if(this.c)return yt(new k("redirect-operation-pending"));var v=this,w=f.document,b=null,S=null,q=null,Y=null;return this.c=Ee().then(function(){return ap(a),rb(v)}).then(function(){return HO(v,i,a,c,d)}).then(function(){return new Ke(function(Le,it){S=function(){var Ze=_t("cordova.plugins.browsertab.close",f);return Le(),typeof Ze=="function"&&Ze(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(S),q=function(){b||(b=ys(2e3).then(function(){it(new k("redirect-cancelled-by-user"))}))},Y=function(){jd()&&q()},w.addEventListener("resume",q,!1),Jt().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",Y,!1)}).o(function(Le){return Gp(v).then(function(){throw Le})})}).oa(function(){q&&w.removeEventListener("resume",q,!1),Y&&w.removeEventListener("visibilitychange",Y,!1),b&&b.cancel(),S&&v.Ta(S),v.c=null})};function HO(i,a,c,d,v){var w=qO(),b=new pr(a,d,null,w,new k("no-auth-event"),null,v),S=_t("BuildInfo.packageName",f);if(typeof S!="string")throw new k("invalid-cordova-configuration");var q=_t("BuildInfo.displayName",f),Y={};if(Jt().toLowerCase().match(/iphone|ipad|ipod/))Y.ibi=S;else if(Jt().toLowerCase().match(/android/))Y.apn=S;else return yt(new k("operation-not-supported-in-this-environment"));q&&(Y.appDisplayName=q),w=$O(w),Y.sessionId=w;var Le=cu(i.v,i.i,i.l,a,c,null,d,i.m,Y,i.u,v,i.s);return i.ma().then(function(){var it=i.h;return i.C.a.set(qp,b.w(),it)}).then(function(){var it=_t("cordova.plugins.browsertab.isAvailable",f);if(typeof it!="function")throw new k("invalid-cordova-configuration");var Ze=null;it(function(zt){if(zt){if(Ze=_t("cordova.plugins.browsertab.openUrl",f),typeof Ze!="function")throw new k("invalid-cordova-configuration");Ze(Le)}else{if(Ze=_t("cordova.InAppBrowser.open",f),typeof Ze!="function")throw new k("invalid-cordova-configuration");zt=Jt(),i.a=Ze(Le,zt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||zt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function nb(i,a){for(var c=0;c<i.b.length;c++)try{i.b[c](a)}catch{}}function rb(i){return i.f||(i.f=i.ma().then(function(){return new Ke(function(a){function c(d){return a(d),i.Ta(c),!1}i.Ea(c),KO(i)})})),i.f}function Gp(i){var a=null;return FO(i.g).then(function(c){return a=c,c=i.g,Os(c.b,qp,c.a)}).then(function(){return a})}function KO(i){function a(b){d=!0,v&&v.cancel(),Gp(i).then(function(S){var q=c;if(S&&b&&b.url){var Y=null;q=W0(b.url),q.indexOf("/__/auth/callback")!=-1&&(Y=Cn(q),Y=Ts(rr(Y,"firebaseError")||null),Y=(Y=typeof Y=="object"?Ne(Y):null)?new pr(S.c,S.b,null,null,Y,null,S.T()):new pr(S.c,S.b,q,S.f,null,null,S.T())),q=Y||c}nb(i,q)})}var c=new pr("unknown",null,null,null,new k("no-auth-event")),d=!1,v=ys(500).then(function(){return Gp(i).then(function(){d||nb(i,c)})}),w=f.handleOpenURL;f.handleOpenURL=function(b){if(b.toLowerCase().indexOf(_t("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:b}),typeof w=="function")try{w(b)}catch(S){console.error(S)}},up||(up=new uN),cN(a)}e.Ea=function(i){this.b.push(i),rb(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new pr("unknown",null,null,null,new k("no-auth-event")),i(a))})},e.Ta=function(i){$(this.b,function(a){return a==i})};function GO(i){this.a=i,this.b=du()}var zp={name:"pendingRedirect",F:"session"};function zO(i){return i.b.set(zp,"pending",i.a)}function Wp(i){return Os(i.b,zp,i.a)}function WO(i){return i.b.get(zp,i.a).then(function(a){return a=="pending"})}function Rl(i,a,c,d){this.i={},this.u=0,this.D=i,this.v=a,this.m=c,this.J=d,this.h=[],this.f=!1,this.l=U(this.s,this),this.b=new Dl,this.C=new db,this.g=new GO(lb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=ib(this.D,this.v,this.m,le,this.J)}function ib(i,a,c,d,v){var w=xe.SDK_VERSION||null;return Md()?new tb(i,a,c,w,d,v):new Nw(i,a,c,w,d,v)}Rl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=ib(this.D,this.v,this.m,null,this.J),this.i={}};function ob(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(c){throw i.a==a&&i.reset(),c})}function sb(i){i.a.Yb()&&ob(i).o(function(a){var c=new pr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Yp(a)&&i.s(c)}),i.a.Ub()||fb(i.b)}function Pl(i,a){R(i.h,a)||i.h.push(a),i.f||WO(i.g).then(function(c){c?Wp(i.g).then(function(){ob(i).o(function(d){var v=new pr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Yp(d)&&i.s(v)})}):sb(i)}).o(function(){sb(i)})}function Xp(i,a){$(i.h,function(c){return c==a})}Rl.prototype.s=function(i){if(!i)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.Gb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,d),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return fb(this.b),a};var XO=new wi(2e3,1e4),YO=new wi(3e4,6e4);Rl.prototype.ra=function(){return this.b.ra()};function ab(i,a,c,d,v,w,b){return i.a.Nb(a,c,d,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},v,w,b)}function Yp(i){return!!(i&&i.code=="auth/cordova-not-ready")}function ub(i,a,c,d,v){var w;return zO(i.g).then(function(){return i.a.Ob(a,c,d,v).o(function(b){if(Yp(b))throw new k("operation-not-supported-in-this-environment");return w=b,Wp(i.g).then(function(){throw w})}).then(function(){return i.a.ac()?new Ke(function(){}):Wp(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function cb(i,a,c,d,v){return i.a.Pb(d,function(w){a.na(c,null,w,v)},XO.get())}var Qp={};function lb(i,a,c){return i=i+":"+a,c&&(i=i+":"+c.url),i}function Jp(i,a,c,d){var v=lb(a,c,d);return Qp[v]||(Qp[v]=new Rl(i,a,c,d)),Qp[v]}function Dl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Dl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Dl.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var c=i.c,d=i.b,v=i.a&&i.a.code=="auth/web-storage-unsupported",w=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!w),c!="unknown"||v||w?i.a?(Ao(this,!0,null,i.a),Ee()):a.Fa(c,d)?QO(this,i,a):yt(new k("invalid-auth-event")):(Ao(this,!1,null,null),Ee())}else yt(new k("invalid-auth-event"))};function fb(i){i.g||(i.g=!0,Ao(i,!1,null,null))}function Ll(i){i.g&&!i.i&&Ao(i,!1,null,null)}function QO(i,a,c){c=c.Fa(a.c,a.b);var d=a.g,v=a.f,w=a.i,b=a.T(),S=!!a.c.match(/Redirect$/);c(d,v,b,w).then(function(q){Ao(i,S,q,null)}).o(function(q){Ao(i,S,null,q)})}function JO(i,a){if(i.b=function(){return yt(a)},i.c.length)for(var c=0;c<i.c.length;c++)i.c[c](a)}function hb(i,a){if(i.b=function(){return Ee(a)},i.f.length)for(var c=0;c<i.f.length;c++)i.f[c](a)}function Ao(i,a,c,d){a?d?JO(i,d):hb(i,c):hb(i,{user:null}),i.f=[],i.c=[]}Dl.prototype.ra=function(){var i=this;return new Ke(function(a,c){i.b?i.b().then(a,c):(i.f.push(a),i.c.push(c),ZO(i))})};function ZO(i){var a=new k("timeout");i.a&&i.a.cancel(),i.a=ys(YO.get()).then(function(){i.b||(i.g=!0,Ao(i,!0,null,a))})}function db(){}db.prototype.h=function(i,a){if(i){var c=i.c,d=i.b;i.a?(a.na(i.c,null,i.a,i.b),Ee()):a.Fa(c,d)?eR(i,a):yt(new k("invalid-auth-event"))}else yt(new k("invalid-auth-event"))};function eR(i,a){var c=i.b,d=i.c;a.Fa(d,c)(i.g,i.f,i.T(),i.i).then(function(v){a.na(d,v,null,c)}).o(function(v){a.na(d,null,v,c)})}function pb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function Zp(i,a){this.a=a,ve(this,"verificationId",i)}Zp.prototype.confirm=function(i){return i=tw(this.verificationId,i),this.a(i)};function em(i,a,c,d){return new Zr(i).gb(a,c).then(function(v){return new Zp(v,d)})}function tR(i){var a=j0(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");gn(this,{token:i,expirationTime:Wa(1e3*a.exp),authTime:Wa(1e3*a.auth_time),issuedAtTime:Wa(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function tm(i,a,c){var d=a&&a[gb];if(!d)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=st(a),this.g=c,this.c=new ll(null,d),this.b=[];var v=this;K(a[mb]||[],function(w){(w=Gd(w))&&v.b.push(w)}),ve(this,"auth",this.a),ve(this,"session",this.c),ve(this,"hints",this.b)}var mb="mfaInfo",gb="mfaPendingCredential";tm.prototype.Rc=function(i){var a=this;return i.tb(this.a.a,this.c).then(function(c){var d=st(a.f);return delete d[mb],delete d[gb],Qt(d,c),a.g(d)})};function nm(i,a,c,d){k.call(this,"multi-factor-auth-required",d,a),this.b=new tm(i,a,c),ve(this,"resolver",this.b)}V(nm,k);function vb(i,a,c){if(i&&E(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new nm(a,i.serverResponse,c,i.message)}catch{}return null}function yb(){}yb.prototype.tb=function(i,a,c){return a.type==Ja?nR(this,i,a,c):rR(this,i,a)};function nR(i,a,c,d){return c.Ha().then(function(v){return v={idToken:v},typeof d<"u"&&(v.displayName=d),Qt(v,{phoneVerificationInfo:Za(i.a)}),ze(a,KN,v)})}function rR(i,a,c){return c.Ha().then(function(d){return d={mfaPendingCredential:d},Qt(d,{phoneVerificationInfo:Za(i.a)}),ze(a,GN,d)})}function rm(i){ve(this,"factorId",i.fa),this.a=i}V(rm,yb);function _b(i){if(rm.call(this,i),this.a.fa!=Zr.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}V(_b,rm);function Rs(i,a){xn.call(this,i);for(var c in a)this[c]=a[c]}V(Rs,xn);function im(i,a){this.a=i,this.b=[],this.c=U(this.yc,this),nr(this.a,"userReloaded",this.c);var c=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&K(a.multiFactor.enrolledFactors,function(d){var v=null,w={};if(d){d.uid&&(w[Wd]=d.uid),d.displayName&&(w[S0]=d.displayName),d.enrollmentTime&&(w[zd]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(w[Xd]=d.phoneNumber);try{v=new Xa(w)}catch{}d=v}else d=null;d&&c.push(d)}),Ml(this,c)}function iR(i){var a=[];return K(i.mfaInfo||[],function(c){(c=Gd(c))&&a.push(c)}),a}e=im.prototype,e.yc=function(i){Ml(this,iR(i.hd))};function Ml(i,a){i.b=a,ve(i,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(i){return new ll(i,null)})},e.fc=function(i,a){var c=this,d=this.a.a;return this.Sb().then(function(v){return i.tb(d,v,a)}).then(function(v){return Mr(c.a,v),c.a.reload()})},e.bd=function(i){var a=this,c=typeof i=="string"?i:i.uid,d=this.a.a;return this.a.I().then(function(v){return ze(d,hO,{idToken:v,mfaEnrollmentId:c})}).then(function(v){var w=fe(a.b,function(b){return b.uid!=c});return Ml(a,w),Mr(a.a,v),a.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Oe(this.b,function(i){return i.w()})}}};function om(i,a,c){if(this.h=i,this.i=a,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}om.prototype.start=function(){this.a=this.c,sm(this,!0)};function oR(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function sm(i,a){i.stop(),i.b=ys(oR(i,a)).then(function(){return MC()}).then(function(){return i.h()}).then(function(){sm(i,!0)}).o(function(c){i.i(c)&&sm(i,!1)})}om.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function am(i){this.f=i,this.b=this.a=null,this.c=Date.now()}am.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function wb(i,a){typeof a>"u"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function bb(i,a){i.b=ul(a[gr]||""),i.a=a.refreshToken,a=a.expiresIn,wb(i,typeof a<"u"?Number(a):void 0)}function sR(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function aR(i,a){return CN(i.f,a).then(function(c){return i.b=ul(c.access_token),i.a=c.refresh_token,wb(i,c.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(i.a=null),c})}am.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?yt(new k("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?aR(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b.toString(),refreshToken:this.a})};function Fl(i,a){this.a=i||null,this.b=a||null,gn(this,{lastSignInTime:Wa(a||null),creationTime:Wa(i||null)})}function uR(i){return new Fl(i.a,i.b)}Fl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function cR(i,a,c,d,v,w){gn(this,{uid:i,displayName:d||null,photoURL:v||null,email:c||null,phoneNumber:w||null,providerId:a})}function Kn(i,a,c){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var d=xe.SDK_VERSION?Is(xe.SDK_VERSION):null;this.a=new mr(this.l,He(le),d),(this.u=i.emulatorConfig||null)&&Sl(this.a,this.u),this.h=new am(this.a),pm(this,a[gr]),bb(this.h,a),ve(this,"refreshToken",this.h.a),Eb(this,c||{}),mn.call(this),this.P=!1,this.s&&go()&&(this.b=Jp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=lR(this),this.ba=U(this.ib,this);var v=this;this.za=null,this.Pa=function(w){v.xa(w.h)},this.qa=null,this.Ba=function(w){um(v,w.c)},this.$=null,this.aa=[],this.Oa=function(w){pu(v,w.f)},this.ja=null,this.S=new im(this,c),ve(this,"multiFactor",this.S)}V(Kn,mn),Kn.prototype.xa=function(i){this.za=i,vw(this.a,i)};function um(i,a){i.u=a,Sl(i.a,a),i.b&&(a=i.b,i.b=Jp(i.s,i.l,i.m,i.u),i.P&&(Xp(a,i),Pl(i.b,i)))}Kn.prototype.la=function(){return this.za};function cm(i,a){i.qa&&$n(i.qa,"languageCodeChanged",i.Pa),(i.qa=a)&&nr(a,"languageCodeChanged",i.Pa)}function lm(i,a){i.$&&$n(i.$,"emulatorConfigChanged",i.Ba),(i.$=a)&&nr(a,"emulatorConfigChanged",i.Ba)}function pu(i,a){i.aa=a,yw(i.a,xe.SDK_VERSION?Is(xe.SDK_VERSION,i.aa):null)}Kn.prototype.Ga=function(){return se(this.aa)};function fm(i,a){i.ja&&$n(i.ja,"frameworkChanged",i.Oa),(i.ja=a)&&nr(a,"frameworkChanged",i.Oa)}Kn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function hm(i){try{return xe.app(i.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function lR(i){return new om(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.h.c-Date.now()-3e5;return 0<a?a:0})}function Ib(i){i.J||i.D.b||(i.D.start(),$n(i,"tokenChanged",i.ba),nr(i,"tokenChanged",i.ba))}function dm(i){$n(i,"tokenChanged",i.ba),i.D.stop()}function pm(i,a){i.Aa=a,ve(i,"_lat",a)}function fR(i,a){$(i.W,function(c){return c==a})}function ko(i){for(var a=[],c=0;c<i.W.length;c++)a.push(i.W[c](i));return j_(a).then(function(){return i})}function mu(i){i.b&&!i.P&&(i.P=!0,Pl(i.b,i))}function Eb(i,a){gn(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new Fl(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}ve(Kn.prototype,"providerId","firebase");function Tb(){}function mm(i){return Ee().then(function(){if(i.J)throw new k("app-deleted")})}function gm(i){return Oe(i.providerData,function(a){return a.providerId})}function vm(i,a){a&&(Sb(i,a.providerId),i.providerData.push(a))}function Sb(i,a){$(i.providerData,function(c){return c.providerId==a})}function Ei(i,a,c){(a!="uid"||c)&&i.hasOwnProperty(a)&&ve(i,a,c)}function Vl(i,a){i!=a&&(gn(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?ve(i,"metadata",uR(a.metadata)):ve(i,"metadata",new Fl),K(a.providerData,function(c){vm(i,c)}),sR(i.h,a.h),ve(i,"refreshToken",i.h.a),Ml(i.S,a.S.b))}e=Kn.prototype,e.reload=function(){var i=this;return qt(this,mm(this).then(function(){return ym(i).then(function(){return ko(i)}).then(Tb)}))};function ym(i){return i.I().then(function(a){var c=i.isAnonymous;return hR(i,a).then(function(){return c||Ei(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new tR(a)})},e.I=function(i){var a=this;return qt(this,mm(this).then(function(){return a.h.getToken(i)}).then(function(c){if(!c)throw new k("internal-error");return c.accessToken!=a.Aa&&(pm(a,c.accessToken),a.dispatchEvent(new Rs("tokenChanged"))),Ei(a,"refreshToken",c.refreshToken),c.accessToken}))};function Mr(i,a){a[gr]&&i.Aa!=a[gr]&&(bb(i.h,a),i.dispatchEvent(new Rs("tokenChanged")),pm(i,a[gr]),Ei(i,"refreshToken",i.h.a))}function hR(i,a){return ze(i.a,zN,{idToken:a}).then(U(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new k("internal-error");i=i[0],Eb(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=dR(i),c=0;c<a.length;c++)vm(this,a[c]);Ei(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Rs("userReloaded",{hd:i}))};function dR(i){return(i=i.providerUserInfo)&&i.length?Oe(i,function(a){return new cR(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return Bd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var a=this,c=null;return qt(this,i.c(this.a,this.uid).then(function(d){return Mr(a,d),c=gu(a,d,"reauthenticate"),a.i=null,a.reload()}).then(function(){return c}),!0)};function Ul(i,a){return ym(i).then(function(){if(R(gm(i),a))return ko(i).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(i){return Bd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var a=this,c=null;return qt(this,Ul(this,i.providerId).then(function(){return a.I()}).then(function(d){return i.b(a.a,d)}).then(function(d){return c=gu(a,d,"link"),Ab(a,d)}).then(function(){return c}))},e.Dc=function(i,a){var c=this;return qt(this,Ul(this,"phone").then(function(){return em(hm(c),i,a,U(c.rb,c))}))},e.Mc=function(i,a){var c=this;return qt(this,Ee().then(function(){return em(hm(c),i,a,U(c.ub,c))}),!0)};function gu(i,a,c){var d=sp(a);return a=q0(a),Dr({user:i,credential:d,additionalUserInfo:a,operationType:c})}function Ab(i,a){return Mr(i,a),i.reload().then(function(){return i})}e.Cb=function(i){var a=this;return qt(this,this.I().then(function(c){return a.a.Cb(c,i)}).then(function(c){return Mr(a,c),a.reload()}))},e.ed=function(i){var a=this;return qt(this,this.I().then(function(c){return i.b(a.a,c)}).then(function(c){return Mr(a,c),a.reload()}))},e.Db=function(i){var a=this;return qt(this,this.I().then(function(c){return a.a.Db(c,i)}).then(function(c){return Mr(a,c),a.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return mm(this);var a=this;return qt(this,this.I().then(function(c){return a.a.Eb(c,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(c){return Mr(a,c),Ei(a,"displayName",c.displayName||null),Ei(a,"photoURL",c.photoUrl||null),K(a.providerData,function(d){d.providerId==="password"&&(ve(d,"displayName",a.displayName),ve(d,"photoURL",a.photoURL))}),ko(a)}).then(Tb))},e.cd=function(i){var a=this;return qt(this,ym(this).then(function(c){return R(gm(a),i)?MN(a.a,c,[i]).then(function(d){var v={};return K(d.providerUserInfo||[],function(w){v[w.providerId]=!0}),K(gm(a),function(w){v[w]||Sb(a,w)}),v[Zr.PROVIDER_ID]||ve(a,"phoneNumber",null),ko(a)}):ko(a).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var i=this;return qt(this,this.I().then(function(a){return ze(i.a,BN,{idToken:a})}).then(function(){i.dispatchEvent(new Rs("userDeleted"))})).then(function(){for(var a=0;a<i.N.length;a++)i.N[a].cancel("app-deleted");cm(i,null),lm(i,null),fm(i,null),i.N=[],i.J=!0,dm(i),ve(i,"refreshToken",null),i.b&&Xp(i.b,i)})},e.Gb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,c,d){i!="linkViaPopup"&&i!="reauthViaPopup"||d!=(this.g||null)||(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?U(this.Lb,this):i=="reauthViaPopup"&&a==(this.g||null)?U(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==a?U(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?U(this.Mb,this):null},e.Ec=function(i){var a=this;return kb(this,"linkViaPopup",i,function(){return Ul(a,i.providerId).then(function(){return ko(a)})},!1)},e.Nc=function(i){return kb(this,"reauthViaPopup",i,function(){return Ee()},!0)};function kb(i,a,c,d,v){if(!go())return yt(new k("operation-not-supported-in-this-environment"));if(i.i&&!v)return yt(i.i);var w=ep(c.providerId),b=vo(i.uid+":::"),S=null;(!Ga()||Fd())&&i.s&&c.isOAuthProvider&&(S=cu(i.s,i.l,i.m,a,c,null,b,xe.SDK_VERSION||null,null,null,i.tenantId,i.u));var q=g0(S,w&&w.va,w&&w.ua);return d=d().then(function(){if(Cb(i),!v)return i.I().then(function(){})}).then(function(){return ab(i.b,q,a,c,b,!!S,i.tenantId)}).then(function(){return new Ke(function(Y,Le){i.na(a,null,new k("cancelled-popup-request"),i.g||null),i.f=Y,i.C=Le,i.g=b,i.c=cb(i.b,i,a,q,b)})}).then(function(Y){return q&&mo(q),Y?Dr(Y):null}).o(function(Y){throw q&&mo(q),Y}),qt(i,d,v)}e.Fc=function(i){var a=this;return xb(this,"linkViaRedirect",i,function(){return Ul(a,i.providerId)},!1)},e.Oc=function(i){return xb(this,"reauthViaRedirect",i,function(){return Ee()},!0)};function xb(i,a,c,d,v){if(!go())return yt(new k("operation-not-supported-in-this-environment"));if(i.i&&!v)return yt(i.i);var w=null,b=vo(i.uid+":::");return d=d().then(function(){if(Cb(i),!v)return i.I().then(function(){})}).then(function(){return i.ga=b,ko(i)}).then(function(S){return i.ha&&(S=i.ha,S=S.b.set(_m,i.w(),S.a)),S}).then(function(){return ub(i.b,a,c,b,i.tenantId)}).o(function(S){if(w=S,i.ha)return Ob(i.ha);throw w}).then(function(){if(w)throw w}),qt(i,d,v)}function Cb(i){if(!i.b||!i.P)throw i.b&&!i.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(i,a,c,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return c=this.I().then(function(b){return kp(v.a,{requestUri:i,postBody:d,sessionId:a,idToken:b})}).then(function(b){return w=gu(v,b,"link"),Ab(v,b)}).then(function(){return w}),qt(this,c)},e.Mb=function(i,a,c,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null,b=Ee().then(function(){return As(xp(v.a,{requestUri:i,sessionId:a,postBody:d,tenantId:c}),v.uid)}).then(function(S){return w=gu(v,S,"reauthenticate"),Mr(v,S),v.i=null,v.reload()}).then(function(){return w});return qt(this,b,!0)},e.vb=function(i){var a=this,c=null;return qt(this,this.I().then(function(d){return c=d,typeof i>"u"||vt(i)?{}:sl(new ol(i))}).then(function(d){return a.a.vb(c,d)}).then(function(d){if(a.email!=d)return a.reload()}).then(function(){}))},e.Fb=function(i,a){var c=this,d=null;return qt(this,this.I().then(function(v){return d=v,typeof a>"u"||vt(a)?{}:sl(new ol(a))}).then(function(v){return c.a.Fb(d,i,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))};function qt(i,a,c){var d=pR(i,a,c);return i.N.push(d),d.oa(function(){j(i.N,d)}),d.o(function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=vb(v.w(),hm(i),U(i.jc,i))),w||v})}e.jc=function(i){var a=null,c=this;return i=As(Ee(i),c.uid).then(function(d){return a=gu(c,d,"reauthenticate"),Mr(c,d),c.i=null,c.reload()}).then(function(){return a}),qt(this,i,!0)};function pR(i,a,c){return i.i&&!c?(a.cancel(),yt(i.i)):a.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new Rs("userInvalidated")),i.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Qt(i,this.metadata.w()),K(this.providerData,function(a){i.providerData.push(UC(a))}),Qt(i,this.S.w()),i};function Nb(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},c={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){c[gr]=i.stsTokenManager.accessToken,c.refreshToken=i.stsTokenManager.refreshToken||null;var d=i.stsTokenManager.expirationTime;d&&(c.expiresIn=(d-Date.now())/1e3)}else return null;var v=new Kn(a,c,i);return i.providerData&&K(i.providerData,function(w){w&&vm(v,Dr(w))}),i.redirectEventId&&(v.ga=i.redirectEventId),v}function mR(i,a,c,d){var v=new Kn(i,a);return c&&(v.ha=c),d&&pu(v,d),v.reload().then(function(){return v})}function gR(i,a,c,d){var v=i.h,w={};return w[gr]=v.b&&v.b.toString(),w.refreshToken=v.a,a=new Kn(a||{apiKey:i.l,authDomain:i.s,appName:i.m},w),c&&(a.ha=c),d&&pu(a,d),Vl(a,i),a}function vR(i){this.a=i,this.b=du()}var _m={name:"redirectUser",F:"session"};function Ob(i){return Os(i.b,_m,i.a)}function yR(i,a){return i.b.get(_m,i.a).then(function(c){return c&&a&&(c.authDomain=a),Nb(c||{})})}function wm(i){this.a=i,this.b=du(),this.c=null,this.f=_R(this),this.b.addListener(Fr("local"),this.a,U(this.g,this))}wm.prototype.g=function(){var i=this,a=Fr("local");Ps(this,function(){return Ee().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(c){if(c)return bm(i,"local").then(function(){i.c=a})})})};function bm(i,a){var c=[],d;for(d in Cs)Cs[d]!==a&&c.push(Os(i.b,Fr(Cs[d]),i.a));return c.push(Os(i.b,Im,i.a)),uC(c)}function _R(i){var a=Fr("local"),c=Fr("session"),d=Fr("none");return DO(i.b,a,i.a).then(function(){return i.b.get(c,i.a)}).then(function(v){return v?c:i.b.get(d,i.a).then(function(w){return w?d:i.b.get(a,i.a).then(function(b){return b?a:i.b.get(Im,i.a).then(function(S){return S?Fr(S):a})})})}).then(function(v){return i.c=v,bm(i,v.F)}).o(function(){i.c||(i.c=a)})}var Im={name:"persistence",F:"session"};function Fr(i){return{name:"authUser",F:i}}wm.prototype.yb=function(i){var a=null,c=this;return PO(i),Ps(this,function(){return i!=c.c.F?c.b.get(c.c,c.a).then(function(d){return a=d,bm(c,i)}).then(function(){if(c.c=Fr(i),a)return c.b.set(c.c,a,c.a)}):Ee()})};function wR(i){return Ps(i,function(){return i.b.set(Im,i.c.F,i.a)})}function Rb(i,a){return Ps(i,function(){return i.b.set(i.c,a.w(),i.a)})}function Pb(i){return Ps(i,function(){return Os(i.b,i.c,i.a)})}function Db(i,a,c){return Ps(i,function(){return i.b.get(i.c,i.a).then(function(d){return d&&a&&(d.authDomain=a),d&&c&&(d.emulatorConfig=c),Nb(d||{})})})}function Ps(i,a){return i.f=i.f.then(a,a),i.f}function vr(i){if(this.l=!1,ve(this,"settings",new pb),ve(this,"app",i),at(this).options&&at(this).options.apiKey)i=xe.SDK_VERSION?Is(xe.SDK_VERSION):null,this.a=new mr(at(this).options&&at(this).options.apiKey,He(le),i);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=xe.INTERNAL.createSubscribe(U(this.zc,this)),this.W=void 0,this.ib=xe.INTERNAL.createSubscribe(U(this.Ac,this)),Ds(this,null),this.i=new wm(at(this).options.apiKey+":"+at(this).name),this.D=new vR(at(this).options.apiKey+":"+at(this).name),this.$=At(this,AR(this)),this.h=At(this,kR(this)),this.ba=!1,this.ja=U(this.Zc,this),this.Ba=U(this.da,this),this.qa=U(this.mc,this),this.za=U(this.wc,this),this.Aa=U(this.xc,this),this.b=null,ER(this),this.INTERNAL={},this.INTERNAL.delete=U(this.delete,this),this.INTERNAL.logFramework=U(this.Gc,this),this.u=0,mn.call(this),IR(this),this.J=[],this.R=null}V(vr,mn);function Lb(i){xn.call(this,"languageCodeChanged"),this.h=i}V(Lb,xn);function Mb(i){xn.call(this,"emulatorConfigChanged"),this.c=i}V(Mb,xn);function Fb(i){xn.call(this,"frameworkChanged"),this.f=i}V(Fb,xn),e=vr.prototype,e.yb=function(i){return i=this.i.yb(i),At(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,vw(this.a,this.aa),this.dispatchEvent(new Lb(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.R){if(!/^https?:\/\//.test(i))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,bR(a),this.R={url:i,ec:a},this.settings.jb=!0,Sl(this.a,this.R),this.dispatchEvent(new Mb(this.R))}};function bR(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&nl().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),yw(this.a,xe.SDK_VERSION?Is(xe.SDK_VERSION,this.J):null),this.dispatchEvent(new Fb(this.J))},e.Ga=function(){return se(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function IR(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var a=Cn(this.R.url);a=Dr({protocol:a.c,host:a.a,port:a.g,options:Dr({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:at(this).options.apiKey,authDomain:at(this).options.authDomain,appName:at(this).name,currentUser:je(this)&&je(this).w()}};function Em(i){return i.Oa||yt(new k("auth-domain-config-required"))}function ER(i){var a=at(i).options.authDomain,c=at(i).options.apiKey;a&&go()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=Jp(a,c,at(i).name,i.R),Pl(i.b,i),je(i)&&mu(je(i)),i.m){mu(i.m);var d=i.m;d.xa(i.la()),cm(d,i),d=i.m,pu(d,i.J),fm(d,i),d=i.m,um(d,i.R),lm(d,i),i.m=null}return i.b}}))}e.Gb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,c,d){i=="signInViaPopup"&&this.g==d&&(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?U(this.ic,this):null},e.ic=function(i,a,c,d){var v=this,w={requestUri:i,postBody:d,sessionId:a,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return xo(v,Ap(v.a,w))})},e.Xc=function(i){if(!go())return yt(new k("operation-not-supported-in-this-environment"));var a=this,c=ep(i.providerId),d=vo(),v=null;(!Ga()||Fd())&&at(this).options.authDomain&&i.isOAuthProvider&&(v=cu(at(this).options.authDomain,at(this).options.apiKey,at(this).name,"signInViaPopup",i,null,d,xe.SDK_VERSION||null,null,null,this.T(),this.R));var w=g0(v,c&&c.va,c&&c.ua);return c=Em(this).then(function(b){return ab(b,w,"signInViaPopup",i,d,!!v,a.T())}).then(function(){return new Ke(function(b,S){a.na("signInViaPopup",null,new k("cancelled-popup-request"),a.g),a.f=b,a.C=S,a.g=d,a.c=cb(a.b,a,"signInViaPopup",w,d)})}).then(function(b){return w&&mo(w),b?Dr(b):null}).o(function(b){throw w&&mo(w),b}),At(this,c)},e.Yc=function(i){if(!go())return yt(new k("operation-not-supported-in-this-environment"));var a=this,c=Em(this).then(function(){return wR(a.i)}).then(function(){return ub(a.b,"signInViaRedirect",i,void 0,a.T())});return At(this,c)};function Vb(i){if(!go())return yt(new k("operation-not-supported-in-this-environment"));var a=Em(i).then(function(){return i.b.ra()}).then(function(c){return c?Dr(c):null});return At(i,a)}e.ra=function(){var i=this;return Vb(this).then(function(a){return i.b&&Ll(i.b.b),a}).o(function(a){throw i.b&&Ll(i.b.b),a})},e.dd=function(i){if(!i)return yt(new k("null-user"));if(this.S!=i.tenantId)return yt(new k("tenant-id-mismatch"));var a=this,c={};c.apiKey=at(this).options.apiKey,c.authDomain=at(this).options.authDomain,c.appName=at(this).name;var d=gR(i,c,a.D,a.Ga());return At(this,this.h.then(function(){if(at(a).options.apiKey!=i.l)return d.reload()}).then(function(){return je(a)&&i.uid==je(a).uid?(Vl(je(a),i),a.da(i)):(Ds(a,d),mu(d),a.da(d))}).then(function(){vu(a)}))};function TR(i,a){var c={};return c.apiKey=at(i).options.apiKey,c.authDomain=at(i).options.authDomain,c.appName=at(i).name,i.R&&(c.emulatorConfig=i.R),i.$.then(function(){return mR(c,a,i.D,i.Ga())}).then(function(d){return je(i)&&d.uid==je(i).uid?(Vl(je(i),d),i.da(d)):(Ds(i,d),mu(d),i.da(d))}).then(function(){vu(i)})}function Ds(i,a){je(i)&&(fR(je(i),i.Ba),$n(je(i),"tokenChanged",i.qa),$n(je(i),"userDeleted",i.za),$n(je(i),"userInvalidated",i.Aa),dm(je(i))),a&&(a.W.push(i.Ba),nr(a,"tokenChanged",i.qa),nr(a,"userDeleted",i.za),nr(a,"userInvalidated",i.Aa),0<i.u&&Ib(a)),ve(i,"currentUser",a),a&&(a.xa(i.la()),cm(a,i),pu(a,i.J),fm(a,i),um(a,i.R),lm(a,i))}e.Bb=function(){var i=this,a=this.h.then(function(){return i.b&&Ll(i.b.b),je(i)?(Ds(i,null),Pb(i.i).then(function(){vu(i)})):Ee()});return At(this,a)};function SR(i){var a=yR(i.D,at(i).options.authDomain).then(function(c){return(i.m=c)&&(c.ha=i.D),Ob(i.D)});return At(i,a)}function AR(i){var a=at(i).options.authDomain,c=SR(i).then(function(){return Db(i.i,a,i.R)}).then(function(d){return d?(d.ha=i.D,i.m&&(i.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return Rb(i.i,d).then(function(){return d})}).o(function(v){return v.code=="auth/network-request-failed"?d:Pb(i.i)})):null}).then(function(d){Ds(i,d||null)});return At(i,c)}function kR(i){return i.$.then(function(){return Vb(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(Fr("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return Db(this.i,at(this).options.authDomain).then(function(a){if(!i.l){var c;if(c=je(i)&&a){c=je(i).uid;var d=a.uid;c=c==null||c===""||d===void 0||d===null||d===""?!1:c==d}if(c)return Vl(je(i),a),je(i).I();(je(i)||a)&&(Ds(i,a),a&&(mu(a),a.ha=i.D),i.b&&Pl(i.b,i),vu(i))}})},e.da=function(i){return Rb(this.i,i)},e.mc=function(){vu(this),this.da(je(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function xo(i,a){var c=null,d=null;return At(i,a.then(function(v){return c=sp(v),d=q0(v),TR(i,v)},function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=vb(v.w(),i,U(i.kc,i))),w||v}).then(function(){return Dr({user:je(i),credential:c,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return xo(a,Ee(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next(je(a))})},e.Ac=function(i){var a=this;xR(this,function(){i.next(je(a))})},e.Ic=function(i,a,c){var d=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(je(d)):typeof i.next=="function"&&i.next(je(d))}),this.Pa(i,a,c)},e.Hc=function(i,a,c){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof i=="function"?i(je(d)):typeof i.next=="function"&&i.next(je(d))}),this.ib(i,a,c)},e.nc=function(i){var a=this,c=this.h.then(function(){return je(a)?je(a).I(i).then(function(d){return{accessToken:d}}):null});return At(this,c)},e.Tc=function(i){var a=this;return this.h.then(function(){return xo(a,ze(a.a,uO,{token:i}))}).then(function(c){var d=c.user;return Ei(d,"isAnonymous",!1),a.da(d),c})},e.Uc=function(i,a){var c=this;return this.h.then(function(){return xo(c,ze(c.a,kw,{email:i,password:a}))})},e.dc=function(i,a){var c=this;return this.h.then(function(){return xo(c,ze(c.a,UN,{email:i,password:a}))})},e.ab=function(i){var a=this;return this.h.then(function(){return xo(a,i.ka(a.a))})},e.Sc=function(i){return Bd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var a=je(i);if(a&&a.isAnonymous){var c=Dr({providerId:null,isNewUser:!1});return Dr({user:a,credential:null,additionalUserInfo:c,operationType:"signIn"})}return xo(i,i.a.Ab()).then(function(d){var v=d.user;return Ei(v,"isAnonymous",!0),i.da(v),d})})};function at(i){return i.app}function je(i){return i.currentUser}e.getUid=function(){return je(this)&&je(this).uid||null};function jl(i){return je(i)&&je(i)._lat||null}function vu(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](jl(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),a=0;a<i.N.length;a++)i.N[a]&&i.N[a](jl(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&je(this)&&Ib(je(this))},e.Pc=function(i){var a=this;K(this.s,function(c){c==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&je(this)&&dm(je(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),At(this,this.h.then(function(){a.l||R(a.s,i)&&i(jl(a))}))},e.removeAuthTokenListener=function(i){$(this.s,function(a){return a==i})};function xR(i,a){i.N.push(a),At(i,i.h.then(function(){!i.l&&R(i.N,a)&&i.W!==i.getUid()&&(i.W=i.getUid(),a(jl(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(Fr("local"),i.a,this.ja)),this.b&&(Xp(this.b,this),Ll(this.b.b)),Promise.resolve()};function At(i,a){return i.P.push(a),a.oa(function(){j(i.P,a)}),a}e.hc=function(i){return At(this,NN(this.a,i))},e.Bc=function(i){return!!op(i)},e.xb=function(i,a){var c=this;return At(this,Ee().then(function(){var d=new ol(a);if(!d.c)throw new k("argument-error",Jd+" must be true when sending sign in link to email");return sl(d)}).then(function(d){return c.a.xb(i,d)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(a){return a.data.email})},e.ob=function(i,a){return At(this,this.a.ob(i,a).then(function(){}))},e.Sa=function(i){return At(this,this.a.Sa(i).then(function(a){return new BC(a)}))},e.kb=function(i){return At(this,this.a.kb(i).then(function(){}))},e.wb=function(i,a){var c=this;return At(this,Ee().then(function(){return typeof a>"u"||vt(a)?{}:sl(new ol(a))}).then(function(d){return c.a.wb(i,d)}).then(function(){}))},e.Wc=function(i,a){return At(this,em(this,i,a,U(this.ab,this)))},e.Vc=function(i,a){var c=this;return At(this,Ee().then(function(){var d=a||Ka(),v=ew(i,d);if(d=op(d),!d)throw new k("argument-error","Invalid email link!");if(d.tenantId!==c.T())throw new k("tenant-id-mismatch");return c.ab(v)}))};function yu(){}yu.prototype.render=function(){},yu.prototype.reset=function(){},yu.prototype.getResponse=function(){},yu.prototype.execute=function(){};function Ls(){this.a={},this.b=1e12}var Tm=null;Ls.prototype.render=function(i,a){return this.a[this.b.toString()]=new Bl(i,a),this.b++},Ls.prototype.reset=function(i){var a=Sm(this,i);i=Ub(i),a&&i&&(a.delete(),delete this.a[i])},Ls.prototype.getResponse=function(i){return(i=Sm(this,i))?i.getResponse():null},Ls.prototype.execute=function(i){(i=Sm(this,i))&&i.execute()};function Sm(i,a){return(a=Ub(a))&&i.a[a]||null}function Ub(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function Bl(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Va(i);var c=this;this.i=function(){c.execute()},this.h?this.execute():nr(this.f,"click",this.i)}Bl.prototype.getResponse=function(){return Am(this),this.b},Bl.prototype.execute=function(){Am(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=LC();var a=i.c.callback,c=i.c["expired-callback"];if(a)try{a(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,c)try{c()}catch{}i.h&&i.execute()},6e4)},500))},Bl.prototype.delete=function(){Am(this),this.g=!0,clearTimeout(this.a),this.a=null,$n(this.f,"click",this.i)};function Am(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function km(){}ve(km,"FACTOR_ID","phone");function xm(){}xm.prototype.g=function(){return Tm||(Tm=new Ls),Ee(Tm)},xm.prototype.c=function(){};var Cm=null;function Nm(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var CR=new Or($c,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),NR=new wi(3e4,6e4);Nm.prototype.g=function(i){var a=this;return new Ke(function(c,d){var v=setTimeout(function(){d(new k("network-request-failed"))},NR.get());if(!f.grecaptcha||i!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=i;var b=f.grecaptcha.render;f.grecaptcha.render=function(S,q){return S=b(S,q),a.b++,S},clearTimeout(v),c(f.grecaptcha)}else clearTimeout(v),d(new k("internal-error"));delete f[a.a]};var w=fd(CR,{onload:a.a,hl:i||""});Ee(_p(w)).o(function(){clearTimeout(v),d(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),c(f.grecaptcha)})},Nm.prototype.c=function(){this.b--};var Om=null;function Rm(i,a,c,d,v,w,b){if(ve(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,b?(Cm||(Cm=new xm),b=Cm):(Om||(Om=new Nm),b=Om),this.m=b,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[qb])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[OR]==="invisible",!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Va(a)||!this.i&&Va(a).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new mr(i,w||null,v||null),this.u=d||function(){return null};var S=this;this.l=[];var q=this.a[jb];this.a[jb]=function(Le){if($b(S,Le),typeof q=="function")q(Le);else if(typeof q=="string"){var it=_t(q,f);typeof it=="function"&&it(Le)}};var Y=this.a[Bb];this.a[Bb]=function(){if($b(S,null),typeof Y=="function")Y();else if(typeof Y=="string"){var Le=_t(Y,f);typeof Le=="function"&&Le()}}}var jb="callback",Bb="expired-callback",qb="sitekey",OR="size";function $b(i,a){for(var c=0;c<i.l.length;c++)try{i.l[c](a)}catch{}}function RR(i,a){$(i.l,function(c){return c==a})}function Pm(i,a){return i.h.push(a),a.oa(function(){j(i.h,a)}),a}e=Rm.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=Pm(this,Ee().then(function(){if(rl()&&!dr())return nl();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,ze(i.s,ZN,{})}).then(function(a){i.a[qb]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){ql(this);var i=this;return Pm(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var c=Va(a);a=iC("DIV"),c.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){ql(this);var i=this;return Pm(this,this.render().then(function(a){return new Ke(function(c){var d=i.g.getResponse(a);if(d)c(d);else{var v=function(w){w&&(RR(i,v),c(w))};i.l.push(v),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){ql(this),this.c!==null&&this.g.reset(this.c)};function ql(i){if(i.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){ql(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Va(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function Dm(i,a,c){var d=!1;try{this.b=c||xe.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new k("invalid-api-key");var v=this,w=null;try{w=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=xe.SDK_VERSION?Is(xe.SDK_VERSION,w):null,Rm.call(this,c,i,a,function(){try{var b=v.b.auth().la()}catch{b=null}return b},w,He(le),d)}V(Dm,Rm);function Hb(i,a,c,d){e:{c=Array.prototype.slice.call(c);for(var v=0,w=!1,b=0;b<a.length;b++)if(a[b].optional)w=!0;else{if(w)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(w=a.length,c.length<v||w<c.length)d="Expected "+(v==w?v==1?"1 argument":v+" arguments":v+"-"+w+" arguments")+" but got "+c.length+".";else{for(v=0;v<c.length;v++)if(w=a[v].optional&&c[v]===void 0,!a[v].M(c[v])&&!w){if(a=a[v],0>v||v>=Kb.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");c=Kb[v],d=(d?"":c+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}d=null}}if(d)throw new k("argument-error",i+" failed: "+d)}var Kb="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function me(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(c){return typeof c=="string"}}}function Lm(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(c){return typeof c=="boolean"}}}function Pt(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:E}}function Ms(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(c){return typeof c=="function"}}}function Vr(i,a){return{name:i||"",K:"null",optional:!!a,M:function(c){return c===null}}}function PR(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function DR(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof vr)}}}function LR(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof xe.app.App)}}}function Ti(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var c=!i||a.providerId===i;return!(!a.ka||!c)}}}function Gb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function Fs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Mm(i,a){return E(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function zb(i){return E(i)&&typeof i.uid=="string"}function $l(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Ct(i,a,c,d){return{name:c||"",K:i.K+" or "+a.K,optional:!!d,M:function(v){return i.M(v)||a.M(v)}}}function Tt(i,a){for(var c in a){var d=a[c].name;i[d]=Xb(d,i[c],a[c].j)}}function Wb(i,a){for(var c in a){var d=a[c].name;d!==c&&Object.defineProperty(i,d,{get:ue(function(v){return this[v]},c),set:ue(function(v,w,b,S){Hb(v,[b],[S],!0),this[w]=S},d,c,a[c].lb),enumerable:!0})}}function Nt(i,a,c,d){i[a]=Xb(a,c,d)}function Xb(i,a,c){function d(){var b=Array.prototype.slice.call(arguments);return Hb(v,c,b),a.apply(this,b)}if(!c)return a;var v=MR(i),w;for(w in a)d[w]=a[w];for(w in a.prototype)d.prototype[w]=a.prototype[w];return d}function MR(i){return i=i.split("."),i[i.length-1]}Tt(vr.prototype,{kb:{name:"applyActionCode",j:[me("code")]},Sa:{name:"checkActionCode",j:[me("code")]},ob:{name:"confirmPasswordReset",j:[me("code"),me("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[me("email"),me("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[me("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[me("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ct(Pt(),Ms(),"nextOrObserver"),Ms("opt_error",!0),Ms("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ct(Pt(),Ms(),"nextOrObserver"),Ms("opt_error",!0),Ms("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[me("email"),Ct(Pt("opt_actionCodeSettings",!0),Vr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[me("email"),Pt("actionCodeSettings")]},yb:{name:"setPersistence",j:[me("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ti()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ti()]},Tc:{name:"signInWithCustomToken",j:[me("token")]},Uc:{name:"signInWithEmailAndPassword",j:[me("email"),me("password")]},Vc:{name:"signInWithEmailLink",j:[me("email"),me("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[me("phoneNumber"),$l()]},Xc:{name:"signInWithPopup",j:[Fs()]},Yc:{name:"signInWithRedirect",j:[Fs()]},dd:{name:"updateCurrentUser",j:[Ct(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof Kn)}}}(),Vr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[me(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[me("url"),Pt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[me("code")]}}),Wb(vr.prototype,{lc:{name:"languageCode",lb:Ct(me(),Vr(),"languageCode")},ti:{name:"tenantId",lb:Ct(me(),Vr(),"tenantId")}}),vr.Persistence=Cs,vr.Persistence.LOCAL="local",vr.Persistence.SESSION="session",vr.Persistence.NONE="none",Tt(Kn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Lm("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Lm("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ti()]},rb:{name:"linkWithCredential",j:[Ti()]},Dc:{name:"linkWithPhoneNumber",j:[me("phoneNumber"),$l()]},Ec:{name:"linkWithPopup",j:[Fs()]},Fc:{name:"linkWithRedirect",j:[Fs()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ti()]},ub:{name:"reauthenticateWithCredential",j:[Ti()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[me("phoneNumber"),$l()]},Nc:{name:"reauthenticateWithPopup",j:[Fs()]},Oc:{name:"reauthenticateWithRedirect",j:[Fs()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ct(Pt("opt_actionCodeSettings",!0),Vr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[me(null,!0)]},cd:{name:"unlink",j:[me("provider")]},Cb:{name:"updateEmail",j:[me("email")]},Db:{name:"updatePassword",j:[me("password")]},ed:{name:"updatePhoneNumber",j:[Ti("phone")]},Eb:{name:"updateProfile",j:[Pt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[me("email"),Ct(Pt("opt_actionCodeSettings",!0),Vr(null,!0),"opt_actionCodeSettings",!0)]}}),Tt(Ls.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(yu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(Ke.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Wb(pb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Lm("appVerificationDisabledForTesting")}}),Tt(Zp.prototype,{confirm:{name:"confirm",j:[me("verificationCode")]}}),Nt(Ss,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,c=[oN,sN,aN,iN],d=0;d<c.length;d++)if(a=c[d](i))return a;return null},[Ct(me(),Pt(),"json")]),Nt(ir,"credential",function(i,a){return new bi(i,a)},[me("email"),me("password")]),Tt(bi.prototype,{w:{name:"toJSON",j:[me(null,!0)]}}),Tt(wo.prototype,{Ca:{name:"addScope",j:[me("scope")]},Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Nt(wo,"credential",Y0,[Ct(me(),Pt(),"token")]),Nt(ir,"credentialWithLink",ew,[me("email"),me("emailLink")]),Tt(bo.prototype,{Ca:{name:"addScope",j:[me("scope")]},Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Nt(bo,"credential",Q0,[Ct(me(),Pt(),"token")]),Tt(Io.prototype,{Ca:{name:"addScope",j:[me("scope")]},Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Nt(Io,"credential",J0,[Ct(me(),Ct(Pt(),Vr()),"idToken"),Ct(me(),Vr(),"accessToken",!0)]),Tt(ks.prototype,{Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Nt(ks,"credential",Z0,[Ct(me(),Pt(),"token"),me("secret",!0)]),Tt(Hn.prototype,{Ca:{name:"addScope",j:[me("scope")]},credential:{name:"credential",j:[Ct(me(),Ct(Pt(),Vr()),"optionsOrIdToken"),Ct(me(),Vr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Tt(Jr.prototype,{w:{name:"toJSON",j:[me(null,!0)]}}),Tt(yo.prototype,{w:{name:"toJSON",j:[me(null,!0)]}}),Nt(Zr,"credential",tw,[me("verificationId"),me("verificationCode")]),Tt(Zr.prototype,{gb:{name:"verifyPhoneNumber",j:[Ct(me(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(c){return c?c.session&&c.phoneNumber?Mm(c.session,Ja)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Mm(c.session,fl)&&zb(c.multiFactorHint):c.session&&c.multiFactorUid?Mm(c.session,fl)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),$l()]}}),Tt(Ii.prototype,{w:{name:"toJSON",j:[me(null,!0)]}}),Tt(k.prototype,{toJSON:{name:"toJSON",j:[me(null,!0)]}}),Tt(eu.prototype,{toJSON:{name:"toJSON",j:[me(null,!0)]}}),Tt(cp.prototype,{toJSON:{name:"toJSON",j:[me(null,!0)]}}),Tt(nm.prototype,{toJSON:{name:"toJSON",j:[me(null,!0)]}}),Tt(tm.prototype,{Rc:{name:"resolveSignIn",j:[Gb()]}}),Tt(im.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Gb(),me("displayName",!0)]},bd:{name:"unenroll",j:[Ct({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:zb},me(),"multiFactorInfoIdentifier")]}}),Tt(Dm.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Nt(Qd,"parseLink",R0,[me("link")]),Nt(km,"assertion",function(i){return new _b(i)},[Ti("phone")]),function(){if(typeof xe<"u"&&xe.INTERNAL&&xe.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:il,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Yd,VERIFY_AND_CHANGE_EMAIL:Ya,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:vr,AuthCredential:Ss,Error:k};Nt(i,"EmailAuthProvider",ir,[]),Nt(i,"FacebookAuthProvider",wo,[]),Nt(i,"GithubAuthProvider",bo,[]),Nt(i,"GoogleAuthProvider",Io,[]),Nt(i,"TwitterAuthProvider",ks,[]),Nt(i,"OAuthProvider",Hn,[me("providerId")]),Nt(i,"SAMLAuthProvider",X0,[me("providerId")]),Nt(i,"PhoneAuthProvider",Zr,[DR()]),Nt(i,"RecaptchaVerifier",Dm,[Ct(me(),PR(),"recaptchaContainer"),Pt("recaptchaParameters",!0),LR()]),Nt(i,"ActionCodeURL",Qd,[]),Nt(i,"PhoneMultiFactorGenerator",km,[]),xe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new vr(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),xe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:U(a.getUid,a),getToken:U(a.nc,a),addAuthTokenListener:U(a.cc,a),removeAuthTokenListener:U(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),xe.registerVersion("@firebase/auth","0.16.8"),xe.INTERNAL.extendNamespace({User:Kn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Dg=function(e,t){return Dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Dg(e,t)};function bM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Dg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function i1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var IM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,zv=zv||{},Me=IM||self;function Nf(){}function Lg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function bc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function EM(e){return Object.prototype.hasOwnProperty.call(e,Xm)&&e[Xm]||(e[Xm]=++TM)}var Xm="closure_uid_"+(1e9*Math.random()>>>0),TM=0;function SM(e,t,n){return e.call.apply(e.bind,arguments)}function AM(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function rn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rn=SM:rn=AM,rn.apply(null,arguments)}function Ql(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function sn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return t.prototype[o].apply(r,u)}}function no(){this.s=this.s,this.o=this.o}var kM=0;no.prototype.s=!1;no.prototype.na=function(){!this.s&&(this.s=!0,this.M(),kM!=0)&&EM(this)};no.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var o1=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},s1=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function xM(e){e:{for(var t=_F,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function UI(e){return Array.prototype.concat.apply([],arguments)}function Wv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Of(e){return/^[\s\xa0]*$/.test(e)}var jI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function In(e,t){return e.indexOf(t)!=-1}function Ym(e,t){return e<t?-1:e>t?1:0}var En;e:{var BI=Me.navigator;if(BI){var qI=BI.userAgent;if(qI){En=qI;break e}}En=""}function Xv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function a1(e){var t={};for(var n in e)t[n]=e[n];return t}var $I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function u1(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<$I.length;s++)n=$I[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Yv(e){return Yv[" "](e),e}Yv[" "]=Nf;function CM(e){var t=RM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var NM=In(En,"Opera"),oa=In(En,"Trident")||In(En,"MSIE"),c1=In(En,"Edge"),Mg=c1||oa,l1=In(En,"Gecko")&&!(In(En.toLowerCase(),"webkit")&&!In(En,"Edge"))&&!(In(En,"Trident")||In(En,"MSIE"))&&!In(En,"Edge"),OM=In(En.toLowerCase(),"webkit")&&!In(En,"Edge");function f1(){var e=Me.document;return e?e.documentMode:void 0}var Rf;e:{var Qm="",Jm=function(){var e=En;if(l1)return/rv:([^\);]+)(\)|;)/.exec(e);if(c1)return/Edge\/([\d\.]+)/.exec(e);if(oa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(OM)return/WebKit\/(\S+)/.exec(e);if(NM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Jm&&(Qm=Jm?Jm[1]:""),oa){var Zm=f1();if(Zm!=null&&Zm>parseFloat(Qm)){Rf=String(Zm);break e}}Rf=Qm}var RM={};function PM(){return CM(function(){for(var e=0,t=jI(String(Rf)).split("."),n=jI("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=Ym(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||Ym(s[2].length==0,u[2].length==0)||Ym(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var Fg;if(Me.document&&oa){var HI=f1();Fg=HI||parseInt(Rf,10)||void 0}else Fg=void 0;var DM=Fg,LM=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Me.addEventListener("test",Nf,t),Me.removeEventListener("test",Nf,t)}catch{}return e}();function hn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};function Ju(e,t){if(hn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(l1){e:{try{Yv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:MM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ju.Z.h.call(this)}}sn(Ju,hn);var MM={2:"touch",3:"pen",4:"mouse"};Ju.prototype.h=function(){Ju.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ic="closure_listenable_"+(1e6*Math.random()|0),FM=0;function VM(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++FM,this.ca=this.fa=!1}function Ah(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function kh(e){this.src=e,this.g={},this.h=0}kh.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=Ug(e,t,r,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new VM(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function Vg(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=o1(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(Ah(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ug(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var Qv="closure_lm_"+(1e6*Math.random()|0),eg={};function h1(e,t,n,r,o){if(r&&r.once)return p1(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)h1(e,t[s],n,r,o);return null}return n=ey(n),e&&e[Ic]?e.N(t,n,bc(r)?!!r.capture:!!r,o):d1(e,t,n,!1,r,o)}function d1(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=bc(o)?!!o.capture:!!o,l=Zv(e);if(l||(e[Qv]=l=new kh(e)),n=l.add(t,n,r,u,s),n.proxy)return n;if(r=UM(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)LM||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(g1(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function UM(){function e(n){return t.call(e.src,e.listener,n)}var t=jM;return e}function p1(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)p1(e,t[s],n,r,o);return null}return n=ey(n),e&&e[Ic]?e.O(t,n,bc(r)?!!r.capture:!!r,o):d1(e,t,n,!0,r,o)}function m1(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)m1(e,t[s],n,r,o);else r=bc(r)?!!r.capture:!!r,n=ey(n),e&&e[Ic]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Ug(s,n,r,o),-1<n&&(Ah(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Zv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ug(t,n,r,o)),(n=-1<e?t[e]:null)&&Jv(n))}function Jv(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Ic])Vg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(g1(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Zv(t))?(Vg(n,e),n.h==0&&(n.src=null,t[Qv]=null)):Ah(e)}}}function g1(e){return e in eg?eg[e]:eg[e]="on"+e}function jM(e,t){if(e.ca)e=!0;else{t=new Ju(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Jv(e),e=n.call(r,t)}return e}function Zv(e){return e=e[Qv],e instanceof kh?e:null}var tg="__closure_events_fn_"+(1e9*Math.random()>>>0);function ey(e){return typeof e=="function"?e:(e[tg]||(e[tg]=function(t){return e.handleEvent(t)}),e[tg])}function Yt(){no.call(this),this.i=new kh(this),this.P=this,this.I=null}sn(Yt,no);Yt.prototype[Ic]=!0;Yt.prototype.removeEventListener=function(e,t,n,r){m1(this,e,t,n,r)};function on(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new hn(t,e);else if(t instanceof hn)t.target=t.target||e;else{var o=t;t=new hn(r,e),u1(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=Jl(u,r,!0,t)&&o}if(u=t.g=e,o=Jl(u,r,!0,t)&&o,o=Jl(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=Jl(u,r,!1,t)&&o}Yt.prototype.M=function(){if(Yt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ah(n[r]);delete e.g[t],e.h--}}this.I=null};Yt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Yt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Jl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var l=u.listener,f=u.ia||u.src;u.fa&&Vg(e.i,u),o=l.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var ty=Me.JSON.stringify;function BM(){var e=y1,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=v1.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),v1=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new $M},function(e){return e.reset()}),$M=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function HM(e){Me.setTimeout(function(){throw e},0)}function ny(e,t){jg||KM(),Bg||(jg(),Bg=!0),y1.add(e,t)}var jg;function KM(){var e=Me.Promise.resolve(void 0);jg=function(){e.then(GM)}}var Bg=!1,y1=new qM;function GM(){for(var e;e=BM();){try{e.h.call(e.g)}catch(n){HM(n)}var t=v1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Bg=!1}function xh(e,t){Yt.call(this),this.h=e||1,this.g=t||Me,this.j=rn(this.kb,this),this.l=Date.now()}sn(xh,Yt);he=xh.prototype;he.da=!1;he.S=null;he.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),on(this,"tick"),this.da&&(ry(this),this.start()))}};he.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ry(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}he.M=function(){xh.Z.M.call(this),ry(this),delete this.g};function iy(e,t,n){if(typeof e=="function")n&&(e=rn(e,n));else if(e&&typeof e.handleEvent=="function")e=rn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Me.setTimeout(e,t||0)}function _1(e){e.g=iy(function(){e.g=null,e.i&&(e.i=!1,_1(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var zM=function(e){bM(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:_1(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(no);function Zu(e){no.call(this),this.h=e,this.g={}}sn(Zu,no);var KI=[];function w1(e,t,n,r){Array.isArray(n)||(n&&(KI[0]=n.toString()),n=KI);for(var o=0;o<n.length;o++){var s=h1(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function b1(e){Xv(e.g,function(t,n){this.g.hasOwnProperty(n)&&Jv(t)},e),e.g={}}Zu.prototype.M=function(){Zu.Z.M.call(this),b1(this)};Zu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ch(){this.g=!0}Ch.prototype.Aa=function(){this.g=!1};function WM(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var u="",l=s.split("&"),f=0;f<l.length;f++){var p=l[f].split("=");if(1<p.length){var g=p[0];p=p[1];var h=g.split("_");u=2<=h.length&&h[1]=="type"?u+(g+"="+p+"&"):u+(g+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function XM(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function zs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+QM(e,n)+(r?" "+r:"")})}function YM(e,t){e.info(function(){return"TIMEOUT: "+t})}Ch.prototype.info=function(){};function QM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return ty(n)}catch{return t}}var as={},GI=null;function Nh(){return GI=GI||new Yt}as.Ma="serverreachability";function I1(e){hn.call(this,as.Ma,e)}sn(I1,hn);function ec(e){var t=Nh();on(t,new I1(t))}as.STAT_EVENT="statevent";function E1(e,t){hn.call(this,as.STAT_EVENT,e),this.stat=t}sn(E1,hn);function Tn(e){var t=Nh();on(t,new E1(t,e))}as.Na="timingevent";function T1(e,t){hn.call(this,as.Na,e),this.size=t}sn(T1,hn);function Ec(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){e()},t)}var Oh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},S1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function oy(){}oy.prototype.h=null;function zI(e){return e.h||(e.h=e.i())}function A1(){}var Tc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sy(){hn.call(this,"d")}sn(sy,hn);function ay(){hn.call(this,"c")}sn(ay,hn);var qg;function Rh(){}sn(Rh,oy);Rh.prototype.g=function(){return new XMLHttpRequest};Rh.prototype.i=function(){return{}};qg=new Rh;function Sc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Zu(this),this.P=JM,e=Mg?125:void 0,this.W=new xh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new k1}function k1(){this.i=null,this.g="",this.h=!1}var JM=45e3,$g={},Pf={};he=Sc.prototype;he.setTimeout=function(e){this.P=e};function Hg(e,t,n){e.K=1,e.v=Dh(di(t)),e.s=n,e.U=!0,x1(e,null)}function x1(e,t){e.F=Date.now(),Ac(e),e.A=di(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),L1(n.h,"t",r),e.C=0,n=e.l.H,e.h=new k1,e.g=tA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new zM(rn(e.Ia,e,e.g),e.O)),w1(e.V,e.g,"readystatechange",e.gb),t=e.H?a1(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ec(),WM(e.j,e.u,e.A,e.m,e.X,e.s)}he.gb=function(e){e=e.target;var t=this.L;t&&oi(e)==3?t.l():this.Ia(e)};he.Ia=function(e){try{if(e==this.g)e:{var t=oi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||Mg||this.g&&(this.h.h||this.g.ga()||QI(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?ec(3):ec(2)),Ph(this);var o=this.g.ba();this.N=o;t:if(C1(this)){var s=QI(this.g);e="";var u=s.length,l=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qo(this),Lu(this);var f="";break t}this.h.i=new Me.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,XM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var p,g=this.g;if((p=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Of(p)){var h=p;break t}}h=null}if(o=h)zs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Kg(this,o);else{this.i=!1,this.o=3,Tn(12),qo(this),Lu(this);break e}}this.U?(N1(this,t,f),Mg&&this.i&&t==3&&(w1(this.V,this.W,"tick",this.fb),this.W.start())):(zs(this.j,this.m,f,null),Kg(this,f)),t==4&&qo(this),this.i&&!this.I&&(t==4?Q1(this.l,this):(this.i=!1,Ac(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Tn(12)):(this.o=0,Tn(13)),qo(this),Lu(this)}}}catch{}finally{}};function C1(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function N1(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=ZM(e,n),o==Pf){t==4&&(e.o=4,Tn(14),r=!1),zs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==$g){e.o=4,Tn(15),zs(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else zs(e.j,e.m,o,null),Kg(e,o);C1(e)&&o!=Pf&&o!=$g&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Tn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gy(t),t.L=!0,Tn(11))):(zs(e.j,e.m,n,"[Invalid Chunked Response]"),qo(e),Lu(e))}he.fb=function(){if(this.g){var e=oi(this.g),t=this.g.ga();this.C<t.length&&(Ph(this),N1(this,e,t),this.i&&e!=4&&Ac(this))}};function ZM(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Pf:(n=Number(t.substring(n,r)),isNaN(n)?$g:(r+=1,r+n>t.length?Pf:(t=t.substr(r,n),e.C=r+n,t)))}he.cancel=function(){this.I=!0,qo(this)};function Ac(e){e.Y=Date.now()+e.P,O1(e,e.P)}function O1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ec(rn(e.eb,e),t)}function Ph(e){e.B&&(Me.clearTimeout(e.B),e.B=null)}he.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(YM(this.j,this.A),this.K!=2&&(ec(),Tn(17)),qo(this),this.o=2,Lu(this)):O1(this,this.Y-e)};function Lu(e){e.l.G==0||e.I||Q1(e.l,e)}function qo(e){Ph(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,ry(e.W),b1(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Kg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Gg(n.i,e))){if(n.I=e.N,!e.J&&Gg(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Ff(n),Fh(n);else break e;my(n),Tn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ec(rn(n.ab,n),6e3));if(1>=V1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else $o(n,11)}else if((e.J||n.g==e)&&Ff(n),!Of(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var p=e.g;if(p){var g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var h=r.i;!h.g&&(In(g,"spdy")||In(g,"quic")||In(g,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ly(h,h.h),h.h=null))}if(r.D){var m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,bt(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=eA(r,r.H?r.la:null,r.W),y.J){U1(r.i,y);var _=y,I=r.K;I&&_.setTimeout(I),_.B&&(Ph(_),Ac(_)),r.g=y}else X1(r);0<n.l.length&&Vh(n)}else s[0]!="stop"&&s[0]!="close"||$o(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?$o(n,7):py(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}ec(4)}catch{}}function eF(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Lg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function uy(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Lg(e)||typeof e=="string")s1(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Lg(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=eF(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function ka(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ka)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}he=ka.prototype;he.R=function(){cy(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};he.T=function(){return cy(this),this.g.concat()};function cy(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];es(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],es(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}he.get=function(e,t){return es(this.h,e)?this.h[e]:t};he.set=function(e,t){es(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};he.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function es(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tF(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function ts(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ts){this.g=t!==void 0?t:e.g,Df(this,e.j),this.s=e.s,Lf(this,e.i),Mf(this,e.m),this.l=e.l,t=e.h;var n=new tc;n.i=t.i,t.g&&(n.g=new ka(t.g),n.h=t.h),WI(this,n),this.o=e.o}else e&&(n=String(e).match(R1))?(this.g=!!t,Df(this,n[1]||"",!0),this.s=Mu(n[2]||""),Lf(this,n[3]||"",!0),Mf(this,n[4]),this.l=Mu(n[5]||"",!0),WI(this,n[6]||"",!0),this.o=Mu(n[7]||"")):(this.g=!!t,this.h=new tc(null,this.g))}ts.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Cu(t,XI,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Cu(t,XI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Cu(n,n.charAt(0)=="/"?sF:oF,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Cu(n,uF)),e.join("")};function di(e){return new ts(e)}function Df(e,t,n){e.j=n?Mu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lf(e,t,n){e.i=n?Mu(t,!0):t}function Mf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function WI(e,t,n){t instanceof tc?(e.h=t,cF(e.h,e.g)):(n||(t=Cu(t,aF)),e.h=new tc(t,e.g))}function bt(e,t,n){e.h.set(t,n)}function Dh(e){return bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nF(e){return e instanceof ts?di(e):new ts(e,void 0)}function rF(e,t,n,r){var o=new ts(null,void 0);return e&&Df(o,e),t&&Lf(o,t),n&&Mf(o,n),r&&(o.l=r),o}function Mu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Cu(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,iF),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function iF(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var XI=/[#\/\?@]/g,oF=/[#\?:]/g,sF=/[#\?]/g,aF=/[#\?@]/g,uF=/#/g;function tc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ro(e){e.g||(e.g=new ka,e.h=0,e.i&&tF(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}he=tc.prototype;he.add=function(e,t){ro(this),this.i=null,e=xa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function P1(e,t){ro(e),t=xa(e,t),es(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,es(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&cy(e)))}function D1(e,t){return ro(e),t=xa(e,t),es(e.g.h,t)}he.forEach=function(e,t){ro(this),this.g.forEach(function(n,r){s1(n,function(o){e.call(t,o,r,this)},this)},this)};he.T=function(){ro(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};he.R=function(e){ro(this);var t=[];if(typeof e=="string")D1(this,e)&&(t=UI(t,this.g.get(xa(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=UI(t,e[n])}return t};he.set=function(e,t){return ro(this),this.i=null,e=xa(this,e),D1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};he.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function L1(e,t,n){P1(e,t),0<n.length&&(e.i=null,e.g.set(xa(e,t),Wv(n)),e.h+=n.length)}he.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.i=e.join("&")};function xa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function cF(e,t){t&&!e.j&&(ro(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(P1(this,r),L1(this,o,n))},e)),e.j=t}var lF=function(){function e(t,n){this.h=t,this.g=n}return e}();function M1(e){this.l=e||fF,Me.PerformanceNavigationTiming?(e=Me.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Me.g&&Me.g.Ea&&Me.g.Ea()&&Me.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fF=10;function F1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function V1(e){return e.h?1:e.g?e.g.size:0}function Gg(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ly(e,t){e.g?e.g.add(t):e.h=t}function U1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}M1.prototype.cancel=function(){var e,t;if(this.i=j1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=i1(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function j1(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=i1(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return Wv(e.i)}function fy(){}fy.prototype.stringify=function(e){return Me.JSON.stringify(e,void 0)};fy.prototype.parse=function(e){return Me.JSON.parse(e,void 0)};function hF(){this.g=new fy}function dF(e,t,n){var r=n||"";try{uy(e,function(o,s){var u=o;bc(o)&&(u=ty(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function pF(e,t){var n=new Ch;if(Me.Image){var r=new Image;r.onload=Ql(Zl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ql(Zl,n,r,"TestLoadImage: error",!1,t),r.onabort=Ql(Zl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ql(Zl,n,r,"TestLoadImage: timeout",!1,t),Me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Zl(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function kc(e){this.l=e.$b||null,this.j=e.ib||!1}sn(kc,oy);kc.prototype.g=function(){return new Lh(this.l,this.j)};kc.prototype.i=function(e){return function(){return e}}({});function Lh(e,t){Yt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=hy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn(Lh,Yt);var hy=0;he=Lh.prototype;he.open=function(e,t){if(this.readyState!=hy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,nc(this)};he.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Me).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xc(this)),this.readyState=hy};he.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,nc(this)),this.g&&(this.readyState=3,nc(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;B1(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function B1(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}he.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xc(this):nc(this),this.readyState==3&&B1(this)}};he.Ua=function(e){this.g&&(this.response=this.responseText=e,xc(this))};he.Ta=function(e){this.g&&(this.response=e,xc(this))};he.ha=function(){this.g&&xc(this)};function xc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,nc(e)}he.setRequestHeader=function(e,t){this.v.append(e,t)};he.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};he.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function nc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var mF=Me.JSON.parse;function Ut(e){Yt.call(this),this.headers=new ka,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=q1,this.K=this.L=!1}sn(Ut,Yt);var q1="",gF=/^https?$/i,vF=["POST","PUT"];he=Ut.prototype;he.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qg.g(),this.C=this.u?zI(this.u):zI(qg),this.g.onreadystatechange=rn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){YI(this,s);return}e=n||"";var o=new ka(this.headers);r&&uy(r,function(s,u){o.set(u,s)}),r=xM(o.T()),n=Me.FormData&&e instanceof Me.FormData,!(0<=o1(vF,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{K1(this),0<this.B&&((this.K=yF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.pa,this)):this.A=iy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){YI(this,s)}};function yF(e){return oa&&PM()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function _F(e){return e.toLowerCase()=="content-type"}he.pa=function(){typeof zv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,on(this,"timeout"),this.abort(8))};function YI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$1(e),Mh(e)}function $1(e){e.D||(e.D=!0,on(e,"complete"),on(e,"error"))}he.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,on(this,"complete"),on(this,"abort"),Mh(this))};he.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mh(this,!0)),Ut.Z.M.call(this)};he.Fa=function(){this.s||(this.F||this.v||this.l?H1(this):this.cb())};he.cb=function(){H1(this)};function H1(e){if(e.h&&typeof zv<"u"&&(!e.C[1]||oi(e)!=4||e.ba()!=2)){if(e.v&&oi(e)==4)iy(e.Fa,0,e);else if(on(e,"readystatechange"),oi(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(R1)[1]||null;if(!s&&Me.self&&Me.self.location){var u=Me.self.location.protocol;s=u.substr(0,u.length-1)}o=!gF.test(s?s.toLowerCase():"")}r=o}if(r)on(e,"complete"),on(e,"success");else{e.m=6;try{var l=2<oi(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",$1(e)}}finally{Mh(e)}}}}function Mh(e,t){if(e.g){K1(e);var n=e.g,r=e.C[0]?Nf:null;e.g=null,e.C=null,t||on(e,"ready");try{n.onreadystatechange=r}catch{}}}function K1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Me.clearTimeout(e.A),e.A=null)}function oi(e){return e.g?e.g.readyState:0}he.ba=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}};he.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};he.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),mF(t)}};function QI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case q1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}he.Da=function(){return this.m};he.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function wF(e){var t="";return Xv(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function dy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wF(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):bt(e,t,n))}function bu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function G1(e){this.za=0,this.l=[],this.h=new Ch,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bu("baseRetryDelayMs",5e3,e),this.$a=bu("retryDelaySeedMs",1e4,e),this.Ya=bu("forwardChannelMaxRetries",2,e),this.ra=bu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new M1(e&&e.concurrentRequestLimit),this.Ca=new hF,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}he=G1.prototype;he.ma=8;he.G=1;function py(e){if(z1(e),e.G==3){var t=e.V++,n=di(e.F);bt(n,"SID",e.J),bt(n,"RID",t),bt(n,"TYPE","terminate"),Cc(e,n),t=new Sc(e,e.h,t,void 0),t.K=2,t.v=Dh(di(n)),n=!1,Me.navigator&&Me.navigator.sendBeacon&&(n=Me.navigator.sendBeacon(t.v.toString(),"")),!n&&Me.Image&&(new Image().src=t.v,n=!0),n||(t.g=tA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ac(t)}Z1(e)}he.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Fh(e){e.g&&(gy(e),e.g.cancel(),e.g=null)}function z1(e){Fh(e),e.u&&(Me.clearTimeout(e.u),e.u=null),Ff(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Me.clearTimeout(e.m),e.m=null)}function ng(e,t){e.l.push(new lF(e.Za++,t)),e.G==3&&Vh(e)}function Vh(e){F1(e.i)||e.m||(e.m=!0,ny(e.Ha,e),e.C=0)}function bF(e,t){return V1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Ec(rn(e.Ha,e,t),J1(e,e.C)),e.C++,!0)}he.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Sc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=a1(n),u1(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=W1(this,t,r),o=di(this.F),bt(o,"RID",e),bt(o,"CVER",22),this.D&&bt(o,"X-HTTP-Session-Id",this.D),Cc(this,o),this.o&&n&&dy(o,this.o,n),ly(this.i,t),this.Ra&&bt(o,"TYPE","init"),this.ja?(bt(o,"$req",r),bt(o,"SID","null"),t.$=!0,Hg(t,o,null)):Hg(t,o,r),this.G=2}}else this.G==3&&(e?JI(this,e):this.l.length==0||F1(this.i)||JI(this))};function JI(e,t){var n;t?n=t.m:n=e.V++;var r=di(e.F);bt(r,"SID",e.J),bt(r,"RID",n),bt(r,"AID",e.U),Cc(e,r),e.o&&e.s&&dy(r,e.o,e.s),n=new Sc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=W1(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ly(e.i,n),Hg(n,r,t)}function Cc(e,t){e.j&&uy({},function(n,r){bt(t,r,n)})}function W1(e,t,n){n=Math.min(e.l.length,n);var r=e.j?rn(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var p=o[f].h,g=o[f].g;if(p-=s,0>p)s=Math.max(0,o[f].h-100),l=!1;else try{dF(g,u,"req"+p+"_")}catch{r&&r(g)}}if(l){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function X1(e){e.g||e.u||(e.Y=1,ny(e.Ga,e),e.A=0)}function my(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Ec(rn(e.Ga,e),J1(e,e.A)),e.A++,!0)}he.Ga=function(){if(this.u=null,Y1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ec(rn(this.bb,this),e)}};he.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Tn(10),Fh(this),Y1(this))};function gy(e){e.B!=null&&(Me.clearTimeout(e.B),e.B=null)}function Y1(e){e.g=new Sc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=di(e.oa);bt(t,"RID","rpc"),bt(t,"SID",e.J),bt(t,"CI",e.N?"0":"1"),bt(t,"AID",e.U),Cc(e,t),bt(t,"TYPE","xmlhttp"),e.o&&e.s&&dy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Dh(di(t)),n.s=null,n.U=!0,x1(n,e)}he.ab=function(){this.v!=null&&(this.v=null,Fh(this),my(this),Tn(19))};function Ff(e){e.v!=null&&(Me.clearTimeout(e.v),e.v=null)}function Q1(e,t){var n=null;if(e.g==t){Ff(e),gy(e),e.g=null;var r=2}else if(Gg(e.i,t))n=t.D,U1(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=Nh(),on(r,new T1(r,n)),Vh(e)}else X1(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&bF(e,t)||r==2&&my(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:$o(e,5);break;case 4:$o(e,10);break;case 3:$o(e,6);break;default:$o(e,2)}}}function J1(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function $o(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=rn(e.jb,e);n||(n=new ts("//www.google.com/images/cleardot.gif"),Me.location&&Me.location.protocol=="http"||Df(n,"https"),Dh(n)),pF(n.toString(),r)}else Tn(2);e.G=0,e.j&&e.j.va(t),Z1(e),z1(e)}he.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Tn(2)):(this.h.info("Failed to ping google.com"),Tn(1))};function Z1(e){e.G=0,e.I=-1,e.j&&((j1(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Wv(e.l),e.l.length=0),e.j.ua())}function eA(e,t,n){var r=nF(n);if(r.i!="")t&&Lf(r,t+"."+r.i),Mf(r,r.m);else{var o=Me.location;r=rF(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Xv(e.aa,function(s,u){bt(r,u,s)}),t=e.D,n=e.sa,t&&n&&bt(r,t,n),bt(r,"VER",e.ma),Cc(e,r),r}function tA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Ut(new kc({ib:!0})):new Ut(e.qa),t.L=e.H,t}function nA(){}he=nA.prototype;he.xa=function(){};he.wa=function(){};he.va=function(){};he.ua=function(){};he.Oa=function(){};function Vf(){if(oa&&!(10<=Number(DM)))throw Error("Environmental error: no available transport.")}Vf.prototype.g=function(e,t){return new er(e,t)};function er(e,t){Yt.call(this),this.g=new G1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Of(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Of(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ca(this)}sn(er,Yt);er.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ny(rn(e.hb,e,t))),Tn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=eA(e,null,e.W),Vh(e)};er.prototype.close=function(){py(this.g)};er.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,ng(this.g,t)}else this.v?(t={},t.__data__=ty(e),ng(this.g,t)):ng(this.g,e)};er.prototype.M=function(){this.g.j=null,delete this.j,py(this.g),delete this.g,er.Z.M.call(this)};function rA(e){sy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}sn(rA,sy);function iA(){ay.call(this),this.status=1}sn(iA,ay);function Ca(e){this.g=e}sn(Ca,nA);Ca.prototype.xa=function(){on(this.g,"a")};Ca.prototype.wa=function(e){on(this.g,new rA(e))};Ca.prototype.va=function(e){on(this.g,new iA)};Ca.prototype.ua=function(){on(this.g,"b")};Vf.prototype.createWebChannel=Vf.prototype.g;er.prototype.send=er.prototype.u;er.prototype.open=er.prototype.m;er.prototype.close=er.prototype.close;Oh.NO_ERROR=0;Oh.TIMEOUT=8;Oh.HTTP_ERROR=6;S1.COMPLETE="complete";A1.EventType=Tc;Tc.OPEN="a";Tc.CLOSE="b";Tc.ERROR="c";Tc.MESSAGE="d";Yt.prototype.listen=Yt.prototype.N;Ut.prototype.listenOnce=Ut.prototype.O;Ut.prototype.getLastError=Ut.prototype.La;Ut.prototype.getLastErrorCode=Ut.prototype.Da;Ut.prototype.getStatus=Ut.prototype.ba;Ut.prototype.getResponseJson=Ut.prototype.Qa;Ut.prototype.getResponseText=Ut.prototype.ga;Ut.prototype.send=Ut.prototype.ea;var IF=function(){return new Vf},EF=function(){return Nh()},rg=Oh,TF=S1,SF=as,ZI={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},AF=kc,ef=A1,kF=Ut;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Yn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},J=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Te(t,e),t}(Error),Ar=new e1("@firebase/firestore");function zg(){return Ar.logLevel}function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ar.logLevel<=et.DEBUG){var r=t.map(vy);Ar.debug.apply(Ar,wt(["Firestore (8.10.1): "+e],r))}}function Ft(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ar.logLevel<=et.ERROR){var r=t.map(vy);Ar.error.apply(Ar,wt(["Firestore (8.10.1): "+e],r))}}function Uf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ar.logLevel<=et.WARN){var r=t.map(vy);Ar.warn.apply(Ar,wt(["Firestore (8.10.1): "+e],r))}}function vy(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Ft(t),new Error(t)}function Pe(e,t){e||we()}function ae(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oA=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=xF(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function We(e,t){return e<t?-1:e>t?1:0}function sa(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function sA(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new J(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?We(this.nanoseconds,t.nanoseconds):We(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),$e=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Mn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function us(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function aA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uA=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&we(),r===void 0?r=t.length-n:r>t.length-n&&we(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),nt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var l=u[s];if(l.indexOf("//")>=0)throw new J(M.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(uA),CF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return CF.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new J(M.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new J(M.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new J(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(u(),s++)}if(u(),l)throw new J(M.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(uA),aa=function(){function e(t){this.fields=t,t.sort(Cr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return sa(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Vn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return We(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Vn.EMPTY_BYTE_STRING=new Vn("");var NF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(e){if(Pe(!!e),typeof e=="string"){var t=0,n=NF.exec(e);if(Pe(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Lt(e.seconds),nanos:Lt(e.nanos)}}function Lt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ua(e){return typeof e=="string"?Vn.fromBase64String(e):Vn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cA(e){var t=e.mapValue.fields.__previous_value__;return yy(t)?cA(t):t}function rc(e){var t=Ji(e.mapValue.fields.__local_write_time__.timestampValue);return new Mn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(e){return e==null}function jf(e){return e===0&&1/e==-1/0}function lA(e){return typeof e=="number"&&Number.isInteger(e)&&!jf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(nt.fromString(t))},e.fromName=function(t){return new e(nt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&nt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return nt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new nt(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yy(e)?4:10:we()}function Xr(e,t){var n=ns(e);if(n!==ns(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rc(e).isEqual(rc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=Ji(r.timestampValue),u=Ji(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return ua(r.bytesValue).isEqual(ua(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Lt(r.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(r.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Lt(r.integerValue)===Lt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=Lt(r.doubleValue),u=Lt(o.doubleValue);return s===u?jf(s)===jf(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return sa(e.arrayValue.values||[],t.arrayValue.values||[],Xr);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(eE(s)!==eE(u))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(u[l]===void 0||!Xr(s[l],u[l])))return!1;return!0}(e,t);default:return we()}}function ic(e,t){return(e.values||[]).find(function(n){return Xr(n,t)})!==void 0}function ca(e,t){var n=ns(e),r=ns(t);if(n!==r)return We(n,r);switch(n){case 0:return 0;case 1:return We(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=Lt(o.integerValue||o.doubleValue),l=Lt(s.integerValue||s.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(e,t);case 3:return tE(e.timestampValue,t.timestampValue);case 4:return tE(rc(e),rc(t));case 5:return We(e.stringValue,t.stringValue);case 6:return function(o,s){var u=ua(o),l=ua(s);return u.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),l=s.split("/"),f=0;f<u.length&&f<l.length;f++){var p=We(u[f],l[f]);if(p!==0)return p}return We(u.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=We(Lt(o.latitude),Lt(s.latitude));return u!==0?u:We(Lt(o.longitude),Lt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],l=s.values||[],f=0;f<u.length&&f<l.length;++f){var p=ca(u[f],l[f]);if(p)return p}return We(u.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},l=Object.keys(u),f=s.fields||{},p=Object.keys(f);l.sort(),p.sort();for(var g=0;g<l.length&&g<p.length;++g){var h=We(l[g],p[g]);if(h!==0)return h;var m=ca(u[l[g]],f[p[g]]);if(m!==0)return m}return We(l.length,p.length)}(e.mapValue,t.mapValue);default:throw we()}}function tE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return We(e,t);var n=Ji(e),r=Ji(t),o=We(n.seconds,r.seconds);return o!==0?o:We(n.nanos,r.nanos)}function _y(e){return Wg(e)}function Wg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=Ji(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ua(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ie.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,l=r.values||[];u<l.length;u++)s?s=!1:o+=",",o+=Wg(l[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,l=Object.keys(r.fields||{}).sort();u<l.length;u++){var f=l[u];s?s=!1:o+=",",o+=f+":"+Wg(r.fields[f])}return o+"}"}(e.mapValue):we();var t,n}function Bf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Xg(e){return!!e&&"integerValue"in e}function wy(e){return!!e&&"arrayValue"in e}function nE(e){return!!e&&"nullValue"in e}function rE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gf(e){return!!e&&"mapValue"in e}function Fu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return us(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Fu(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Fu(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!gf(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fu(n)},e.prototype.setAll=function(t){var n=this,r=Cr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!r.isImmediateParentOf(f)){var p=n.getFieldsMap(r);n.applyChanges(p,o,s),o={},s=[],r=f.popLast()}l?o[f.lastSegment()]=Fu(l):s.push(f.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());gf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Xr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];gf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){us(n,function(l,f){return t[l]=f});for(var o=0,s=r;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(Fu(this.value))},e}();function fA(e){var t=[];return us(e.fields,function(n,r){var o=new Cr([n]);if(gf(r)){var s=fA(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,l=s;u<l.length;u++){var f=l[u];t.push(o.child(f))}}else t.push(o)}),new aa(t)}var dn=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,$e.min(),Xn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Xn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Xn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),OF=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new OF(e,t,n,r,o,s,u)}function Nc(e){var t=ae(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+_y(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),cs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=$f(t.startAt)),t.endAt&&(n+="|ub:",n+=$f(t.endAt)),t.h=n}return t.h}function Uh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!UF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!Xr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sE(e.startAt,t.startAt)&&sE(e.endAt,t.endAt)}function qf(e){return Ie.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Qn=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return Te(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new RF(n,r,o):r==="array-contains"?new LF(n,o):r==="in"?new MF(n,o):r==="not-in"?new FF(n,o):r==="array-contains-any"?new VF(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new PF(n,o):new DF(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(ca(r,this.value)):r!==null&&ns(this.value)===ns(r)&&this.m(ca(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return we()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),RF=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Ie.fromName(o.referenceValue),s}return Te(t,e),t.prototype.matches=function(n){var r=Ie.comparator(n.key,this.key);return this.m(r)},t}(Qn),PF=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=hA("in",r),o}return Te(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Qn),DF=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=hA("not-in",r),o}return Te(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Qn);function hA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Ie.fromName(r.referenceValue)})}var LF=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Te(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return wy(r)&&ic(r.arrayValue,this.value)},t}(Qn),MF=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Te(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&ic(this.value.arrayValue,r)},t}(Qn),FF=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Te(t,e),t.prototype.matches=function(n){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!ic(this.value.arrayValue,r)},t}(Qn),VF=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Te(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!wy(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return ic(r.value.arrayValue,s)})},t}(Qn),oc=function(e,t){this.position=e,this.before=t};function $f(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return _y(t)}).join(",")}var Zs=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function UF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function oE(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?Ie.comparator(Ie.fromName(u.referenceValue),n.key):ca(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function sE(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi=function(e,t,n,r,o,s,u,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function dA(e,t,n,r,o,s,u,l){return new mi(e,t,n,r,o,s,u,l)}function Oc(e){return new mi(e)}function vf(e){return!cs(e.limit)&&e.limitType==="F"}function Hf(e){return!cs(e.limit)&&e.limitType==="L"}function by(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Iy(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Ey(e){return e.collectionGroup!==null}function la(e){var t=ae(e);if(t.p===null){t.p=[];var n=Iy(t),r=by(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Zs(n)),t.p.push(new Zs(Cr.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var l=u[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Zs(Cr.keyField(),f))}}}return t.p}function Yr(e){var t=ae(e);if(!t.T)if(t.limitType==="F")t.T=iE(t.path,t.collectionGroup,la(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=la(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new Zs(s.field,u))}var l=t.endAt?new oc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new oc(t.startAt.position,!t.startAt.before):null;t.T=iE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function pA(e,t,n){return new mi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rc(e,t){return Uh(Yr(e),Yr(t))&&e.limitType===t.limitType}function mA(e){return Nc(Yr(e))+"|lt:"+e.limitType}function Yg(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+_y(o.value);var o}).join(", ")+"]"),cs(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+$f(t.startAt)),t.endAt&&(n+=", endAt: "+$f(t.endAt)),"Target("+n+")"}(Yr(e))+"; limitType="+e.limitType+")"}function Pc(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ie.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!oE(n.startAt,la(n),r))&&(!n.endAt||!oE(n.endAt,la(n),r))}(e,t)}function gA(e){return function(t,n){for(var r=!1,o=0,s=la(e);o<s.length;o++){var u=s[o],l=jF(u,t,n);if(l!==0)return l;r=r||u.field.isKeyField()}return 0}}function jF(e,t,n){var r=e.field.isKeyField()?Ie.comparator(t.key,n.key):function(o,s,u){var l=s.data.field(o),f=u.data.field(o);return l!==null&&f!==null?ca(l,f):we()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(t)?"-0":t}}function yA(e){return{integerValue:""+e}}function _A(e,t){return lA(t)?yA(t):vA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jh=function(){this._=void 0};function BF(e,t,n){return e instanceof fa?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof rs?bA(e,t):e instanceof is?IA(e,t):function(r,o){var s=wA(r,o),u=aE(s)+aE(r.A);return Xg(s)&&Xg(r.A)?yA(u):vA(r.R,u)}(e,t)}function qF(e,t,n){return e instanceof rs?bA(e,t):e instanceof is?IA(e,t):n}function wA(e,t){return e instanceof ha?Xg(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var fa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t}(jh),rs=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Te(t,e),t}(jh);function bA(e,t){for(var n=EA(t),r=function(u){n.some(function(l){return Xr(l,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var is=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Te(t,e),t}(jh);function IA(e,t){for(var n=EA(t),r=function(u){n=n.filter(function(l){return!Xr(l,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var ha=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return Te(t,e),t}(jh);function aE(e){return Lt(e.integerValue||e.doubleValue)}function EA(e){return wy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dc=function(e,t){this.field=e,this.transform=t},$F=function(e,t){this.version=e,this.transformResults=t},fn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function yf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Bh=function(){};function HF(e,t,n){e instanceof Lc?function(r,o,s){var u=r.value.clone(),l=lE(r.fieldTransforms,o,s.transformResults);u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof io?function(r,o,s){if(yf(r.precondition,o)){var u=lE(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(TA(r)),l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Qg(e,t,n){e instanceof Lc?function(r,o,s){if(yf(r.precondition,o)){var u=r.value.clone(),l=fE(r.fieldTransforms,s,o);u.setAll(l),o.convertToFoundDocument(cE(o),u).setHasLocalMutations()}}(e,t,n):e instanceof io?function(r,o,s){if(yf(r.precondition,o)){var u=fE(r.fieldTransforms,s,o),l=o.data;l.setAll(TA(r)),l.setAll(u),o.convertToFoundDocument(cE(o),l).setHasLocalMutations()}}(e,t,n):function(r,o){yf(r.precondition,o)&&o.convertToNoDocument($e.min())}(e,t)}function KF(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),l=wA(s.transform,u||null);l!=null&&(n==null&&(n=Xn.empty()),n.set(s.field,l))}return n||null}function uE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&sa(n,r,function(o,s){return function(u,l){return u.field.isEqual(l.field)&&function(f,p){return f instanceof rs&&p instanceof rs||f instanceof is&&p instanceof is?sa(f.elements,p.elements,Xr):f instanceof ha&&p instanceof ha?Xr(f.A,p.A):f instanceof fa&&p instanceof fa}(u.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function cE(e){return e.isFoundDocument()?e.version:$e.min()}var Lc=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return Te(t,e),t}(Bh),io=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=s,l.fieldTransforms=u,l.type=1,l}return Te(t,e),t}(Bh);function TA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function lE(e,t,n){var r=new Map;Pe(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,l=t.data.field(s.field);r.set(s.field,qF(u,l,n[o]))}return r}function fE(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],l=u.transform,f=n.data.field(u.field);r.set(u.field,BF(l,f,t))}return r}var Dt,Ye,Mc=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Te(t,e),t}(Bh),Ty=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Te(t,e),t}(Bh),GF=function(e){this.count=e};function SA(e){switch(e){case M.OK:return we();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return we()}}function AA(e){if(e===void 0)return Ft("GRPC error has no .code"),M.UNKNOWN;switch(e){case Dt.OK:return M.OK;case Dt.CANCELLED:return M.CANCELLED;case Dt.UNKNOWN:return M.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return M.INTERNAL;case Dt.UNAVAILABLE:return M.UNAVAILABLE;case Dt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Dt.NOT_FOUND:return M.NOT_FOUND;case Dt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Dt.ABORTED:return M.ABORTED;case Dt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Dt.DATA_LOSS:return M.DATA_LOSS;default:return we()}}(Ye=Dt||(Dt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn=function(){function e(t,n){this.comparator=t,this.root=n||Fi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new tf(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new tf(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new tf(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new tf(this.root,t,this.comparator,!0)},e}(),tf=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Fi=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();var t=this.left.check();if(t!==this.right.check())throw we();return t+(this.isRed()?0:1)},e}();Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw we()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new Fi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt=function(){function e(t){this.comparator=t,this.data=new pn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new hE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new hE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),hE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),zF=new pn(Ie.comparator);function kr(){return zF}var WF=new pn(Ie.comparator);function Jg(){return WF}var XF=new pn(Ie.comparator);function YF(){return XF}var QF=new Gt(Ie.comparator);function ft(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=QF,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var JF=new Gt(We);function qh(){return JF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sy=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Ay.createSynthesizedTargetChangeForCurrentChange(t,n)),new e($e.min(),r,qh(),kr(),ft())},e}(),Ay=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Vn.EMPTY_BYTE_STRING,n,ft(),ft(),ft())},e}(),_f=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},kA=function(e,t){this.targetId=e,this.V=t},xA=function(e,t,n,r){n===void 0&&(n=Vn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},dE=function(){function e(){this.S=0,this.D=mE(),this.C=Vn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=ft(),n=ft(),r=ft();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:we()}}),new Ay(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=mE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ZF=function(){function e(t){this.W=t,this.G=new Map,this.H=kr(),this.J=pE(),this.Y=new Gt(We)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:we()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(qf(s))if(r===0){var u=new Ie(s.path);this.tt(n,u,dn.newNoDocument(u,$e.min()))}else Pe(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,l){var f=n.ot(l);if(f){if(u.current&&qf(f.target)){var p=new Ie(f.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,dn.newNoDocument(p,t))}u.$&&(r.set(l,u.M()),u.L())}});var o=ft();this.J.forEach(function(u,l){var f=!0;l.forEachWhile(function(p){var g=n.ot(p);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new Sy(t,r,this.Y,this.H,o);return this.H=kr(),this.J=pE(),this.Y=new Gt(We),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new dE,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Gt(We),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||re("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new dE),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function pE(){return new pn(Ie.comparator)}function mE(){return new pn(Ie.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eV={asc:"ASCENDING",desc:"DESCENDING"},tV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nV=function(e,t){this.databaseId=e,this.I=t};function sc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function CA(e,t){return e.I?t.toBase64():t.toUint8Array()}function rV(e,t){return sc(e,t.toTimestamp())}function Sn(e){return Pe(!!e),$e.fromTimestamp(function(t){var n=Ji(t);return new Mn(n.seconds,n.nanos)}(e))}function ky(e,t){return function(n){return new nt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function NA(e){var t=nt.fromString(e);return Pe(FA(t)),t}function ac(e,t){return ky(e.databaseId,t.path)}function ai(e,t){var n=NA(t);if(n.get(1)!==e.databaseId.projectId)throw new J(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ie(RA(n))}function Zg(e,t){return ky(e.databaseId,t)}function OA(e){var t=NA(e);return t.length===4?nt.emptyPath():RA(t)}function uc(e){return new nt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function RA(e){return Pe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function gE(e,t,n){return{name:ac(e,t),fields:n.value.mapValue.fields}}function iV(e,t,n){var r=ai(e,t.name),o=Sn(t.updateTime),s=new Xn({mapValue:{fields:t.fields}}),u=dn.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Kf(e,t){var n;if(t instanceof Lc)n={update:gE(e,t.key,t.value)};else if(t instanceof Mc)n={delete:ac(e,t.key)};else if(t instanceof io)n={update:gE(e,t.key,t.data),updateMask:cV(t.fieldMask)};else{if(!(t instanceof Ty))return we();n={verify:ac(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof fa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof rs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof is)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ha)return{fieldPath:s.field.canonicalString(),increment:u.A};throw we()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:rV(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(e,t.precondition)),n}function vE(e,t){var n=t.currentDocument?function(p){return p.updateTime!==void 0?fn.updateTime(Sn(p.updateTime)):p.exists!==void 0?fn.exists(p.exists):fn.none()}(t.currentDocument):fn.none(),r=t.updateTransforms?t.updateTransforms.map(function(p){return function(g,h){var m=null;if("setToServerValue"in h)Pe(h.setToServerValue==="REQUEST_TIME"),m=new fa;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];m=new rs(y)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];m=new is(_)}else"increment"in h?m=new ha(g,h.increment):we();var I=Cr.fromServerFormat(h.fieldPath);return new Dc(I,m)}(e,p)}):[];if(t.update){t.update.name;var o=ai(e,t.update.name),s=new Xn({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(p){var g=p.fieldPaths||[];return new aa(g.map(function(h){return Cr.fromServerFormat(h)}))}(t.updateMask);return new io(o,s,u,n,r)}return new Lc(o,s,n,r)}if(t.delete){var l=ai(e,t.delete);return new Mc(l,n)}if(t.verify){var f=ai(e,t.verify);return new Ty(f,n)}return we()}function PA(e,t){return{documents:[Zg(e,t.path)]}}function DA(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Zg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Zg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(p){return function(g){if(g.op==="=="){if(rE(g.value))return{unaryFilter:{field:js(g.field),op:"IS_NAN"}};if(nE(g.value))return{unaryFilter:{field:js(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(rE(g.value))return{unaryFilter:{field:js(g.field),op:"IS_NOT_NAN"}};if(nE(g.value))return{unaryFilter:{field:js(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(g.field),op:sV(g.op),value:g.value}}}(p)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(p){return{field:js(p.field),direction:oV(p.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(l,f){return l.I||cs(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=yE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=yE(t.endAt)),n}function LA(e){var t=OA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){Pe(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=MA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(m){return new Zs(Ws(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h)}));var f=null;n.limit&&(f=function(h){var m;return cs(m=typeof h=="object"?h.value:h)?null:m}(n.limit));var p=null;n.startAt&&(p=_E(n.startAt));var g=null;return n.endAt&&(g=_E(n.endAt)),dA(t,o,l,u,f,"F",p,g)}function MA(e){return e?e.unaryFilter!==void 0?[uV(e)]:e.fieldFilter!==void 0?[aV(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return MA(t)}).reduce(function(t,n){return t.concat(n)}):we():[]}function yE(e){return{before:e.before,values:e.position}}function _E(e){var t=!!e.before,n=e.values||[];return new oc(n,t)}function oV(e){return eV[e]}function sV(e){return tV[e]}function js(e){return{fieldPath:e.canonicalString()}}function Ws(e){return Cr.fromServerFormat(e.fieldPath)}function aV(e){return Qn.create(Ws(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return we()}}(e.fieldFilter.op),e.fieldFilter.value)}function uV(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ws(e.unaryFilter.field);return Qn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ws(e.unaryFilter.field);return Qn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ws(e.unaryFilter.field);return Qn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Ws(e.unaryFilter.field);return Qn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return we()}}function cV(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function FA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=wE(t)),t=lV(e.get(n),t);return wE(t)}function lV(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function wE(e){return e+""}function si(e){var t=e.length;if(Pe(t>=2),t===2)return Pe(e.charAt(0)===""&&e.charAt(1)===""),nt.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&we(),e.charAt(u+1)){case"":var l=e.substring(s,u),f=void 0;o.length===0?f=l:(f=o+=l,o=""),r.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:we()}s=u+2}return new nt(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fV=function(e,t){this.seconds=e,this.nanoseconds=t},zn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};zn.store="owner",zn.key="owner";var Gi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Gi.store="mutationQueues",Gi.keyPath="userId";var pt=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};pt.store="mutations",pt.keyPath="batchId",pt.userMutationsIndex="userMutationsIndex",pt.userMutationsKeyPath=["userId","batchId"];var un=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,xr(n)]},e.key=function(t,n,r){return[t,xr(n),r]},e}();un.store="documentMutations",un.PLACEHOLDER=new un;var hV=function(e,t){this.path=e,this.readTime=t},dV=function(e,t){this.path=e,this.version=t},kt=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};kt.store="remoteDocuments",kt.readTimeIndex="readTimeIndex",kt.readTimeIndexPath="readTime",kt.collectionReadTimeIndex="collectionReadTimeIndex",kt.collectionReadTimeIndexPath=["parentPath","readTime"];var Hr=function(e){this.byteSize=e};Hr.store="remoteDocumentGlobal",Hr.key="remoteDocumentGlobalKey";var Dn=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};Dn.store="targets",Dn.keyPath="targetId",Dn.queryTargetsIndexName="queryTargetsIndex",Dn.queryTargetsKeyPath=["canonicalId","targetId"];var nn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};nn.store="targetDocuments",nn.keyPath=["targetId","path"],nn.documentTargetsIndex="documentTargetsIndex",nn.documentTargetsKeyPath=["path","targetId"];var Wn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wn.key="targetGlobalKey",Wn.store="targetGlobal";var Wo=function(e,t){this.collectionId=e,this.parent=t};Wo.store="collectionParents",Wo.keyPath=["collectionId","parent"];var ui=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ui.store="clientMetadata",ui.keyPath="clientId";var da=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};da.store="bundles",da.keyPath="bundleId";var pa=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};pa.store="namedQueries",pa.keyPath="name";var pV=wt(wt([],wt(wt([],wt(wt([],wt(wt([],[Gi.store,pt.store,un.store,kt.store,Dn.store,zn.store,Wn.store,nn.store]),[ui.store])),[Hr.store])),[Wo.store])),[da.store,pa.store]),VA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",UA=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Un=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ee=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(l){++o,l.next(function(){++s,u&&s===o&&n()},function(f){return r(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(l){return l?e.resolve(l):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),jA=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Un,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Vu(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=xy(o.target.error);r.ft.reject(new Vu(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new Vu(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(re("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new gV(n)},e}(),ma=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Zo())===12.2&&Ft("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return re("SimpleDb","Removing database:",t),jo(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Zo(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return z(this,void 0,void 0,function(){var n,r=this;return G(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(re("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(f){var p=f.target.result;s(p)},l.onblocked=function(){u(new Vu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var p=f.target.error;p.name==="VersionError"?u(new J(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new Vu(t,p))},l.onupgradeneeded=function(f){re("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var p=f.target.result;r.wt.Rt(p,l.transaction,f.oldVersion,r.version).next(function(){re("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return z(this,void 0,void 0,function(){var s,u,l,f,p;return G(this,function(g){switch(g.label){case 0:s=n==="readonly",u=0,l=function(){var h,m,y,_,I;return G(this,function(E){switch(E.label){case 0:++u,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=E.sent(),h=jA.open(f.db,t,s?"readonly":"readwrite",r),m=o(h).catch(function(T){return h.abort(T),ee.reject(T)}).toPromise(),y={},m.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(E.sent(),m),y)];case 4:return _=E.sent(),I=_.name!=="FirebaseError"&&u<3,re("SimpleDb","Transaction failed with error:",_.message,"Retrying:",I),f.close(),I?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(p=g.sent())=="object")return[2,p.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),mV=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return jo(this.Pt.delete())},e}(),Vu=function(e){function t(n,r){var o=this;return(o=e.call(this,M.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Te(t,e),t}(J);function ls(e){return e.name==="IndexedDbTransactionError"}var gV=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(re("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),jo(r)},e.prototype.add=function(t){return re("SimpleDb","ADD",this.store.name,t,t),jo(this.store.add(t))},e.prototype.get=function(t){var n=this;return jo(this.store.get(t)).next(function(r){return r===void 0&&(r=null),re("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return re("SimpleDb","DELETE",this.store.name,t),jo(this.store.delete(t))},e.prototype.count=function(){return re("SimpleDb","COUNT",this.store.name),jo(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){re("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,u,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ee(function(r,o){n.onerror=function(s){var u=xy(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(l){l?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new ee(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var l=u.target.result;if(l){var f=new mV(l),p=n(l.primaryKey,l.value,f);if(p instanceof ee){var g=p.catch(function(h){return f.done(),ee.reject(h)});r.push(g)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return ee.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function jo(e){return new ee(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=xy(r.target.error);n(o)}})}var bE=!1;function xy(e){var t=ma._t(Zo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new J("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return bE||(bE=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IE=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Te(t,e),t}(UA);function jn(e,t){var n=ae(e);return ma.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cy=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&HF(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&Qg(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&Qg(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument($e.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},ft())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&sa(this.mutations,t.mutations,function(n,r){return uE(n,r)})&&sa(this.baseMutations,t.baseMutations,function(n,r){return uE(n,r)})},e}(),vV=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){Pe(t.mutations.length===r.length);for(var o=YF(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),$h=function(){function e(t,n,r,o,s,u,l){s===void 0&&(s=$e.min()),u===void 0&&(u=$e.min()),l===void 0&&(l=Vn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),BA=function(e){this.Lt=e};function ev(e,t){if(t.document)return iV(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ie.fromSegments(t.noDocument.path),r=va(t.noDocument.readTime),o=dn.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Ie.fromSegments(t.unknownDocument.path);return r=va(t.unknownDocument.version),dn.newUnknownDocument(s,r)}return we()}function EE(e,t,n){var r=Ny(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,m){return{name:ac(h,m.key),fields:m.data.value.mapValue.fields,updateTime:sc(h,m.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new kt(null,null,s,u,r,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=ga(t.version);return u=t.hasCommittedMutations,new kt(null,new hV(l,f),null,u,r,o)}if(t.isUnknownDocument()){var p=t.key.path.toArray(),g=ga(t.version);return new kt(new dV(p,g),null,null,!0,r,o)}return we()}function Ny(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function qA(e){var t=new Mn(e[0],e[1]);return $e.fromTimestamp(t)}function ga(e){var t=e.toTimestamp();return new fV(t.seconds,t.nanoseconds)}function va(e){var t=new Mn(e.seconds,e.nanoseconds);return $e.fromTimestamp(t)}function Hs(e,t){for(var n=(t.baseMutations||[]).map(function(f){return vE(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(f){return vE(e.Lt,f)}),l=Mn.fromMillis(t.localWriteTimeMs);return new Cy(t.batchId,l,n,u)}function Nu(e){var t,n,r=va(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?va(e.lastLimboFreeSnapshotVersion):$e.min();return e.query.documents!==void 0?(Pe((n=e.query).documents.length===1),t=Yr(Oc(OA(n.documents[0])))):t=function(s){return Yr(LA(s))}(e.query),new $h(t,e.targetId,0,e.lastListenSequenceNumber,r,o,Vn.fromBase64String(e.resumeToken))}function $A(e,t){var n,r=ga(t.snapshotVersion),o=ga(t.lastLimboFreeSnapshotVersion);n=qf(t.target)?PA(e.Lt,t.target):DA(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Dn(t.targetId,Nc(t.target),r,s,t.sequenceNumber,o,n)}function HA(e){var t=LA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?pA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yV=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return TE(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:va(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return TE(t).put({bundleId:(r=n).id,createTime:ga(Sn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return SE(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:HA(o.bundledQuery),readTime:va(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return SE(t).put(function(r){return{name:r.name,readTime:ga(Sn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function TE(e){return jn(e,da.store)}function SE(e){return jn(e,pa.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _V=function(){function e(){this.Bt=new Oy}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ee.resolve()},e.prototype.getCollectionParents=function(t,n){return ee.resolve(this.Bt.getEntries(n))},e}(),Oy=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Gt(nt.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Gt(nt.comparator)).toArray()},e}(),wV=function(){function e(){this.qt=new Oy}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:xr(s)};return AE(t).put(u)}return ee.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[sA(n),""],!1,!0);return AE(t).Nt(o).next(function(s){for(var u=0,l=s;u<l.length;u++){var f=l[u];if(f.collectionId!==n)break;r.push(si(f.parent))}return r})},e}();function AE(e){return jn(e,Wo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(e,t,n){var r=e.store(pt.store),o=e.store(un.store),s=[],u=IDBKeyRange.only(n.batchId),l=0,f=r.$t({range:u},function(_,I,E){return l++,E.delete()});s.push(f.next(function(){Pe(l===1)}));for(var p=[],g=0,h=n.mutations;g<h.length;g++){var m=h[g],y=un.key(t,m.key.path,n.batchId);s.push(o.delete(y)),p.push(m.key)}return ee.waitFor(s).next(function(){return p})}function Gf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw we();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(41943040,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);var bV=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return Pe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ci(t).$t({index:pt.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=Ks(t),l=Ci(t);return l.add({}).next(function(f){Pe(typeof f=="number");for(var p=new Cy(f,n,r,o),g=function(T,C,P){var L=P.baseMutations.map(function(U){return Kf(T.Lt,U)}),X=P.mutations.map(function(U){return Kf(T.Lt,U)});return new pt(C,P.batchId,P.localWriteTime.toMillis(),L,X)}(s.R,s.userId,p),h=[],m=new Gt(function(T,C){return We(T.canonicalString(),C.canonicalString())}),y=0,_=o;y<_.length;y++){var I=_[y],E=un.key(s.userId,I.key.path,f);m=m.add(I.key.path.popLast()),h.push(l.put(g)),h.push(u.put(E,un.PLACEHOLDER))}return m.forEach(function(T){h.push(s.Ut.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.Kt[f]=p.keys()}),ee.waitFor(h).next(function(){return p})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Ci(t).get(n).next(function(o){return o?(Pe(o.userId===r.userId),Hs(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?ee.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Ci(t).$t({index:pt.userMutationsIndex,range:s},function(l,f,p){f.userId===r.userId&&(Pe(f.batchId>=o),u=Hs(r.R,f)),p.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ci(t).$t({index:pt.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ci(t).Nt(pt.userMutationsIndex,r).next(function(o){return o.map(function(s){return Hs(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=un.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return Ks(t).$t({range:s},function(l,f,p){var g=l[0],h=l[1],m=l[2],y=si(h);if(g===r.userId&&n.path.isEqual(y))return Ci(t).get(m).next(function(_){if(!_)throw we();Pe(_.userId===r.userId),u.push(Hs(r.R,_))});p.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Gt(We),s=[];return n.forEach(function(u){var l=un.prefixForPath(r.userId,u.path),f=IDBKeyRange.lowerBound(l),p=Ks(t).$t({range:f},function(g,h,m){var y=g[0],_=g[1],I=g[2],E=si(_);y===r.userId&&u.path.isEqual(E)?o=o.add(I):m.done()});s.push(p)}),ee.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=un.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(u),f=new Gt(We);return Ks(t).$t({range:l},function(p,g,h){var m=p[0],y=p[1],_=p[2],I=si(y);m===r.userId&&o.isPrefixOf(I)?I.length===s&&(f=f.add(_)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(Ci(t).get(u).next(function(l){if(l===null)throw we();Pe(l.userId===r.userId),o.push(Hs(r.R,l))}))}),ee.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return KA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),ee.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return ee.resolve();var o=IDBKeyRange.lowerBound(un.prefixForUser(n.userId)),s=[];return Ks(t).$t({range:o},function(u,l,f){if(u[0]===n.userId){var p=si(u[1]);s.push(p)}else f.done()}).next(function(){Pe(s.length===0)})})},e.prototype.containsKey=function(t,n){return GA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return zA(t).get(this.userId).next(function(r){return r||new Gi(n.userId,-1,"")})},e}();function GA(e,t,n){var r=un.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return Ks(e).$t({range:s,Ft:!0},function(l,f,p){var g=l[0],h=l[1];l[2],g===t&&h===o&&(u=!0),p.done()}).next(function(){return u})}function Ci(e){return jn(e,pt.store)}function Ks(e){return jn(e,un.store)}function zA(e){return jn(e,Gi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),IV=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new zf(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return $e.fromTimestamp(new Mn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Bs(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return Pe(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return Bs(t).$t(function(l,f){var p=Nu(f);p.sequenceNumber<=n&&r.get(p.targetId)===null&&(s++,u.push(o.removeTargetData(t,p)))}).next(function(){return ee.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Bs(t).$t(function(r,o){var s=Nu(o);n(s)})},e.prototype.Xt=function(t){return xE(t).get(Wn.key).next(function(n){return Pe(n!==null),n})},e.prototype.Zt=function(t,n){return xE(t).put(Wn.key,n)},e.prototype.te=function(t,n){return Bs(t).put($A(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Nc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Bs(t).$t({range:o,index:Dn.queryTargetsIndexName},function(u,l,f){var p=Nu(l);Uh(n,p.target)&&(s=p,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=Vi(t);return n.forEach(function(l){var f=xr(l.path);s.push(u.put(new nn(r,f))),s.push(o.referenceDelegate.addReference(t,r,l))}),ee.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=Vi(t);return ee.forEach(n,function(u){var l=xr(u.path);return ee.waitFor([s.delete([r,l]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Vi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Vi(t),s=ft();return o.$t({range:r,Ft:!0},function(u,l,f){var p=si(u[1]),g=new Ie(p);s=s.add(g)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=xr(n.path),o=IDBKeyRange.bound([r],[sA(r)],!1,!0),s=0;return Vi(t).$t({index:nn.documentTargetsIndex,Ft:!0,range:o},function(u,l,f){var p=u[0];u[1],p!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Bs(t).get(n).next(function(r){return r?Nu(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(e){return jn(e,Dn.store)}function xE(e){return jn(e,Wn.store)}function Vi(e){return jn(e,nn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(e){return z(this,void 0,void 0,function(){return G(this,function(t){if(e.code!==M.FAILED_PRECONDITION||e.message!==VA)throw e;return re("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=We(n,o);return u===0?We(r,s):u}var EV=function(){function e(t){this.ne=t,this.buffer=new Gt(CE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();CE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),TV=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;re("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return z(n,void 0,void 0,function(){var o;return G(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return ls(o=s.sent())?(re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,fs(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),SV=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return ee.resolve(Yn.o);var o=new EV(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(kE)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),kE):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,l,f,p,g=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>g.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+m),o=g.params.maximumSequenceNumbersToCollect):o=m,u=Date.now(),g.nthSequenceNumber(t,o)}).next(function(m){return r=m,l=Date.now(),g.removeTargets(t,r,n)}).next(function(m){return s=m,f=Date.now(),g.removeOrphanedDocuments(t,r)}).next(function(m){return p=Date.now(),zg()<=et.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-h)+`ms
	Determined least recently used `+o+" in "+(l-u)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(p-f)+`ms
Total Duration: `+(p-h)+"ms"),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:m})})},e}(),AV=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new SV(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return nf(t,r)},e.prototype.removeReference=function(t,n,r){return nf(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return nf(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return zA(r).Ot(function(u){return GA(r,u,o).next(function(l){return l&&(s=!0),ee.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(l,f){if(f<=n){var p=r._e(t,l).next(function(g){if(!g)return u++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Vi(t).delete([0,xr(l.path)])})});s.push(p)}}).next(function(){return ee.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return nf(t,n)},e.prototype.we=function(t,n){var r,o=Vi(t),s=Yn.o;return o.$t({index:nn.documentTargetsIndex},function(u,l){var f=u[0];u[1];var p=l.path,g=l.sequenceNumber;f===0?(s!==Yn.o&&n(new Ie(si(r)),s),s=g,r=p):s=Yn.o}).next(function(){s!==Yn.o&&n(new Ie(si(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function nf(e,t){return Vi(e).put(function(n,r){return new nn(0,xr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Na=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],f=u[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){us(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],f=u[1];t(l,f)}})},e.prototype.isEmpty=function(){return aA(this.inner)},e}(),WA=function(){function e(){this.changes=new Na(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:$e.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:dn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?ee.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),kV=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Di(t).put(rf(n),r)},e.prototype.removeEntry=function(t,n){var r=Di(t),o=rf(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Di(t).get(rf(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Di(t).get(rf(n)).next(function(o){return{document:r.ye(n,o),size:Gf(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=kr();return this.pe(t,n,function(s,u){var l=r.ye(s,u);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=kr(),s=new pn(Ie.comparator);return this.pe(t,n,function(u,l){var f=r.ye(u,l);o=o.insert(u,f),s=s.insert(u,Gf(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return ee.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return Di(t).$t({range:o},function(l,f,p){for(var g=Ie.fromSegments(l);u&&Ie.comparator(u,g)<0;)r(u,null),u=s.getNext();u&&u.isEqual(g)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?p.Ct(u.path.toArray()):p.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=kr(),u=n.path.length+1,l={};if(r.isEqual($e.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var p=n.path.toArray(),g=Ny(r);l.range=IDBKeyRange.lowerBound([p,g],!0),l.index=kt.collectionReadTimeIndex}return Di(t).$t(l,function(h,m,y){if(h.length===u){var _=ev(o.R,m);n.path.isPrefixOf(_.key.path)?Pc(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new xV(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return NE(t).get(Hr.key).next(function(n){return Pe(!!n),n})},e.prototype.me=function(t,n){return NE(t).put(Hr.key,n)},e.prototype.ye=function(t,n){if(n){var r=ev(this.R,n);if(!r.isNoDocument()||!r.version.isEqual($e.min()))return r}return dn.newInvalidDocument(t)},e}(),xV=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Na(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return Te(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new Gt(function(l,f){return We(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var p=r.Ae.get(l);if(f.document.isValidDocument()){var g=EE(r.Ie.R,f.document,r.getReadTime(l));u=u.add(l.path.popLast());var h=Gf(g);s+=h-p,o.push(r.Ie.addEntry(n,l,g))}else if(s-=p,r.trackRemovals){var m=EE(r.Ie.R,dn.newNoDocument(l,$e.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,m))}else o.push(r.Ie.removeEntry(n,l))}),u.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ee.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),u})},t}(WA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(e){return jn(e,Hr.store)}function Di(e){return jn(e,kt.store)}function rf(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CV=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;Pe(r<o&&r>=0&&o<=11);var u=new jA("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(zn.store)}(t),function(f){f.createObjectStore(Gi.store,{keyPath:Gi.keyPath}),f.createObjectStore(pt.store,{keyPath:pt.keyPath,autoIncrement:!0}).createIndex(pt.userMutationsIndex,pt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(un.store)}(t),OE(t),function(f){f.createObjectStore(kt.store)}(t));var l=ee.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(nn.store),f.deleteObjectStore(Dn.store),f.deleteObjectStore(Wn.store)}(t),OE(t)),l=l.next(function(){return function(f){var p=f.store(Wn.store),g=new Wn(0,0,$e.min().toTimestamp(),0);return p.put(Wn.key,g)}(u)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(f,p){return p.store(pt.store).Nt().next(function(g){f.deleteObjectStore(pt.store),f.createObjectStore(pt.store,{keyPath:pt.keyPath,autoIncrement:!0}).createIndex(pt.userMutationsIndex,pt.userMutationsKeyPath,{unique:!0});var h=p.store(pt.store),m=g.map(function(y){return h.put(y)});return ee.waitFor(m)})}(t,u)})),l=l.next(function(){(function(f){f.createObjectStore(ui.store,{keyPath:ui.keyPath})})(t)})),r<5&&o>=5&&(l=l.next(function(){return s.Re(u)})),r<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Hr.store)}(t),s.be(u)})),r<7&&o>=7&&(l=l.next(function(){return s.ve(u)})),r<8&&o>=8&&(l=l.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var p=f.objectStore(kt.store);p.createIndex(kt.readTimeIndex,kt.readTimeIndexPath,{unique:!1}),p.createIndex(kt.collectionReadTimeIndex,kt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return s.Ve(u)})),r<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(da.store,{keyPath:da.keyPath})})(t),function(f){f.createObjectStore(pa.store,{keyPath:pa.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(kt.store).$t(function(r,o){n+=Gf(o)}).next(function(){var r=new Hr(n);return t.store(Hr.store).put(Hr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Gi.store),o=t.store(pt.store);return r.Nt().next(function(s){return ee.forEach(s,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(pt.userMutationsIndex,l).next(function(f){return ee.forEach(f,function(p){Pe(p.userId===u.userId);var g=Hs(n.R,p);return KA(t,u.userId,g).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(nn.store),r=t.store(kt.store);return t.store(Wn.store).get(Wn.key).next(function(o){var s=[];return r.$t(function(u,l){var f=new nt(u),p=function(g){return[0,xr(g)]}(f);s.push(n.get(p).next(function(g){return g?ee.resolve():function(h){return n.put(new nn(0,xr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ee.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Wo.store,{keyPath:Wo.keyPath});var r=n.store(Wo.store),o=new Oy,s=function(u){if(o.add(u)){var l=u.lastSegment(),f=u.popLast();return r.put({collectionId:l,parent:xr(f)})}};return n.store(kt.store).$t({Ft:!0},function(u,l){var f=new nt(u);return s(f.popLast())}).next(function(){return n.store(un.store).$t({Ft:!0},function(u,l){u[0];var f=u[1];u[2];var p=si(f);return s(p.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Dn.store);return r.$t(function(o,s){var u=Nu(s),l=$A(n.R,u);return r.put(l)})},e}();function OE(e){e.createObjectStore(nn.store,{keyPath:nn.keyPath}).createIndex(nn.documentTargetsIndex,nn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Dn.store,{keyPath:Dn.keyPath}).createIndex(Dn.queryTargetsIndexName,Dn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Wn.store)}var ig="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",NV=function(){function e(t,n,r,o,s,u,l,f,p,g){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=l,this.De=p,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new J(M.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AV(this,o),this.Le=n+"main",this.R=new BA(f),this.Be=new ma(this.Le,11,new CV(this.R)),this.qe=new IV(this.referenceDelegate,this.R),this.Ut=new wV,this.Ue=function(h,m){return new kV(h,m)}(this.R,this.Ut),this.Ke=new yV,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&Ft("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new J(M.FAILED_PRECONDITION,ig);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Yn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return z(n,void 0,void 0,function(){return G(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return z(n,void 0,void 0,function(){return G(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return z(n,void 0,void 0,function(){return G(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return of(n).put(new ui(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(ls(n))return re("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Iu(t).get(zn.key).next(function(r){return ee.resolve(n.tn(r))})},e.prototype.en=function(t){return of(t).delete(this.clientId)},e.prototype.nn=function(){return z(this,void 0,void 0,function(){var t,n,r,o,s=this;return G(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=jn(l,ui.store);return f.Nt().next(function(p){var g=s.rn(p,18e5),h=p.filter(function(m){return g.indexOf(m)===-1});return ee.forEach(h,function(m){return f.delete(m.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ee.resolve(!0):Iu(t).get(zn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new J(M.FAILED_PRECONDITION,ig);return!1}}return!(!n.networkEnabled||!n.inForeground)||of(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||l&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&re("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return z(this,void 0,void 0,function(){var t=this;return G(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[zn.store,ui.store],function(r){var o=new IE(r,Yn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return of(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return bV.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;re("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,pV,function(l){return s=new IE(l,o.Ne?o.Ne.next():Yn.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Ft("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new J(M.FAILED_PRECONDITION,VA);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Iu(t).get(zn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new J(M.FAILED_PRECONDITION,ig)})},e.prototype.Ze=function(t){var n=new zn(this.clientId,this.allowTabSynchronization,Date.now());return Iu(t).put(zn.key,n)},e.yt=function(){return ma.yt()},e.prototype.Xe=function(t){var n=this,r=Iu(t);return r.get(zn.key).next(function(o){return n.tn(o)?(re("IndexedDbPersistence","Releasing primary lease."),r.delete(zn.key)):ee.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Ft("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),FL()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return re("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return Ft("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ft("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Iu(e){return jn(e,zn.store)}function of(e){return jn(e,ui.store)}function Ry(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var XA=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):Ey(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Ie(n)).next(function(r){var o=Jg();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=Jg();return this.Ut.getCollectionParents(t,s).next(function(l){return ee.forEach(l,function(f){var p=function(g,h){return new mi(h,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(s));return o.An(t,p,r).next(function(g){g.forEach(function(h,m){u=u.insert(h,m)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return o=l,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,u.Rn(t,s,o).next(function(f){o=f;for(var p=0,g=s;p<g.length;p++)for(var h=g[p],m=0,y=h.mutations;m<y.length;m++){var _=y[m],I=_.key,E=o.get(I);E==null&&(E=dn.newInvalidDocument(I),o=o.insert(I,E)),Qg(_,E,h.localWriteTime),E.isFoundDocument()||(o=o.remove(I))}})}).next(function(){return o.forEach(function(l,f){Pc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,r){for(var o=ft(),s=0,u=n;s<u.length;s++)for(var l=0,f=u[s].mutations;l<f.length;l++){var p=f[l];p instanceof io&&r.get(p.key)===null&&(o=o.add(p.key))}var g=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(m,y){y.isFoundDocument()&&(g=g.insert(m,y))}),g})},e}(),OV=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=ft(),o=ft(),s=0,u=n.docChanges;s<u.length;s++){var l=u[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),YA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual($e.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var l=s.Cn(n,u);return(vf(n)||Hf(n))&&s.Nn(n.limitType,l,o,r)?s.Dn(t,n):(zg()<=et.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yg(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return l.forEach(function(p){f=f.insert(p.key,p)}),f}))})},e.prototype.Cn=function(t,n){var r=new Gt(gA(t));return n.forEach(function(o,s){Pc(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return zg()<=et.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Yg(n)),this.Sn.getDocumentsMatchingQuery(t,n,$e.min())},e}(),RV=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new pn(We),this.Fn=new Na(function(s){return Nc(s)},Uh),this.$n=$e.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new XA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(e,t,n,r){return new RV(e,t,n,r)}function JA(e,t){return z(this,void 0,void 0,function(){var n,r,o,s;return G(this,function(u){switch(u.label){case 0:return n=ae(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(p){return f=p,r=n.persistence.getMutationQueue(t),o=new XA(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(p){for(var g=[],h=[],m=ft(),y=0,_=f;y<_.length;y++){var I=_[y];g.push(I.batchId);for(var E=0,T=I.mutations;E<T.length;E++){var C=T[E];m=m.add(C.key)}}for(var P=0,L=p;P<L.length;P++){var X=L[P];h.push(X.batchId);for(var U=0,ue=X.mutations;U<ue.length;U++){var V=ue[U];m=m.add(V.key)}}return o.pn(l,m).next(function(H){return{Ln:H,removedBatchIds:g,addedBatchIds:h}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function PV(e,t){var n=ae(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,l,f,p){var g=f.batch,h=g.keys(),m=ee.resolve();return h.forEach(function(y){m=m.next(function(){return p.getEntry(l,y)}).next(function(_){var I=f.docVersions.get(y);Pe(I!==null),_.version.compareTo(I)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&p.addEntry(_,f.commitVersion))})}),m.next(function(){return u._n.removeMutationBatch(l,g)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function ZA(e){var t=ae(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function DV(e,t){var n=ae(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(g,h){var m=o.get(h);if(m){l.push(n.qe.removeMatchingKeys(s,g.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,g.addedDocuments,h)}));var y=g.resumeToken;if(y.approximateByteSize()>0){var _=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(I,E,T){return Pe(E.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,_,g)&&l.push(n.qe.updateTargetData(s,_))}}});var f=kr();if(t.documentUpdates.forEach(function(g,h){t.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),l.push(LV(s,u,t.documentUpdates,r,void 0).next(function(g){f=g})),!r.isEqual($e.min())){var p=n.qe.getLastRemoteSnapshotVersion(s).next(function(g){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(p)}return ee.waitFor(l).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function LV(e,t,n,r,o){var s=ft();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var l=kr();return n.forEach(function(f,p){var g=u.get(f),h=(o==null?void 0:o.get(f))||r;p.isNoDocument()&&p.version.isEqual($e.min())?(t.removeEntry(f,h),l=l.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p,h),l=l.insert(f,p)):re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),l})}function MV(e,t){var n=ae(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Wf(e,t){var n=ae(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,ee.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new $h(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function ya(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u;return G(this,function(l){switch(l.label){case 0:r=ae(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!ls(u=l.sent()))throw u;return re("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function Xf(e,t,n){var r=ae(e),o=$e.min(),s=ft();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(l,f,p){var g=ae(l),h=g.Fn.get(p);return h!==void 0?ee.resolve(g.kn.get(h)):g.qe.getTargetData(f,p)}(r,u,Yr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,l.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:$e.min(),n?s:ft())}).next(function(l){return{documents:l,Bn:s}})})}function ek(e,t){var n=ae(e),r=ae(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function tk(e){var t=ae(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=ae(r),l=kr(),f=Ny(s),p=Di(o),g=IDBKeyRange.lowerBound(f,!0);return p.$t({index:kt.readTimeIndex,range:g},function(h,m){var y=ev(u.R,m);l=l.insert(y.key,y),f=m.readTime}).next(function(){return{wn:l,readTime:qA(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function FV(e){return z(this,void 0,void 0,function(){var t;return G(this,function(n){return[2,(t=ae(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Di(o),u=$e.min();return s.$t({index:kt.readTimeIndex,reverse:!0},function(l,f,p){f.readTime&&(u=qA(f.readTime)),p.done()}).next(function(){return u})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VV=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ee.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Sn(r.createTime)}),ee.resolve()},e.prototype.getNamedQuery=function(t,n){return ee.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:HA(r.bundledQuery),readTime:Sn(r.readTime)}}(n)),ee.resolve()},e}(),Py=function(){function e(){this.Wn=new Gt(Wt.Gn),this.zn=new Gt(Wt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Wt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Wt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Ie(new nt([])),o=new Wt(r,t),s=new Wt(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),u.push(l.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Ie(new nt([])),r=new Wt(n,t),o=new Wt(n,t+1),s=ft();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new Wt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Wt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Ie.comparator(t.key,n.key)||We(t.ns,n.ns)},e.Hn=function(t,n){return We(t.ns,n.ns)||Ie.comparator(t.key,n.key)},e}(),UV=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Gt(Wt.Gn)}return e.prototype.checkEmpty=function(t){return ee.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new Cy(s,n,r,o);this._n.push(u);for(var l=0,f=o;l<f.length;l++){var p=f[l];this.rs=this.rs.add(new Wt(p.key,s)),this.Ut.addToCollectionParentIndex(t,p.key.path.popLast())}return ee.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return ee.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return ee.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ee.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ee.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new Wt(n,0),s=new Wt(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(l){var f=r.os(l.ns);u.push(f)}),ee.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Gt(We);return n.forEach(function(s){var u=new Wt(s,0),l=new Wt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,l],function(f){o=o.add(f.ns)})}),ee.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Ie.isDocumentKey(s)||(s=s.child(""));var u=new Wt(new Ie(s),0),l=new Gt(We);return this.rs.forEachWhile(function(f){var p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(l=l.add(f.ns)),!0)},u),ee.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Pe(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ee.forEach(n.mutations,function(s){var u=new Wt(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Wt(n,0),o=this.rs.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ee.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),jV=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new pn(Ie.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return ee.resolve(r?r.document.clone():dn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=kr();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():dn.newInvalidDocument(s))}),ee.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=kr(),s=new Ie(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var l=u.getNext(),f=l.key,p=l.value,g=p.document,h=p.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||Pc(n,g)&&(o=o.insert(g.key,g.clone()))}return ee.resolve(o)},e.prototype.fs=function(t,n){return ee.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new BV(this)},e.prototype.getSize=function(t){return ee.resolve(this.size)},e}(),BV=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Te(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),ee.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(WA),qV=function(){function e(t){this.persistence=t,this.ds=new Na(function(n){return Nc(n)},Uh),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.ws=0,this._s=new Py,this.targetCount=0,this.ys=zf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),ee.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ee.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ee.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ee.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),ee.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new zf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ee.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ee.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ee.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(l),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ee.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return ee.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return ee.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),ee.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),ee.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ee.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return ee.resolve(r)},e.prototype.containsKey=function(t,n){return ee.resolve(this._s.containsKey(n))},e}(),$V=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Yn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new qV(this),this.Ut=new _V,this.Ue=function(o,s){return new jV(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new BA(n),this.Ke=new VV(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new UV(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;re("MemoryPersistence","Starting transaction:",t);var s=new HV(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return ee.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),HV=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Te(t,e),t}(UA),KV=function(){function e(t){this.persistence=t,this.As=new Py,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw we()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),ee.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),ee.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ee.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.vs,function(o){var s=Ie.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return ee.or([function(){return ee.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Zt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(e,t){return"firestore_clients_"+e+"_"+t}function PE(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function og(e,t){return"firestore_targets_"+e+"_"+t}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");var DE=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new J(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(Ft("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),sg=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new J(o.error.code,o.error.message)),s?new e(t,o.state,r):(Ft("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),LE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=qh(),u=0;o&&u<r.activeTargetIds.length;++u)o=lA(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):(Ft("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),GV=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Ft("SharedClientState","Failed to parse online state: "+t),null)},e}(),tv=function(){function e(){this.activeTargetIds=qh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),ag=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new pn(We),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=RE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new tv),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return z(this,void 0,void 0,function(){var t,n,r,o,s,u,l,f,p,g,h,m=this;return G(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(RE(this.persistenceKey,o)))&&(u=LE.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),p=0,g=this.$s;p<g.length;p++)h=g[p],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(og(this.persistenceKey,t));if(r){var o=sg.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(og(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return re("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){re("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){re("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Ft("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return z(n,void 0,void 0,function(){var o,s,u,l,f,p;return G(this,function(g){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(p=function(h){var m=Yn.o;if(h!=null)try{var y=JSON.parse(h);Pe(typeof y=="number"),m=y}catch(_){Ft("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(r.newValue))!==Yn.o&&this.sequenceNumberHandler(p);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new DE(this.currentUser,t,n,r),s=PE(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=PE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=og(this.persistenceKey,t),s=new sg(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return LE.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return DE.Vs(new Zt(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return sg.Vs(o,n)},e.prototype.js=function(t){return GV.Vs(t)},e.prototype.ii=function(t){return z(this,void 0,void 0,function(){return G(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(re("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),l=[],f=[];return u.forEach(function(p){s.has(p)||l.push(p)}),s.forEach(function(p){u.has(p)||f.push(p)}),this.syncEngine.hi(l,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=qh();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),nk=function(){function e(){this.li=new tv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new tv,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),zV=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),ME=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),WV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},XV=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),YV=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Te(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(u,l){var f=new kF;f.listenOnce(TF.COMPLETE,function(){try{switch(f.getLastErrorCode()){case rg.NO_ERROR:var g=f.getResponseJson();re("Connection","XHR received:",JSON.stringify(g)),u(g);break;case rg.TIMEOUT:re("Connection",'RPC "'+n+'" timed out'),l(new J(M.DEADLINE_EXCEEDED,"Request time out"));break;case rg.HTTP_ERROR:var h=f.getStatus();if(re("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var y=function(_){var I=_.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(I)>=0?I:M.UNKNOWN}(m.status);l(new J(y,m.message))}else l(new J(M.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new J(M.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{re("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(s);f.send(r,"POST",p,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=IF(),u=EF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new AF({})),this.ki(l.initMessageHeaders,r),NL()||PL()||DL()||LL()||ML()||RL()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");re("Connection","Creating WebChannel: "+f,l);var p=s.createWebChannel(f,l),g=!1,h=!1,m=new XV({Ei:function(_){h?re("Connection","Not sending because WebChannel is closed:",_):(g||(re("Connection","Opening WebChannel transport."),p.open(),g=!0),re("Connection","WebChannel sending:",_),p.send(_))},Ti:function(){return p.close()}}),y=function(_,I,E){_.listen(I,function(T){try{E(T)}catch(C){setTimeout(function(){throw C},0)}})};return y(p,ef.EventType.OPEN,function(){h||re("Connection","WebChannel transport opened.")}),y(p,ef.EventType.CLOSE,function(){h||(h=!0,re("Connection","WebChannel transport closed"),m.Vi())}),y(p,ef.EventType.ERROR,function(_){h||(h=!0,Uf("Connection","WebChannel transport errored:",_),m.Vi(new J(M.UNAVAILABLE,"The operation could not be completed")))}),y(p,ef.EventType.MESSAGE,function(_){var I;if(!h){var E=_.data[0];Pe(!!E);var T=E,C=T.error||((I=T[0])===null||I===void 0?void 0:I.error);if(C){re("Connection","WebChannel received error:",C);var P=C.status,L=function(U){var ue=Dt[U];if(ue!==void 0)return AA(ue)}(P),X=C.message;L===void 0&&(L=M.INTERNAL,X="Unknown error status: "+P+" with message "+C.message),h=!0,m.Vi(new J(L,X)),p.close()}else re("Connection","WebChannel received:",E),m.Si(E)}}),y(u,SF.STAT_EVENT,function(_){_.stat===ZI.PROXY?re("Connection","Detected buffering proxy"):_.stat===ZI.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);re("RestConnection","Sending: ",s,r);var u={};return this.ki(u,o),this.Fi(t,s,u,r).then(function(l){return re("RestConnection","Received: ",l),l},function(l){throw Uf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=WV[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){return typeof window<"u"?window:null}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(e){return new nV(e,!0)}var Dy=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&re("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),ik=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Dy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return z(this,void 0,void 0,function(){return G(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return z(this,void 0,void 0,function(){return G(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return z(this,void 0,void 0,function(){return G(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Ft(n.toString()),Ft("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===M.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new J(M.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return z(t,void 0,void 0,function(){return G(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return re("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),QV=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,l}return Te(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var l;if("targetChange"in u){u.targetChange;var f=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:we()}(u.targetChange.targetChangeType||"NO_CHANGE"),p=u.targetChange.targetIds||[],g=function(E,T){return E.I?(Pe(T===void 0||typeof T=="string"),Vn.fromBase64String(T||"")):(Pe(T===void 0||T instanceof Uint8Array),Vn.fromUint8Array(T||new Uint8Array))}(s,u.targetChange.resumeToken),h=(m=u.targetChange.cause)&&function(E){var T=E.code===void 0?M.UNKNOWN:AA(E.code);return new J(T,E.message||"")}(m);l=new xA(f,p,g,h||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,p=ai(s,f.document.name),g=Sn(f.document.updateTime);var m=new Xn({mapValue:{fields:f.document.fields}}),y=(h=dn.newFoundDocument(p,g,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new _f(y,_,h.key,h)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,p=ai(s,f.document),g=f.readTime?Sn(f.readTime):$e.min(),m=dn.newNoDocument(p,g),h=f.removedTargetIds||[],l=new _f([],h,m.key,m);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,p=ai(s,f.document),g=f.removedTargetIds||[],l=new _f([],g,p,null);else{if(!("filter"in u))return we();u.filter;var I=u.filter;I.targetId,f=I.count||0,p=new GF(f),g=I.targetId,l=new kA(g,p)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return $e.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Sn(u.readTime):$e.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=uc(this.R),r.addTarget=function(s,u){var l,f=u.target;return(l=qf(f)?{documents:PA(s,f)}:{query:DA(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=CA(s,u.resumeToken):u.snapshotVersion.compareTo($e.min())>0&&(l.readTime=sc(s,u.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,u){var l=function(f,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return we()}}(0,u.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=uc(this.R),r.removeTarget=n,this.cr(r)},t}(ik),JV=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,l.gr=!1,l}return Te(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Pe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?(Pe(u!==void 0),s.map(function(l){return function(f,p){var g=f.updateTime?Sn(f.updateTime):Sn(p);return g.isEqual($e.min())&&(g=Sn(p)),new $F(g,f.transformResults||[])}(l,u)})):[]}(n.writeResults,n.commitTime),o=Sn(n.commitTime);return this.listener.Tr(o,r)}return Pe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=uc(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Kf(r.R,s)})};this.cr(o)},t}(ik),ZV=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return Te(t,e),t.prototype.br=function(){if(this.Rr)throw new J(M.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===M.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new J(M.UNKNOWN,u.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===M.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new J(M.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),eU=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Ft(n),this.Vr=!1):re("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),tU=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return z(s,void 0,void 0,function(){return G(this,function(l){switch(l.label){case 0:return oo(this)?(re("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return z(this,void 0,void 0,function(){var p;return G(this,function(g){switch(g.label){case 0:return(p=ae(f)).Or.add(4),[4,Oa(p)];case 1:return g.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,Fc(p)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new eU(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(e){return z(this,void 0,void 0,function(){var t,n;return G(this,function(r){switch(r.label){case 0:if(!oo(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Oa(e){return z(this,void 0,void 0,function(){var t,n;return G(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Kh(e,t){var n=ae(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Fy(n)?My(n):Pa(n).er()&&Ly(n,t))}function cc(e,t){var n=ae(e),r=Pa(n);n.$r.delete(t),r.er()&&ok(n,t),n.$r.size===0&&(r.er()?r.ir():oo(n)&&n.Br.set("Unknown"))}function Ly(e,t){e.qr.U(t.targetId),Pa(e).mr(t)}function ok(e,t){e.qr.U(t),Pa(e).yr(t)}function My(e){e.qr=new ZF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Pa(e).start(),e.Br.Sr()}function Fy(e){return oo(e)&&!Pa(e).tr()&&e.$r.size>0}function oo(e){return ae(e).Or.size===0}function sk(e){e.qr=void 0}function nU(e){return z(this,void 0,void 0,function(){return G(this,function(t){return e.$r.forEach(function(n,r){Ly(e,n)}),[2]})})}function rU(e,t){return z(this,void 0,void 0,function(){return G(this,function(n){return sk(e),Fy(e)?(e.Br.Nr(t),My(e)):e.Br.set("Unknown"),[2]})})}function iU(e,t,n){return z(this,void 0,void 0,function(){var r,o,s;return G(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof xA&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,f){return z(this,void 0,void 0,function(){var p,g,h,m;return G(this,function(y){switch(y.label){case 0:p=f.cause,g=0,h=f.targetIds,y.label=1;case 1:return g<h.length?(m=h[g],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,p)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Yf(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof _f?e.qr.X(t):t instanceof kA?e.qr.rt(t):e.qr.et(t),n.isEqual($e.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,ZA(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(l,f){var p=l.qr.ut(f);return p.targetChanges.forEach(function(g,h){if(g.resumeToken.approximateByteSize()>0){var m=l.$r.get(h);m&&l.$r.set(h,m.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach(function(g){var h=l.$r.get(g);if(h){l.$r.set(g,h.withResumeToken(Vn.EMPTY_BYTE_STRING,h.snapshotVersion)),ok(l,g);var m=new $h(h.target,g,1,h.sequenceNumber);Ly(l,m)}}),l.remoteSyncer.applyRemoteEvent(p)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return re("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Yf(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Yf(e,t,n){return z(this,void 0,void 0,function(){var r=this;return G(this,function(o){switch(o.label){case 0:if(!ls(t))throw t;return e.Or.add(1),[4,Oa(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return ZA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return z(r,void 0,void 0,function(){return G(this,function(s){switch(s.label){case 0:return re("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Fc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function ak(e,t){return t().catch(function(n){return Yf(e,n,t)})}function Ra(e){return z(this,void 0,void 0,function(){var t,n,r,o,s;return G(this,function(u){switch(u.label){case 0:t=ae(e),n=Zi(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return oo(l)&&l.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,MV(t.localStore,r)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,f){l.Fr.push(f);var p=Zi(l);p.er()&&p.pr&&p.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,Yf(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return uk(t)&&ck(t),[2]}})})}function uk(e){return oo(e)&&!Zi(e).tr()&&e.Fr.length>0}function ck(e){Zi(e).start()}function oU(e){return z(this,void 0,void 0,function(){return G(this,function(t){return Zi(e).Ar(),[2]})})}function sU(e){return z(this,void 0,void 0,function(){var t,n,r,o;return G(this,function(s){for(t=Zi(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function aU(e,t,n){return z(this,void 0,void 0,function(){var r,o;return G(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=vV.from(r,t,n),[4,ak(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Ra(e)];case 2:return s.sent(),[2]}})})}function uU(e,t){return z(this,void 0,void 0,function(){return G(this,function(n){switch(n.label){case 0:return t&&Zi(e).pr?[4,function(r,o){return z(this,void 0,void 0,function(){var s,u;return G(this,function(l){switch(l.label){case 0:return SA(u=o.code)&&u!==M.ABORTED?(s=r.Fr.shift(),Zi(r).sr(),[4,ak(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Ra(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return uk(e)&&ck(e),[2]}})})}function nv(e,t){return z(this,void 0,void 0,function(){var n;return G(this,function(r){switch(r.label){case 0:return n=ae(e),t?(n.Or.delete(2),[4,Fc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Oa(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Pa(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=ae(n);return s.br(),new QV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:nU.bind(null,e),Ri:rU.bind(null,e),_r:iU.bind(null,e)}),e.Mr.push(function(n){return z(t,void 0,void 0,function(){return G(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Fy(e)?My(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),sk(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Zi(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=ae(n);return s.br(),new JV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:oU.bind(null,e),Ri:uU.bind(null,e),Ir:sU.bind(null,e),Tr:aU.bind(null,e)}),e.Mr.push(function(n){return z(t,void 0,void 0,function(){return G(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Ra(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(re("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var cU=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(M.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Da(e,t){if(Ft("AsyncQueue",t+": "+e),ls(e))return new J(M.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lk=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Ie.comparator(n.key,r.key)}:function(n,r){return Ie.comparator(n.key,r.key)},this.keyedMap=Jg(),this.sortedSet=new pn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),FE=function(){function e(){this.Qr=new pn(Ie.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):we():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Qf=function(){function e(t,n,r,o,s,u,l,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,lk.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),lU=function(){this.Wr=void 0,this.listeners=[]},fU=function(){this.queries=new Na(function(e){return mA(e)},Rc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e,t){return z(this,void 0,void 0,function(){var n,r,o,s,u,l,f;return G(this,function(p){switch(p.label){case 0:if(n=ae(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new lU),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=p.sent(),[3,4];case 3:return l=p.sent(),f=Da(l,"Initialization of query '"+Yg(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&jy(n),[2]}})})}function Uy(e,t){return z(this,void 0,void 0,function(){var n,r,o,s,u;return G(this,function(l){return n=ae(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function hU(e,t){for(var n=ae(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],l=u.query,f=n.queries.get(l);if(f){for(var p=0,g=f.listeners;p<g.length;p++)g[p].Hr(u)&&(r=!0);f.Wr=u}}r&&jy(n)}function dU(e,t,n){var r=ae(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function jy(e){e.Gr.forEach(function(t){t.next()})}var By=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new Qf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Qf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fk=function(e){this.key=e},hk=function(e){this.key=e},dk=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=ft(),this.mutatedKeys=ft(),this.lo=gA(t),this.fo=new lk(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new FE,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,p=vf(this.query)&&s.size===this.query.limit?s.last():null,g=Hf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var _=s.get(m),I=Pc(r.query,y)?y:null,E=!!_&&r.mutatedKeys.has(_.key),T=!!I&&(I.hasLocalMutations||r.mutatedKeys.has(I.key)&&I.hasCommittedMutations),C=!1;_&&I?_.data.isEqual(I.data)?E!==T&&(o.track({type:3,doc:I}),C=!0):r.yo(_,I)||(o.track({type:2,doc:I}),C=!0,(p&&r.lo(I,p)>0||g&&r.lo(I,g)<0)&&(f=!0)):!_&&I?(o.track({type:0,doc:I}),C=!0):_&&!I&&(o.track({type:1,doc:_}),C=!0,(p||g)&&(f=!0)),C&&(I?(l=l.add(I),u=T?u.add(m):u.delete(m)):(l=l.delete(m),u=u.delete(m)))}),vf(this.query)||Hf(this.query))for(;l.size>this.query.limit;){var h=vf(this.query)?l.last():l.first();l=l.delete(h.key),u=u.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(g,h){return function(m,y){var _=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return _(m)-_(y)}(g.type,h.type)||o.lo(g.doc,h.doc)}),this.po(r);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,p=f!==this.ao;return this.ao=f,u.length!==0||p?{snapshot:new Qf(this.query,t.fo,s,u,t.mutatedKeys,f===0,p,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new FE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=ft(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new hk(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new fk(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ft();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Qf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),pU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},mU=function(e){this.key=e,this.bo=!1},gU=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Na(function(l){return mA(l)},Rc),this.Vo=new Map,this.So=new Set,this.Do=new pn(Ie.comparator),this.Co=new Map,this.No=new Py,this.xo={},this.ko=new Map,this.Fo=zf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function vU(e,t){return z(this,void 0,void 0,function(){var n,r,o,s,u,l;return G(this,function(f){switch(f.label){case 0:return n=Gy(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Wf(n.localStore,Yr(t))];case 2:return u=f.sent(),l=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,qy(n,t,r,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Kh(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function qy(e,t,n,r){return z(this,void 0,void 0,function(){var o,s,u,l,f,p;return G(this,function(g){switch(g.label){case 0:return e.Oo=function(h,m,y){return function(_,I,E,T){return z(this,void 0,void 0,function(){var C,P,L;return G(this,function(X){switch(X.label){case 0:return C=I.view._o(E),C.Nn?[4,Xf(_.localStore,I.query,!1).then(function(U){var ue=U.documents;return I.view._o(ue,C)})]:[3,2];case 1:C=X.sent(),X.label=2;case 2:return P=T&&T.targetChanges.get(I.targetId),L=I.view.applyChanges(C,_.isPrimaryClient,P),[2,(rv(_,I.targetId,L.To),L.snapshot)]}})})}(e,h,m,y)},[4,Xf(e.localStore,t,!0)];case 1:return o=g.sent(),s=new dk(t,o.Bn),u=s._o(o.documents),l=Ay.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,l),rv(e,n,f.To),p=new pU(t,n,s),[2,(e.Po.set(t,p),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function yU(e,t){return z(this,void 0,void 0,function(){var n,r,o;return G(this,function(s){switch(s.label){case 0:return n=ae(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!Rc(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ya(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),cc(n.remoteStore,r.targetId),_a(n,r.targetId)}).catch(fs)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return _a(n,r.targetId),[4,ya(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function _U(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u;return G(this,function(l){switch(l.label){case 0:r=zy(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,p){var g,h=ae(f),m=Mn.now(),y=p.reduce(function(_,I){return _.add(I.key)},ft());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,y).next(function(I){g=I;for(var E=[],T=0,C=p;T<C.length;T++){var P=C[T],L=KF(P,g.get(P.key));L!=null&&E.push(new io(P.key,L,fA(L.value.mapValue),fn.exists(!0)))}return h._n.addMutationBatch(_,m,E,p)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(r.localStore,t)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){var h=f.xo[f.currentUser.toKey()];h||(h=new pn(We)),h=h.insert(p,g),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,so(r,o.changes)];case 3:return l.sent(),[4,Ra(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),u=Da(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function pk(e,t){return z(this,void 0,void 0,function(){var n,r;return G(this,function(o){switch(o.label){case 0:n=ae(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,DV(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var l=n.Co.get(u);l&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Pe(l.bo):s.removedDocuments.size>0&&(Pe(l.bo),l.bo=!1))}),[4,so(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,fs(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function VE(e,t,n){var r=ae(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var l=u.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,u){var l=ae(s);l.onlineState=u;var f=!1;l.queries.forEach(function(p,g){for(var h=0,m=g.listeners;h<m.length;h++)m[h].zr(u)&&(f=!0)}),f&&jy(l)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wU(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u,l,f;return G(this,function(p){switch(p.label){case 0:return(r=ae(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new pn(Ie.comparator)).insert(s,dn.newNoDocument(s,$e.min())),l=ft().add(s),f=new Sy($e.min(),new Map,new Gt(We),u,l),[4,pk(r,f)]):[3,2];case 1:return p.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),Ky(r),[3,4];case 2:return[4,ya(r.localStore,t,!1).then(function(){return _a(r,t,n)}).catch(fs)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function bU(e,t){return z(this,void 0,void 0,function(){var n,r,o;return G(this,function(s){switch(s.label){case 0:n=ae(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,PV(n.localStore,t)];case 2:return o=s.sent(),Hy(n,r,null),$y(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,so(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,fs(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function IU(e,t,n){return z(this,void 0,void 0,function(){var r,o;return G(this,function(s){switch(s.label){case 0:r=ae(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,l){var f=ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var g;return f._n.lookupMutationBatch(p,l).next(function(h){return Pe(h!==null),g=h.keys(),f._n.removeMutationBatch(p,h)}).next(function(){return f._n.performConsistencyCheck(p)}).next(function(){return f.Mn.pn(p,g)})})}(r.localStore,t)];case 2:return o=s.sent(),Hy(r,t,n),$y(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,so(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,fs(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function EU(e,t){return z(this,void 0,void 0,function(){var n,r,o,s,u;return G(this,function(l){switch(l.label){case 0:oo((n=ae(e)).remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var p=ae(f);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return p._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=l.sent(),u=Da(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function $y(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Hy(e,t,n){var r=ae(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function _a(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||mk(e,u)})}function mk(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(cc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ky(e))}function rv(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof fk?(e.No.addReference(s.key,t),TU(e,s)):s instanceof hk?(re("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||mk(e,s.key)):we()}}function TU(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(re("SyncEngine","New document in limbo: "+n),e.So.add(r),Ky(e))}function Ky(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ie(nt.fromString(t)),r=e.Fo.next();e.Co.set(r,new mU(n)),e.Do=e.Do.insert(n,r),Kh(e.remoteStore,new $h(Yr(Oc(n.path)),r,2,Yn.o))}}function so(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u;return G(this,function(l){switch(l.label){case 0:return r=ae(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,p){u.push(r.Oo(p,t,n).then(function(g){if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,g.fromCache?"not-current":"current"),o.push(g);var h=OV.Pn(p.targetId,g);s.push(h)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),r.vo._r(o),[4,function(f,p){return z(this,void 0,void 0,function(){var g,h,m,y,_,I,E,T,C;return G(this,function(P){switch(P.label){case 0:g=ae(f),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(L){return ee.forEach(p,function(X){return ee.forEach(X.bn,function(U){return g.persistence.referenceDelegate.addReference(L,X.targetId,U)}).next(function(){return ee.forEach(X.vn,function(U){return g.persistence.referenceDelegate.removeReference(L,X.targetId,U)})})})})];case 2:return P.sent(),[3,4];case 3:if(!ls(h=P.sent()))throw h;return re("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(m=0,y=p;m<y.length;m++)_=y[m],I=_.targetId,_.fromCache||(E=g.kn.get(I),T=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(T),g.kn=g.kn.insert(I,C));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function SU(e,t){return z(this,void 0,void 0,function(){var n,r;return G(this,function(o){switch(o.label){case 0:return(n=ae(e)).currentUser.isEqual(t)?[3,3]:(re("SyncEngine","User change. New user:",t.toKey()),[4,JA(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new J(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,so(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function AU(e,t){var n=ae(e),r=n.Co.get(t);if(r&&r.bo)return ft().add(r.key);var o=ft(),s=n.Vo.get(t);if(!s)return o;for(var u=0,l=s;u<l.length;u++){var f=l[u],p=n.Po.get(f);o=o.unionWith(p.view.wo)}return o}function kU(e,t){return z(this,void 0,void 0,function(){var n,r,o;return G(this,function(s){switch(s.label){case 0:return[4,Xf((n=ae(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&rv(n,t.targetId,o.To),o)]}})})}function xU(e){return z(this,void 0,void 0,function(){var t;return G(this,function(n){return[2,tk((t=ae(e)).localStore).then(function(r){return so(t,r)})]})})}function CU(e,t,n,r){return z(this,void 0,void 0,function(){var o,s;return G(this,function(u){switch(u.label){case 0:return[4,function(l,f){var p=ae(l),g=ae(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return g.jt(h,f).next(function(m){return m?p.Mn.pn(h,m):ee.resolve(null)})})}((o=ae(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Ra(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Hy(o,t,r||null),$y(o,t),function(l,f){ae(ae(l)._n).Gt(f)}(o.localStore,t)):we(),u.label=4;case 4:return[4,so(o,s)];case 5:return u.sent(),[3,7];case 6:re("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function NU(e,t){return z(this,void 0,void 0,function(){var n,r,o,s,u,l,f,p;return G(this,function(g){switch(g.label){case 0:return Gy(n=ae(e)),zy(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,UE(n,r.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,nv(n.remoteStore,!0)];case 2:for(g.sent(),s=0,u=o;s<u.length;s++)l=u[s],Kh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],p=Promise.resolve(),n.Vo.forEach(function(h,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):p=p.then(function(){return _a(n,m),ya(n.localStore,m,!0)}),cc(n.remoteStore,m)}),[4,p]);case 4:return g.sent(),[4,UE(n,f)];case 5:return g.sent(),function(h){var m=ae(h);m.Co.forEach(function(y,_){cc(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new pn(Ie.comparator)}(n),n.$o=!1,[4,nv(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function UE(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u,l,f,p,g,h,m,y,_,I,E;return G(this,function(T){switch(T.label){case 0:r=ae(e),o=[],s=[],u=0,l=t,T.label=1;case 1:return u<l.length?(f=l[u],p=void 0,(g=r.Vo.get(f))&&g.length!==0?[4,Wf(r.localStore,Yr(g[0]))]:[3,7]):[3,13];case 2:p=T.sent(),h=0,m=g,T.label=3;case 3:return h<m.length?(y=m[h],_=r.Po.get(y),[4,kU(r,_)]):[3,6];case 4:(I=T.sent()).snapshot&&s.push(I.snapshot),T.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,ek(r.localStore,f)];case 8:return E=T.sent(),[4,Wf(r.localStore,E)];case 9:return p=T.sent(),[4,qy(r,gk(E),f,!1)];case 10:T.sent(),T.label=11;case 11:o.push(p),T.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function gk(e){return dA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function OU(e){var t=ae(e);return ae(ae(t.localStore).persistence).fn()}function RU(e,t,n,r){return z(this,void 0,void 0,function(){var o,s,u;return G(this,function(l){switch(l.label){case 0:return(o=ae(e)).$o?(re("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,tk(o.localStore)];case 3:return s=l.sent(),u=Sy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,so(o,s,u)];case 4:return l.sent(),[3,8];case 5:return[4,ya(o.localStore,t,!0)];case 6:return l.sent(),_a(o,t,r),[3,8];case 7:we(),l.label=8;case 8:return[2]}})})}function PU(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u,l,f,p,g,h,m;return G(this,function(y){switch(y.label){case 0:if(!(r=Gy(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(re("SyncEngine","Adding an already active target "+u),[3,5]):[4,ek(r.localStore,u)]):[3,6];case 2:return l=y.sent(),[4,Wf(r.localStore,l)];case 3:return f=y.sent(),[4,qy(r,gk(l),f.targetId,!1)];case 4:y.sent(),Kh(r.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:p=function(_){return G(this,function(I){switch(I.label){case 0:return r.Vo.has(_)?[4,ya(r.localStore,_,!1).then(function(){cc(r.remoteStore,_),_a(r,_)}).catch(fs)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},g=0,h=n,y.label=7;case 7:return g<h.length?(m=h[g],[5,p(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function Gy(e){var t=ae(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wU.bind(null,t),t.vo._r=hU.bind(null,t.eventManager),t.vo.Mo=dU.bind(null,t.eventManager),t}function zy(e){var t=ae(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IU.bind(null,t),t}var vk=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return z(this,void 0,void 0,function(){return G(this,function(n){switch(n.label){case 0:return this.R=Hh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return QA(this.persistence,new YA,t.initialUser,this.R)},e.prototype.qo=function(t){return new $V(KV.bs,this.R)},e.prototype.Bo=function(t){return new nk},e.prototype.terminate=function(){return z(this,void 0,void 0,function(){return G(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),yk=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Te(t,e),t.prototype.initialize=function(n){return z(this,void 0,void 0,function(){var r=this;return G(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,FV(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,zy(this.Qo.syncEngine)];case 4:return o.sent(),[4,Ra(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return QA(this.persistence,new YA,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new TV(r,n.asyncQueue)},t.prototype.qo=function(n){var r=Ry(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new NV(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,rk(),wf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new nk},t}(vk),DU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Te(t,e),t.prototype.initialize=function(n){return z(this,void 0,void 0,function(){var r,o=this;return G(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof ag?(this.sharedClientState.syncEngine={ui:CU.bind(null,r),ai:RU.bind(null,r),hi:PU.bind(null,r),fn:OU.bind(null,r),ci:xU.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return z(o,void 0,void 0,function(){return G(this,function(l){switch(l.label){case 0:return[4,NU(this.Qo.syncEngine,u)];case 1:return l.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=rk();if(!ag.yt(r))throw new J(M.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=Ry(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new ag(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(yk),iv=function(){function e(){}return e.prototype.initialize=function(t,n){return z(this,void 0,void 0,function(){var r=this;return G(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return VE(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=SU.bind(null,this.syncEngine),[4,nv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new fU},e.prototype.createDatastore=function(t){var n,r=Hh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new YV(n));return function(s,u,l){return new ZV(s,u,l)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,l=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return VE(l.syncEngine,f,0)},u=ME.yt()?new ME:new zV,new tU(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,l,f,p){var g=new gU(r,o,s,u,l,f);return p&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return z(this,void 0,void 0,function(){var n;return G(this,function(r){switch(r.label){case 0:return n=ae(t),re("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Oa(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),LU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return z(this,void 0,void 0,function(){var n,r=this;return G(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new J(M.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return z(this,void 0,void 0,function(){var l,f,p,g,h,m;return G(this,function(y){switch(y.label){case 0:return l=ae(s),f=uc(l.R)+"/documents",p={documents:u.map(function(_){return ac(l.R,_)})},[4,l.$i("BatchGetDocuments",f,p)];case 1:return g=y.sent(),h=new Map,g.forEach(function(_){var I=function(E,T){return"found"in T?function(C,P){Pe(!!P.found),P.found.name,P.found.updateTime;var L=ai(C,P.found.name),X=Sn(P.found.updateTime),U=new Xn({mapValue:{fields:P.found.fields}});return dn.newFoundDocument(L,X,U)}(E,T):"missing"in T?function(C,P){Pe(!!P.missing),Pe(!!P.readTime);var L=ai(C,P.missing),X=Sn(P.readTime);return dn.newNoDocument(L,X)}(E,T):we()}(l.R,_);h.set(I.key.toString(),I)}),m=[],[2,(u.forEach(function(_){var I=h.get(_.toString());Pe(!!I),m.push(I)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Mc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return z(this,void 0,void 0,function(){var t,n=this;return G(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=Ie.fromPath(s);n.mutations.push(new Ty(u,n.precondition(u)))}),[4,function(o,s){return z(this,void 0,void 0,function(){var u,l,f;return G(this,function(p){switch(p.label){case 0:return u=ae(o),l=uc(u.R)+"/documents",f={writes:s.map(function(g){return Kf(u.R,g)})},[4,u.Ni("Commit",l,f)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw we();n=$e.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new J(M.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?fn.updateTime(n):fn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual($e.min()))throw new J(M.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fn.updateTime(n)}return fn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),MU=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new Dy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return z(t,void 0,void 0,function(){var n,r,o=this;return G(this,function(s){return n=new LU(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(l){o.ic(l)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!cs(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!SA(n)}return!1},e}(),FU=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Zt.UNAUTHENTICATED,this.clientId=oA.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return z(o,void 0,void 0,function(){return G(this,function(u){switch(u.label){case 0:return re("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return z(this,void 0,void 0,function(){return G(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new J(M.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return z(t,void 0,void 0,function(){var r,o;return G(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Da(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e,t){return z(this,void 0,void 0,function(){var n,r,o=this;return G(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){return z(o,void 0,void 0,function(){return G(this,function(l){switch(l.label){case 0:return r.isEqual(u)?[3,2]:[4,JA(t.localStore,u)];case 1:l.sent(),r=u,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function wk(e,t){return z(this,void 0,void 0,function(){var n,r;return G(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Wy(e)];case 1:return n=o.sent(),re("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,l){return z(this,void 0,void 0,function(){var f,p;return G(this,function(g){switch(g.label){case 0:return(f=ae(u)).asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials"),p=oo(f),f.Or.add(3),[4,Oa(f)];case 1:return g.sent(),p&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),f.Or.delete(3),[4,Fc(f)];case 3:return g.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Wy(e){return z(this,void 0,void 0,function(){return G(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(re("FirestoreClient","Using default OfflineComponentProvider"),[4,_k(e,new vk)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function zh(e){return z(this,void 0,void 0,function(){return G(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(re("FirestoreClient","Using default OnlineComponentProvider"),[4,wk(e,new iv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function jE(e){return Wy(e).then(function(t){return t.persistence})}function bk(e){return Wy(e).then(function(t){return t.localStore})}function BE(e){return zh(e).then(function(t){return t.remoteStore})}function Ik(e){return zh(e).then(function(t){return t.syncEngine})}function wa(e){return z(this,void 0,void 0,function(){var t,n;return G(this,function(r){switch(r.label){case 0:return[4,zh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=vU.bind(null,t.syncEngine),n.onUnlisten=yU.bind(null,t.syncEngine),n)]}})})}function qE(e,t,n){var r=this;n===void 0&&(n={});var o=new Un;return e.asyncQueue.enqueueAndForget(function(){return z(r,void 0,void 0,function(){var s;return G(this,function(u){switch(u.label){case 0:return s=function(l,f,p,g,h){var m=new Gh({next:function(_){f.enqueueAndForget(function(){return Uy(l,y)});var I=_.docs.has(p);!I&&_.fromCache?h.reject(new J(M.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&g&&g.source==="server"?h.reject(new J(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new By(Oc(p.path),m,{includeMetadataChanges:!0,so:!0});return Vy(l,y)},[4,wa(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function $E(e,t,n){var r=this;n===void 0&&(n={});var o=new Un;return e.asyncQueue.enqueueAndForget(function(){return z(r,void 0,void 0,function(){var s;return G(this,function(u){switch(u.label){case 0:return s=function(l,f,p,g,h){var m=new Gh({next:function(_){f.enqueueAndForget(function(){return Uy(l,y)}),_.fromCache&&g.source==="server"?h.reject(new J(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new By(p,m,{includeMetadataChanges:!0,so:!0});return Vy(l,y)},[4,wa(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var VU=function(e,t,n,r,o,s,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=l},Jf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),HE=new Map,Ek=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},KE=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Zt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),UU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),jU=function(){function e(t){var n=this;this.currentUser=Zt.UNAUTHENTICATED,this.oc=new Un,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){re("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(re("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(re("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Pe(typeof o.accessToken=="string"),new Ek(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return z(r,void 0,void 0,function(){return G(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Pe(t===null||typeof t=="string"),new Zt(t)},e}(),BU=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),qU=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new BU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Zt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(e,t,n){if(!n)throw new J(M.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Yy(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new J(M.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Tk(e,t,n,r){if(t===!0&&r===!0)throw new J(M.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function GE(e){if(!Ie.isDocumentKey(e))throw new J(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function zE(e){if(Ie.isDocumentKey(e))throw new J(M.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Wh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":we()}function rt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wh(e);throw new J(M.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function WE(e,t){if(t<=0)throw new J(M.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XE=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new J(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new J(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Tk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),lc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,t instanceof Jf?(this._databaseId=t,this._credentials=new KE):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new J(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jf(r.options.projectId)}(t),this._credentials=new jU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new J(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new J(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new KE;switch(n.type){case"gapi":var r=n.client;return Pe(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new qU(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new J(M.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=HE.get(t))&&(re("ComponentProvider","Removing Datastore"),HE.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),St=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new zi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Zn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),zi=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,Oc(o))||this)._path=o,s.type="collection",s}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new St(this.firestore,null,new Ie(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Zn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=ct(e),Xy("collection","path",t),e instanceof lc)return zE(n=nt.fromString.apply(nt,wt([t],r))),new zi(e,null,n);if(!(e instanceof St||e instanceof zi))throw new J(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zE(n=nt.fromString.apply(nt,wt([e.path],r)).child(nt.fromString(t))),new zi(e.firestore,null,n)}function bf(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=ct(e),arguments.length===1&&(t=oA.u()),Xy("doc","path",t),e instanceof lc)return GE(n=nt.fromString.apply(nt,wt([t],r))),new St(e,null,new Ie(n));if(!(e instanceof St||e instanceof zi))throw new J(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return GE(n=e._path.child(nt.fromString.apply(nt,wt([t],r)))),new St(e.firestore,e instanceof zi?e.converter:null,new Ie(n))}function Ak(e,t){return e=ct(e),t=ct(t),(e instanceof St||e instanceof zi)&&(t instanceof St||t instanceof zi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function kk(e,t){return e=ct(e),t=ct(t),e instanceof Zn&&t instanceof Zn&&e.firestore===t.firestore&&Rc(e._query,t._query)&&e.converter===t.converter}var $U=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Dy(this,"async_queue_retry"),this.Ic=function(){var r=wf();r&&re("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=wf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Un;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return z(this,void 0,void 0,function(){var t,n=this;return G(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ls(t=r.sent()))throw t;return re("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Ft("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=cU.createAndSchedule(this,t,n,r,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&we()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return z(this,void 0,void 0,function(){var t;return G(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,l){return u.targetTimeMs-l.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function ba(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var HU=-1,Kt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new $U,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Te(t,e),t.prototype._terminate=function(){return this._firestoreClient||xk(this),this._firestoreClient.terminate()},t}(lc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(e){return e._firestoreClient||xk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xk(e){var t,n=e._freezeSettings(),r=function(o,s,u,l){return new VU(o,s,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new FU(e._credentials,e._queue,r)}function YE(e,t,n){var r=this,o=new Un;return e.asyncQueue.enqueue(function(){return z(r,void 0,void 0,function(){var s;return G(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,_k(e,n)];case 1:return u.sent(),[4,wk(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===M.FAILED_PRECONDITION||l.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function QE(e){if(e._initialized||e._terminated)throw new J(M.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new J(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),os=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Vn.fromBase64String(t))}catch(n){throw new J(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Vn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),hs=function(e){this._methodName=e},Xh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new J(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return We(this._lat,t._lat)||We(this._long,t._long)},e}(),KU=/^__.*__$/,GU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new io(t,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(t,this.data,n,this.fieldTransforms)},e}(),Ck=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new io(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}var Ok=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Zf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(Nk(this.Nc)&&KU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),zU=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Hh(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new Ok({Nc:t,methodName:n,qc:r,path:Cr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ds(e){var t=e._freezeSettings(),n=Hh(e._databaseId);return new zU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Yh(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);e_("Data must be an object, but it was:",u,r);var l,f,p=Dk(r,u);if(s.merge)l=new aa(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var g=[],h=0,m=s.mergeFields;h<m.length;h++){var y=ov(t,m[h],n);if(!u.contains(y))throw new J(M.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Mk(g,y)||g.push(y)}l=new aa(g),f=u.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=u.fieldTransforms;return new GU(new Xn(p),l,f)}var Qy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(hs);function Rk(e,t,n){return new Ok({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var WU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){return new Dc(n.path,new fa)},t.prototype.isEqual=function(n){return n instanceof t},t}(hs),XU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var r=Rk(this,n,!0),o=this.Kc.map(function(u){return ps(u,r)}),s=new rs(o);return new Dc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(hs),YU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var r=Rk(this,n,!0),o=this.Kc.map(function(u){return ps(u,r)}),s=new is(o);return new Dc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(hs),QU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var r=new ha(n.R,_A(n.R,this.Qc));return new Dc(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(hs);function Jy(e,t,n,r){var o=e.Uc(1,t,n);e_("Data must be an object, but it was:",o,r);var s=[],u=Xn.empty();us(r,function(f,p){var g=t_(t,f,n);p=ct(p);var h=o.Oc(g);if(p instanceof Qy)s.push(g);else{var m=ps(p,h);m!=null&&(s.push(g),u.set(g,m))}});var l=new aa(s);return new Ck(u,l,o.fieldTransforms)}function Zy(e,t,n,r,o,s){var u=e.Uc(1,t,n),l=[ov(t,r,n)],f=[o];if(s.length%2!=0)throw new J(M.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<s.length;p+=2)l.push(ov(t,s[p])),f.push(s[p+1]);for(var g=[],h=Xn.empty(),m=l.length-1;m>=0;--m)if(!Mk(g,l[m])){var y=l[m],_=f[m];_=ct(_);var I=u.Oc(y);if(_ instanceof Qy)g.push(y);else{var E=ps(_,I);E!=null&&(g.push(y),h.set(y,E))}}var T=new aa(g);return new Ck(h,T,u.fieldTransforms)}function Pk(e,t,n,r){return r===void 0&&(r=!1),ps(n,e.Uc(r?4:3,t))}function ps(e,t){if(Lk(e=ct(e)))return e_("Unsupported field value:",t,e),Dk(e,t);if(e instanceof hs)return function(n,r){if(!Nk(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,l=n;u<l.length;u++){var f=ps(l[u],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=ct(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return _A(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Mn.fromDate(n);return{timestampValue:sc(r.R,o)}}if(n instanceof Mn)return o=new Mn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:sc(r.R,o)};if(n instanceof Xh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof os)return{bytesValue:CA(r.R,n._byteString)};if(n instanceof St){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:ky(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Wh(n))}(e,t)}function Dk(e,t){var n={};return aA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):us(e,function(r,o){var s=ps(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Lk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Mn||e instanceof Xh||e instanceof os||e instanceof St||e instanceof hs)}function e_(e,t,n){if(!Lk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=Wh(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function ov(e,t,n){if((t=ct(t))instanceof Kr)return t._internalPath;if(typeof t=="string")return t_(e,t);throw Zf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var JU=new RegExp("[~\\*/\\[\\]]");function t_(e,t,n){if(t.search(JU)>=0)throw Zf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Kr.bind.apply(Kr,wt([void 0],t.split("."))))()._internalPath}catch{throw Zf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Zf(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+r),u&&(f+=" in document "+o),f+=")"),new J(M.INVALID_ARGUMENT,(l+=". ")+e+f)}function Mk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new St(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new ZU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(eh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),ZU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(fc);function eh(e,t){return typeof t=="string"?t_(e,t):t instanceof Kr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ho=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ci=function(e){function t(n,r,o,s,u,l){var f=this;return(f=e.call(this,n,r,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return Te(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(eh("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(fc),Uu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ci),Ui=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ho(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new Uu(r._firestore,r._userDataWriter,o.key,o,new Ho(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Uu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ho(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Uu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ho(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),p=-1,g=-1;return l.type!==0&&(p=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(g=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:ej(l.type),doc:f,oldIndex:p,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function ej(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function Fk(e,t){return e instanceof ci&&t instanceof ci?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ui&&t instanceof Ui&&e._firestore===t._firestore&&kk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(e){if(Hf(e)&&e.explicitOrderBy.length===0)throw new J(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vc=function(){};function Ni(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var tj=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return Te(t,e),t.prototype._apply=function(n){var r=ds(n.firestore),o=function(s,u,l,f,p,g,h){var m;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new J(M.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){nT(h,g);for(var y=[],_=0,I=h;_<I.length;_++){var E=I[_];y.push(tT(f,s,E))}m={arrayValue:{values:y}}}else m=tT(f,s,h)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||nT(h,g),m=Pk(l,"where",h,g==="in"||g==="not-in");var T=Qn.create(p,g,m);return function(C,P){if(P.g()){var L=Iy(C);if(L!==null&&!L.isEqual(P.field))throw new J(M.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+L.toString()+"' and '"+P.field.toString()+"'");var X=by(C);X!==null&&jk(C,P.field,X)}var U=function(ue,V){for(var H=0,k=ue.filters;H<k.length;H++){var Ne=k[H];if(V.indexOf(Ne.op)>=0)return Ne.op}return null}(C,function(ue){switch(ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(P.op));if(U!==null)throw U===P.op?new J(M.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+P.op.toString()+"' filter."):new J(M.INVALID_ARGUMENT,"Invalid query. You cannot use '"+P.op.toString()+"' filters with '"+U.toString()+"' filters.")}(s,T),T}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Zn(n.firestore,n.converter,function(s,u){var l=s.filters.concat([u]);return new mi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Vc),nj=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return Te(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new J(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new J(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Zs(s,u);return function(f,p){if(by(f)===null){var g=Iy(f);g!==null&&jk(f,g,p.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Zn(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new mi(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(Vc),JE=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Te(t,e),t.prototype._apply=function(n){return new Zn(n.firestore,n.converter,pA(n._query,this.Hc,this.Jc))},t}(Vc),ZE=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Te(t,e),t.prototype._apply=function(n){var r=Uk(n,this.type,this.Yc,this.Xc);return new Zn(n.firestore,n.converter,function(o,s){return new mi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(Vc),eT=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Te(t,e),t.prototype._apply=function(n){var r=Uk(n,this.type,this.Yc,this.Xc);return new Zn(n.firestore,n.converter,function(o,s){return new mi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(Vc);function Uk(e,t,n,r){if(n[0]=ct(n[0]),n[0]instanceof fc)return function(s,u,l,f,p){if(!f)throw new J(M.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],h=0,m=la(s);h<m.length;h++){var y=m[h];if(y.field.isKeyField())g.push(Bf(u,f.key));else{var _=f.data.field(y.field);if(yy(_))throw new J(M.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var I=y.field.canonicalString();throw new J(M.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}g.push(_)}}return new oc(g,p)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=ds(e.firestore);return function(s,u,l,f,p,g){var h=s.explicitOrderBy;if(p.length>h.length)throw new J(M.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<p.length;y++){var _=p[y];if(h[y].field.isKeyField()){if(typeof _!="string")throw new J(M.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!Ey(s)&&_.indexOf("/")!==-1)throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var I=s.path.child(nt.fromString(_));if(!Ie.isDocumentKey(I))throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var E=new Ie(I);m.push(Bf(u,E))}else{var T=Pk(l,f,_);m.push(T)}}return new oc(m,g)}(e._query,e.firestore._databaseId,o,t,n,r)}function tT(e,t,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ey(t)&&n.indexOf("/")!==-1)throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(nt.fromString(n));if(!Ie.isDocumentKey(r))throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Bf(e,new Ie(r))}if(n instanceof St)return Bf(e,n._key);throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wh(n)+".")}function nT(e,t){if(!Array.isArray(e)||e.length===0)throw new J(M.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new J(M.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function jk(e,t,n){if(!n.isEqual(t))throw new J(M.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n_=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Lt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ua(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw we()}},e.prototype.convertObject=function(t,n){var r=this,o={};return us(t.fields,function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new Xh(Lt(t.latitude),Lt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=cA(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Ji(t);return new Mn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=nt.fromString(t);Pe(FA(r));var o=new Jf(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return o.isEqual(n)||Ft("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var rj=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Te(t,e),t.prototype.convertBytes=function(n){return new os(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,r)},t}(n_),ij=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ds(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=ji(t,this._firestore),s=Qh(o.converter,n,r),u=Yh(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,fn.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,l=ji(t,this._firestore);return u=typeof(n=ct(n))=="string"||n instanceof Kr?Zy(this._dataReader,"WriteBatch.update",l._key,n,r,o):Jy(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,fn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=ji(t,this._firestore);return this._mutations=this._mutations.concat(new Mc(n._key,fn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new J(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(e,t){if((e=ct(e)).firestore!==t)throw new J(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Te(t,e),t.prototype.convertBytes=function(n){return new os(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,r)},t}(n_);function rT(e,t,n){e=rt(e,St);var r=rt(e.firestore,Kt),o=Qh(e.converter,t,n);return Uc(r,[Yh(ds(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,fn.none())])}function iT(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=rt(e,St);var s=rt(e.firestore,Kt),u=ds(s);return Uc(s,[(typeof(t=ct(t))=="string"||t instanceof Kr?Zy(u,"updateDoc",e._key,t,n,r):Jy(u,"updateDoc",e._key,t)).toMutation(e._key,fn.exists(!0))])}function Bk(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=ct(e);var u={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||ba(o[l])||(u=o[l],l++);var f,p,g,h={includeMetadataChanges:u.includeMetadataChanges};if(ba(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof St)p=rt(e.firestore,Kt),g=Oc(e._key.path),f={next:function(I){o[l]&&o[l](sv(p,e,I))},error:o[l+1],complete:o[l+2]};else{var y=rt(e,Zn);p=rt(y.firestore,Kt),g=y._query;var _=new Xo(p);f={next:function(I){o[l]&&o[l](new Ui(p,_,y,I))},error:o[l+1],complete:o[l+2]},Vk(e._query)}return function(I,E,T,C){var P=this,L=new Gh(C),X=new By(E,L,T);return I.asyncQueue.enqueueAndForget(function(){return z(P,void 0,void 0,function(){var U;return G(this,function(ue){switch(ue.label){case 0:return U=Vy,[4,wa(I)];case 1:return[2,U.apply(void 0,[ue.sent(),X])]}})})}),function(){L.Wo(),I.asyncQueue.enqueueAndForget(function(){return z(P,void 0,void 0,function(){var U;return G(this,function(ue){switch(ue.label){case 0:return U=Uy,[4,wa(I)];case 1:return[2,U.apply(void 0,[ue.sent(),X])]}})})})}}(cn(p),g,h,f)}function Uc(e,t){return function(n,r){var o=this,s=new Un;return n.asyncQueue.enqueueAndForget(function(){return z(o,void 0,void 0,function(){var u;return G(this,function(l){switch(l.label){case 0:return u=_U,[4,Ik(n)];case 1:return[2,u.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(cn(e),t)}function sv(e,t,n){var r=n.docs.get(t._key),o=new Xo(e);return new ci(e,o,t._key,r,new Ho(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oj=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return Te(t,e),t.prototype.get=function(n){var r=this,o=ji(n,this._firestore),s=new Xo(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new ci(r._firestore,s,o._key,u._document,new Ho(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ds(t)}return e.prototype.get=function(t){var n=this,r=ji(t,this._firestore),o=new rj(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return we();var u=s[0];if(u.isFoundDocument())return new fc(n._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new fc(n._firestore,o,r._key,null,r.converter);throw we()})},e.prototype.set=function(t,n,r){var o=ji(t,this._firestore),s=Qh(o.converter,n,r),u=Yh(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,l=ji(t,this._firestore);return u=typeof(n=ct(n))=="string"||n instanceof Kr?Zy(this._dataReader,"Transaction.update",l._key,n,r,o):Jy(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,u),this},e.prototype.delete=function(t){var n=ji(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){if(typeof Uint8Array>"u")throw new J(M.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function sT(){if(typeof atob>"u")throw new J(M.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var qk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return sT(),new e(os.fromBase64String(t))},e.fromUint8Array=function(t){return oT(),new e(os.fromUint8Array(t))},e.prototype.toBase64=function(){return sT(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return oT(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),sj=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){QE(r=rt(r,Kt));var s=cn(r),u=r._freezeSettings(),l=new iv;return YE(s,l,new yk(l,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){QE(n=rt(n,Kt));var r=cn(n),o=n._freezeSettings(),s=new iv;return YE(r,s,new DU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new J(M.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Un;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return z(r,void 0,void 0,function(){var s;return G(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return z(this,void 0,void 0,function(){var f;return G(this,function(p){switch(p.label){case 0:return ma.yt()?(f=l+"main",[4,ma.delete(f)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(Ry(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),$k=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Jf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Uf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,u,l){var f;l===void 0&&(l={});var p=(o=rt(o,lc))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==s&&Uf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},p),{host:s+":"+u,ssl:!1})),l.mockUserToken){var g,h;if(typeof l.mockUserToken=="string")g=l.mockUserToken,h=Zt.MOCK_USER;else{g=YS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new J(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Zt(m)}o._credentials=new UU(new Ek(g,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return z(n,void 0,void 0,function(){var r,o;return G(this,function(s){switch(s.label){case 0:return[4,jE(t)];case 1:return r=s.sent(),[4,BE(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var l=ae(u);return l.Or.delete(0),Fc(l)}(o))]}})})})}(cn(rt(this._delegate,Kt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return z(n,void 0,void 0,function(){var r,o;return G(this,function(s){switch(s.label){case 0:return[4,jE(t)];case 1:return r=s.sent(),[4,BE(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return z(this,void 0,void 0,function(){var l;return G(this,function(f){switch(f.label){case 0:return(l=ae(u)).Or.add(0),[4,Oa(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(cn(rt(this._delegate,Kt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&Tk("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Un;return t.asyncQueue.enqueueAndForget(function(){return z(n,void 0,void 0,function(){var o;return G(this,function(s){switch(s.label){case 0:return o=EU,[4,Ik(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(cn(rt(this._delegate,Kt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,l=new Gh(s);return o.asyncQueue.enqueueAndForget(function(){return z(u,void 0,void 0,function(){var f;return G(this,function(p){switch(p.label){case 0:return f=function(g,h){ae(g).Gr.add(h),h.next()},[4,wa(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return z(u,void 0,void 0,function(){var f;return G(this,function(p){switch(p.label){case 0:return f=function(g,h){ae(g).Gr.delete(h)},[4,wa(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})})}}(cn(n=rt(n,Kt)),ba(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new J(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new th(this,Sk(this._delegate,t))}catch(n){throw _n(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Yo(this,bf(this._delegate,t))}catch(n){throw _n(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ed(this,function(n,r){if(n=rt(n,lc),Xy("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new J(M.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Zn(n,null,function(o){return new mi(nt.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw _n(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var l=this,f=new Un;return s.asyncQueue.enqueueAndForget(function(){return z(l,void 0,void 0,function(){var p;return G(this,function(g){switch(g.label){case 0:return[4,function(h){return zh(h).then(function(m){return m.datastore})}(s)];case 1:return p=g.sent(),new MU(s.asyncQueue,p,u,f).run(),[2]}})})}),f.promise}(cn(r),function(s){return o(new oj(r,s))})}(this._delegate,function(r){return t(new Hk(n,r))})},e.prototype.batch=function(){var t=this;return cn(this._delegate),new Kk(new ij(this._delegate,function(n){return Uc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new J(M.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new J(M.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Jh=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Te(t,e),t.prototype.convertBytes=function(n){return new qk(new os(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Yo.eu(r,this.firestore,null)},t}(n_);function aj(e){var t;t=e,Ar.setLogLevel(t)}var Hk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Jh(t)}return e.prototype.get=function(t){var n=this,r=Ko(t);return this._delegate.get(r).then(function(o){return new hc(n._firestore,new ci(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=Ko(t);return r?(Yy("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Ko(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,wt([l,n,r],s)),this},e.prototype.delete=function(t){var n=Ko(t);return this._delegate.delete(n),this},e}(),Kk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=Ko(t);return r?(Yy("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Ko(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,wt([l,n,r],s)),this},e.prototype.delete=function(t){var n=Ko(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Zh=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Uu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new dc(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Jh(t),n),o.set(n,s)),s},e}();Zh.su=new WeakMap;var Yo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Jh(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new J(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new St(n._delegate,r,new Ie(t)))},e.eu=function(t,n,r){return new e(n,new St(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new th(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new th(this.firestore,Sk(this._delegate,t))}catch(n){throw _n(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ct(t))instanceof St&&Ak(this._delegate,t)},e.prototype.set=function(t,n){n=Yy("DocumentReference.set",n);try{return n?rT(this._delegate,t,n):rT(this._delegate,t)}catch(r){throw _n(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?iT(this._delegate,t):iT.apply(void 0,wt([this._delegate,t,n],r))}catch(s){throw _n(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Uc(rt((t=this._delegate).firestore,Kt),[new Mc(t._key,fn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=Gk(n),s=zk(n,function(u){return new hc(t.firestore,new ci(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return Bk(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=rt(r,St);var o=rt(r.firestore,Kt),s=cn(o),u=new Xo(o);return function(l,f){var p=this,g=new Un;return l.asyncQueue.enqueueAndForget(function(){return z(p,void 0,void 0,function(){var h;return G(this,function(m){switch(m.label){case 0:return h=function(y,_,I){return z(this,void 0,void 0,function(){var E,T;return G(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,function(P,L){var X=ae(P);return X.persistence.runTransaction("read document","readonly",function(U){return X.Mn.mn(U,L)})}(y,_)];case 1:return(T=C.sent()).isFoundDocument()?I.resolve(T):T.isNoDocument()?I.resolve(null):I.reject(new J(M.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=C.sent(),T=Da(E,"Failed to get document '"+_+" from cache"),I.reject(T),[3,3];case 3:return[2]}})})},[4,bk(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,g])]}})})}),g.promise}(s,r._key).then(function(l){return new ci(o,u,r._key,l,new Ho(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=rt(r,St);var o=rt(r.firestore,Kt);return qE(cn(o),r._key,{source:"server"}).then(function(s){return sv(o,r,s)})}(this._delegate):function(r){r=rt(r,St);var o=rt(r.firestore,Kt);return qE(cn(o),r._key).then(function(s){return sv(o,r,s)})}(this._delegate)).then(function(r){return new hc(n.firestore,new ci(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Zh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function _n(e,t,n){return e.message=e.message.replace(t,n),e}function Gk(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!ba(r))return r}return{}}function zk(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=ba(e[0])?e[0]:ba(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var hc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Yo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return Fk(this._delegate,t._delegate)},e}(),dc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(hc),ed=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Jh(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ni(this._delegate,function(o,s,u){var l=s,f=eh("where",o);return new tj(f,l,u)}(t,n,r)))}catch(o){throw _n(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ni(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=eh("orderBy",r);return new nj(u,s)}(t,n)))}catch(r){throw _n(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ni(this._delegate,function(n){return WE("limit",n),new JE("limit",n,"F")}(t)))}catch(n){throw _n(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ni(this._delegate,function(n){return WE("limitToLast",n),new JE("limitToLast",n,"L")}(t)))}catch(n){throw _n(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ni(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new ZE("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw _n(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ni(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new ZE("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw _n(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ni(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new eT("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw _n(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ni(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new eT("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw _n(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return kk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=rt(r,Zn);var o=rt(r.firestore,Kt),s=cn(o),u=new Xo(o);return function(l,f){var p=this,g=new Un;return l.asyncQueue.enqueueAndForget(function(){return z(p,void 0,void 0,function(){var h;return G(this,function(m){switch(m.label){case 0:return h=function(y,_,I){return z(this,void 0,void 0,function(){var E,T,C,P,L;return G(this,function(X){switch(X.label){case 0:return X.trys.push([0,2,,3]),[4,Xf(y,_,!0)];case 1:return L=X.sent(),E=new dk(_,L.Bn),T=E._o(L.documents),C=E.applyChanges(T,!1),I.resolve(C.snapshot),[3,3];case 2:return P=X.sent(),L=Da(P,"Failed to execute query '"+_+" against cache"),I.reject(L),[3,3];case 3:return[2]}})})},[4,bk(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,g])]}})})}),g.promise}(s,r._query).then(function(l){return new Ui(o,u,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=rt(r,Zn);var o=rt(r.firestore,Kt),s=cn(o),u=new Xo(o);return $E(s,r._query,{source:"server"}).then(function(l){return new Ui(o,u,r,l)})}(this._delegate):function(r){r=rt(r,Zn);var o=rt(r.firestore,Kt),s=cn(o),u=new Xo(o);return Vk(r._query),$E(s,r._query).then(function(l){return new Ui(o,u,r,l)})}(this._delegate)).then(function(r){return new av(n.firestore,new Ui(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=Gk(n),s=zk(n,function(u){return new av(t.firestore,new Ui(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return Bk(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Zh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),uj=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new dc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),av=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new ed(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new dc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new uj(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new dc(r._firestore,o))})},e.prototype.isEqual=function(t){return Fk(this._delegate,t._delegate)},e}(),th=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Yo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Yo(this.firestore,n===void 0?bf(this._delegate):bf(this._delegate,n))}catch(r){throw _n(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=rt(o.firestore,Kt),l=bf(o),f=Qh(o.converter,s);return Uc(u,[Yh(ds(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,fn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Yo(r.firestore,o)})},t.prototype.isEqual=function(n){return Ak(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Zh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(ed);function Ko(e){return rt(e,St)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cj=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Kr.bind.apply(Kr,wt([void 0],t)))}return e.documentId=function(){return new e(Cr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ct(t))instanceof Kr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),lj=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new WU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Qy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new XU("arrayUnion",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new YU("arrayRemove",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new QU("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),fj={Firestore:$k,GeoPoint:Xh,Timestamp:Mn,Blob:qk,Transaction:Hk,WriteBatch:Kk,DocumentReference:Yo,DocumentSnapshot:hc,Query:ed,QueryDocumentSnapshot:dc,QuerySnapshot:av,CollectionReference:th,FieldPath:cj,FieldValue:lj,setLogLevel:aj,CACHE_SIZE_UNLIMITED:HU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(e){(function(t,n){t.INTERNAL.registerComponent(new wc("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},fj)))})(e,function(t,n){return new $k(t,new Kt(t,n),new sj)}),e.registerVersion("@firebase/firestore","2.4.1")}hj(xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wk="firebasestorage.googleapis.com",Xk="storageBucket",dj=2*60*1e3,pj=10*60*1e3,jt=function(e){Te(t,e);function t(n,r){var o=e.call(this,ug(n),"Firebase Storage: "+r+" ("+ug(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return ug(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(JS);function ug(e){return"storage/"+e}function r_(){var e="An unknown error occurred, please check the error payload for server response.";return new jt("unknown",e)}function mj(e){return new jt("object-not-found","Object '"+e+"' does not exist.")}function gj(e){return new jt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vj(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new jt("unauthenticated",e)}function yj(){return new jt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function _j(e){return new jt("unauthorized","User does not have permission to access '"+e+"'.")}function wj(){return new jt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Yk(){return new jt("canceled","User canceled the upload/download.")}function bj(e){return new jt("invalid-url","Invalid URL '"+e+"'.")}function Ij(e){return new jt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function Ej(){return new jt("no-default-bucket","No default bucket found. Did you set the '"+Xk+"' property when initializing the app?")}function Qk(){return new jt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Tj(){return new jt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Sj(){return new jt("no-download-url","The given file does not have any download URLs.")}function ea(e){return new jt("invalid-argument",e)}function Jk(){return new jt("app-deleted","The Firebase app was deleted.")}function Zk(e){return new jt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ju(e,t){return new jt("invalid-format","String does not match format '"+e+"': "+t)}function sf(e){throw new jt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},cg=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function ex(e,t){switch(e){case ar.RAW:return new cg(tx(t));case ar.BASE64:case ar.BASE64URL:return new cg(nx(e,t));case ar.DATA_URL:return new cg(xj(t),Cj(t))}throw r_()}function tx(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function kj(e){var t;try{t=decodeURIComponent(e)}catch{throw ju(ar.DATA_URL,"Malformed data URL.")}return tx(t)}function nx(e,t){switch(e){case ar.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw ju(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case ar.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw ju(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=Aj(t)}catch{throw ju(e,"Invalid character found")}for(var f=new Uint8Array(l.length),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);return f}var rx=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw ju(ar.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=Nj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function xj(e){var t=new rx(e);return t.base64?nx(ar.BASE64,t.rest):kj(t.rest)}function Cj(e){var t=new rx(e);return t.contentType}function Nj(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oj={STATE_CHANGED:"state_changed"},wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function lg(e){switch(e){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;case"error":return wn.ERROR;default:return wn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Qo||(Qo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Qo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Qo.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Qo.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw sf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw sf("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw sf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw sf("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function Pj(){return new Rj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dj=function(){function e(){}return e.prototype.createConnection=function(){return Pj()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw Ij(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}var u="(/(.*))?$",l=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}for(var g="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+g+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},I=n===Wk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",T=new RegExp("^https?://"+I+"/"+o+"/"+E,"i"),C={bucket:1,path:2},P=[{regex:l,indices:f,postModify:s},{regex:y,indices:_,postModify:p},{regex:T,indices:C,postModify:p}],L=0;L<P.length;L++){var X=P[L],U=X.regex.exec(t);if(U){var ue=U[X.indices.bucket],V=U[X.indices.path];V||(V=""),r=new e(ue,V),X.postModify(r);break}}if(r==null)throw bj(t);return r},e}(),Lj=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(e,t,n){var r=1,o=null,s=!1,u=0;function l(){return u===2}var f=!1;function p(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];f||(f=!0,t.apply(null,_))}function g(_){o=setTimeout(function(){o=null,e(h,l())},_)}function h(_){for(var I=[],E=1;E<arguments.length;E++)I[E-1]=arguments[E];if(!f){if(_){p.call.apply(p,wt([null,_],I));return}var T=l()||s;if(T){p.call.apply(p,wt([null,_],I));return}r<64&&(r*=2);var C;u===1?(u=2,C=0):C=(r+Math.random())*1e3,g(C)}}var m=!1;function y(_){m||(m=!0,!f&&(o!==null?(_||(u=2),clearTimeout(o),g(0)):_||(u=1)))}return g(0),setTimeout(function(){s=!0,y(!0)},n),y}function Fj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(e){return e!==void 0}function Uj(e){return typeof e=="function"}function jj(e){return typeof e=="object"&&!Array.isArray(e)}function td(e){return typeof e=="string"||e instanceof String}function aT(e){return i_()&&e instanceof Blob}function i_(){return typeof Blob<"u"}function uv(e,t,n,r){if(r<t)throw ea("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw ea("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function ix(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bj=function(){function e(t,n,r,o,s,u,l,f,p,g,h){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=g,this.timeout_=p,this.pool_=h,this.promise_=new Promise(function(y,_){m.resolve_=y,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new af(!1,null,!0));return}var u=t.pool_.createConnection();t.pendingConnection_=u;function l(f){var p=f.loaded,g=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(p,g)}t.progressCallback_!==null&&u.addUploadProgressListener(l),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&u.removeUploadProgressListener(l),t.pendingConnection_=null;var f=u.getErrorCode()===Qo.NO_ERROR,p=u.getStatus();if(!f||t.isRetryStatusCode_(p)){var g=u.getErrorCode()===Qo.ABORT;o(!1,new af(!1,null,g));return}var h=t.successCodes_.indexOf(p)!==-1;o(!0,new af(h,u))})}function r(o,s){var u=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var p=t.callback_(f,f.getResponseText());Vj(p)?u(p):u()}catch(h){l(h)}else if(f!==null){var g=r_();g.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,g)):l(g)}else if(s.canceled){var g=t.appDelete_?Jk():Yk();l(g)}else{var g=wj();l(g)}}this.canceled_?r(!1,new af(!1,null,!0)):this.backoffId_=Mj(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Fj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),af=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function qj(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function $j(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Hj(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Kj(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Gj(e,t,n,r,o,s){var u=ix(e.urlParams),l=e.url+u,f=Object.assign({},e.headers);return Hj(f,t),qj(f,n),$j(f,s),Kj(f,r),new Bj(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Wj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=zj();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(i_())return new Blob(e);throw new jt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Xj(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o_=function(){function e(t,n){var r=0,o="";aT(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(aT(this.data_)){var r=this.data_,o=Xj(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(i_()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(Wj.apply(null,r))}else{var o=t.map(function(f){return td(f)?ex(ar.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),l=0;return o.forEach(function(f){for(var p=0;p<f.length;p++)u[l++]=f[p]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(e){var t;try{t=JSON.parse(e)}catch{return null}return jj(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function Qj(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function ox(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(e,t){return t}var vn=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||Jj}return e}(),uf=null;function Zj(e){return!td(e)||e.length<2?e:ox(e)}function nd(){if(uf)return uf;var e=[];e.push(new vn("bucket")),e.push(new vn("generation")),e.push(new vn("metageneration")),e.push(new vn("name","fullPath",!0));function t(s,u){return Zj(u)}var n=new vn("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var o=new vn("size");return o.xform=r,e.push(o),e.push(new vn("timeCreated")),e.push(new vn("updated")),e.push(new vn("md5Hash",null,!0)),e.push(new vn("cacheControl",null,!0)),e.push(new vn("contentDisposition",null,!0)),e.push(new vn("contentEncoding",null,!0)),e.push(new vn("contentLanguage",null,!0)),e.push(new vn("contentType",null,!0)),e.push(new vn("metadata","customMetadata",!0)),uf=e,uf}function e2(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new ur(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function t2(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return e2(r,e),r}function sx(e,t,n){var r=s_(t);if(r===null)return null;var o=r;return t2(e,o,n)}function n2(e,t,n){var r=s_(t);if(r===null||!td(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),l=u.map(function(f){var p=e.bucket,g=e.fullPath,h="/b/"+s(p)+"/o/"+s(g),m=ao(h,n),y=ix({alt:"media",token:f});return m+y});return l[0]}function a_(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uT="prefixes",cT="items";function r2(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[uT])for(var o=0,s=n[uT];o<s.length;o++){var u=s[o],l=u.replace(/\/$/,""),f=e._makeStorageReference(new ur(t,l));r.prefixes.push(f)}if(n[cT])for(var p=0,g=n[cT];p<g.length;p++){var h=g[p],f=e._makeStorageReference(new ur(t,h.name));r.items.push(f)}return r}function i2(e,t,n){var r=s_(n);if(r===null)return null;var o=r;return r2(e,t,o)}var gi=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(e){if(!e)throw r_()}function rd(e,t){function n(r,o){var s=sx(e,o,t);return Gr(s!==null),s}return n}function o2(e,t){function n(r,o){var s=i2(e,t,o);return Gr(s!==null),s}return n}function s2(e,t){function n(r,o){var s=sx(e,o,t);return Gr(s!==null),n2(s,o,e.host)}return n}function La(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=yj():o=vj():n.getStatus()===402?o=gj(e.bucket):n.getStatus()===403?o=_j(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function id(e){var t=La(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=mj(e.path)),s.serverResponse=o.serverResponse,s}return n}function ax(e,t,n){var r=t.fullServerUrl(),o=ao(r,e.host),s="GET",u=e.maxOperationRetryTime,l=new gi(o,s,rd(e,n),u);return l.errorHandler=id(t),l}function a2(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),l=ao(u,e.host),f="GET",p=e.maxOperationRetryTime,g=new gi(l,f,o2(e,t.bucket),p);return g.urlParams=s,g.errorHandler=La(t),g}function u2(e,t,n){var r=t.fullServerUrl(),o=ao(r,e.host),s="GET",u=e.maxOperationRetryTime,l=new gi(o,s,s2(e,n),u);return l.errorHandler=id(t),l}function c2(e,t,n,r){var o=t.fullServerUrl(),s=ao(o,e.host),u="PATCH",l=a_(n,r),f={"Content-Type":"application/json; charset=utf-8"},p=e.maxOperationRetryTime,g=new gi(s,u,rd(e,r),p);return g.headers=f,g.body=l,g.errorHandler=id(t),g}function l2(e,t){var n=t.fullServerUrl(),r=ao(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,p){}var l=new gi(r,o,u,s);return l.successCodes=[200,204],l.errorHandler=id(t),l}function f2(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function ux(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=f2(null,t)),r}function h2(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var P="",L=0;L<2;L++)P=P+Math.random().toString().slice(2);return P}var f=l();u["Content-Type"]="multipart/related; boundary="+f;var p=ux(t,r,o),g=a_(p,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,m=`\r
--`+f+"--",y=o_.getBlob(h,r,m);if(y===null)throw Qk();var _={name:p.fullPath},I=ao(s,e.host),E="POST",T=e.maxUploadRetryTime,C=new gi(I,E,rd(e,n),T);return C.urlParams=_,C.headers=u,C.body=y.uploadData(),C.errorHandler=La(t),C}var nh=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function u_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Gr(!1)}var r=t||["active"];return Gr(!!n&&r.indexOf(n)!==-1),n}function d2(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u=ux(t,r,o),l={name:u.fullPath},f=ao(s,e.host),p="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=a_(u,n),m=e.maxUploadRetryTime;function y(I){u_(I);var E;try{E=I.getResponseHeader("X-Goog-Upload-URL")}catch{Gr(!1)}return Gr(td(E)),E}var _=new gi(f,p,y,m);return _.urlParams=l,_.headers=g,_.body=h,_.errorHandler=La(t),_}function p2(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(p){var g=u_(p,["active","final"]),h=null;try{h=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Gr(!1)}h||Gr(!1);var m=Number(h);return Gr(!isNaN(m)),new nh(m,r.size(),g==="final")}var u="POST",l=e.maxUploadRetryTime,f=new gi(n,u,s,l);return f.headers=o,f.errorHandler=La(t),f}var lT=256*1024;function m2(e,t,n,r,o,s,u,l){var f=new nh(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw Tj();var p=f.total-f.current,g=p;o>0&&(g=Math.min(g,o));var h=f.current,m=h+g,y=g===p?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},I=r.slice(h,m);if(I===null)throw Qk();function E(L,X){var U=u_(L,["active","final"]),ue=f.current+g,V=r.size(),H;return U==="final"?H=rd(t,s)(L,X):H=null,new nh(ue,V,U==="final",H)}var T="POST",C=t.maxUploadRetryTime,P=new gi(n,T,E,C);return P.headers=_,P.body=I.uploadData(),P.progressCallback=l||null,P.errorHandler=La(e),P}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g2=function(){function e(t,n,r){var o=Uj(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cx=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=nd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=d2(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._uploadUrl=u,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=p2(t._ref.storage,t._ref._location,n,t._blob),u=t._ref.storage._makeRequest(s,r,o);t._request=u,u.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=lT*this._chunkMultiplier,r=new nh(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var l;try{l=m2(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(p){t._error=p,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,u);t._request=f,f.getPromise().then(function(p){t._increaseMultiplier(),t._request=void 0,t._updateProgress(p.current),p.finalized?(t._metadata=p.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=lT*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=ax(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=h2(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Yk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=lg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,u=new g2(n,r,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(lg(this._state)){case wn.SUCCESS:qs(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:var n=this._reject;qs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=lg(this._state);switch(n){case wn.RUNNING:case wn.PAUSED:t.next&&qs(t.next.bind(t,this.snapshot))();break;case wn.SUCCESS:t.complete&&qs(t.complete.bind(t))();break;case wn.CANCELED:case wn.ERROR:t.error&&qs(t.error.bind(t,this._error))();break;default:t.error&&qs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var od=function(){function e(t,n){this._service=t,n instanceof ur?this._location=n:this._location=ur.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new ur(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return ox(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Yj(this._location.path);if(t===null)return null;var n=new ur(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Zk(t)},e}();function v2(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new cx(e,new o_(t),n)}function y2(e){var t={prefixes:[],items:[]};return lx(e,t).then(function(){return t})}function lx(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u;return G(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,fx(e,r)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,lx(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function fx(e,t){return z(this,void 0,void 0,function(){var n,r;return G(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&uv("options.maxResults",1,1e3,t.maxResults),n=t||{},r=a2(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function _2(e){return z(this,void 0,void 0,function(){var t;return G(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=ax(e.storage,e._location,nd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function w2(e,t){return z(this,void 0,void 0,function(){var n;return G(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=c2(e.storage,e._location,t,nd()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function b2(e){return z(this,void 0,void 0,function(){var t;return G(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=u2(e.storage,e._location,nd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw Sj();return r})]}})})}function I2(e){return z(this,void 0,void 0,function(){var t;return G(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=l2(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function hx(e,t){var n=Qj(e._location.path,t),r=new ur(e._location.bucket,n);return new od(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(e){return/^[A-Za-z]+:\/\//.test(e)}function E2(e,t){return new od(e,t)}function dx(e,t){if(e instanceof sd){var n=e;if(n._bucket==null)throw Ej();var r=new od(n,n._bucket);return t!=null?dx(r,t):r}else return t!==void 0?hx(e,t):e}function T2(e,t){if(t&&cv(t)){if(e instanceof sd)return E2(e,t);throw ea("To use ref(service, url), the first argument must be a Storage instance.")}else return dx(e,t)}function fT(e,t){var n=t==null?void 0:t[Xk];return n==null?null:ur.makeFromBucketSpec(n,e)}function S2(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:YS(o,e.app.options.projectId))}var sd=function(){function e(t,n,r,o,s,u){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=Wk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dj,this._maxUploadRetryTime=pj,this._requests=new Set,s!=null?this._bucket=ur.makeFromBucketSpec(s,this._host):this._bucket=fT(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=ur.makeFromBucketSpec(this._url,t):this._bucket=fT(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){uv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){uv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return z(this,void 0,void 0,function(){var t,n;return G(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return z(this,void 0,void 0,function(){var t,n;return G(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new od(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new Lj(Jk());var s=Gj(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return z(this,void 0,void 0,function(){var n,r,o;return G(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(e,t,n){return e=ct(e),v2(e,t,n)}function k2(e){return e=ct(e),_2(e)}function x2(e,t){return e=ct(e),w2(e,t)}function C2(e,t){return e=ct(e),fx(e,t)}function N2(e){return e=ct(e),y2(e)}function O2(e){return e=ct(e),b2(e)}function R2(e){return e=ct(e),I2(e)}function hT(e,t){return e=ct(e),T2(e,t)}function P2(e,t){return hx(e,t)}function D2(e,t,n,r){r===void 0&&(r={}),S2(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cf=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dT=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new cf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new cf(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(l){return n(new cf(l,s,s._ref))}:u={next:n.next?function(l){return n.next(new cf(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)},e}(),pT=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new pc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new pc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=P2(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new dT(A2(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=ar.RAW),this._throwIfRoot("putString");var o=ex(n,t),s=ra({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new dT(new cx(this._delegate,new o_(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return N2(this._delegate).then(function(n){return new pT(n,t.storage)})},e.prototype.list=function(t){var n=this;return C2(this._delegate,t||void 0).then(function(r){return new pT(r,n.storage)})},e.prototype.getMetadata=function(){return k2(this._delegate)},e.prototype.updateMetadata=function(t){return x2(this._delegate,t)},e.prototype.getDownloadURL=function(){return O2(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),R2(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Zk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L2=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(cv(t))throw ea("ref() expected a child path but got a URL, use refFromURL instead.");return new pc(hT(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!cv(t))throw ea("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ur.makeFromUrl(t,this._delegate.host)}catch{throw ea("refFromUrl() expected a valid full URL but got an invalid one.")}return new pc(hT(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),D2(this._delegate,t,n,r)},e}(),M2="@firebase/storage",F2="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V2="storage";function U2(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),u=new L2(r,new sd(r,o,s,new Dj,n,xe.SDK_VERSION));return u}function j2(e){var t={TaskState:wn,TaskEvent:Oj,StringFormat:ar,Storage:sd,Reference:pc};e.INTERNAL.registerComponent(new wc(V2,U2,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(M2,F2)}j2(xe);const B2={apiKey:"AIzaSyCtnXAlW36x8hZvJ8T2lP8Hep1-Kq66sJw",authDomain:"music-84262.firebaseapp.com",projectId:"music-84262",storageBucket:"music-84262.appspot.com",appId:"1:577832410296:web:4d0530527445585d20a84d"};xe.initializeApp(B2);const fr=xe.auth(),jc=xe.firestore(),q2=jc.collection("users"),zr=jc.collection("songs"),mT=jc.collection("comments"),$2=jc.collection("images"),H2=jc.collection("staticImages"),lv=xe.storage(),Ma=$v("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await fr.createUserWithEmailAndPassword(e.email,e.password);await q2.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await fr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await fr.signOut(),this.userLoggedIn=!1}}}),eo={formatTime(e){const t=Math.floor(e/60)||0,n=Math.floor(e-t*60)||0;return`${t}:${n<10?"0":""}${n}`},formatDate(e){const t=e.split(" ");return`${t[1]} ${t[2]} ${t[3]}  -  ${t[4]}`},async getStaticImage(e){const t=await H2.where("name","==",e).get();let n=[];return t.forEach(r=>{n.push({...r.data()})}),n[0].url}},tr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},K2={name:"AppHeader",data(){return{logoAddress:""}},computed:{...EL(Rg,Ma)},async created(){this.logoAddress=await eo.getStaticImage("logo.png")},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen},signOut(){this.userStore.signOut(),this.$route.name==="manage"&&this.$router.push({name:"home"})}}},G2={id:"header",class:"bg-gray-700 border-t"},z2={class:"container mx-auto flex justify-start items-center py-2 px-4"},W2=["src"],X2=D("span",null,[Er("Music"),D("span",{class:"text-violet-300"},"Land")],-1),Y2={class:"flex flex-grow items-center"},Q2={class:"flex flex-row mt-1 text-white"},J2={key:0},Z2=D("i",{class:"fa fa-user mr-1"},null,-1),eB=D("i",{class:"fa fa-user mr-1"},null,-1);function tB(e,t,n,r,o,s){const u=It("router-link");return qe(),tt("header",G2,[D("nav",z2,[Ce(u,{class:"text-white text-2xl mr-8 font-medium ease-in duration-300 font-mono text-3xl hover:font-bold hover:text-white","exact-active-class":"no-active",to:{name:"home"}},{default:Ln(()=>[D("img",{src:o.logoAddress,class:"inline w-20"},null,8,W2),X2]),_:1}),D("div",Y2,[D("ul",Q2,[D("li",null,[Ce(u,{class:"px-2 mx-2 hover:text-violet-200",to:{name:"about"}},{default:Ln(()=>[Er("About")]),_:1})]),e.userStore.userLoggedIn?(qe(),tt(en,{key:1},[D("li",null,[Ce(u,{class:"px-2 mx-2 hover:text-violet-200",to:{name:"manage"}},{default:Ln(()=>[Er("Manage")]),_:1})]),D("li",null,[D("a",{class:"px-2 hover:text-violet-200",href:"#",onClick:t[1]||(t[1]=$t((...l)=>s.signOut&&s.signOut(...l),["prevent"]))},[eB,Er("Logout ")])])],64)):(qe(),tt("li",J2,[D("a",{class:"px-2 hover:text-violet-200",href:"#",onClick:t[0]||(t[0]=$t((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},[Z2,Er("Login / Register ")])]))])])])])}const nB=tr(K2,[["render",tB]]),rB={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_text:"Please wait! We are logging you in.",login_in_submission:!1}},methods:{...Sh(Ma,["authenticate"]),async login(e){this.login_show_alert=!0,this.login_in_submission=!0,this.login_alert_variant="bg-blue-500",this.login_alert_text="Please wait! We are logging you in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_text="Invalid login"}this.login_alert_variant="bg-green-500",this.login_alert_text="Success! You are logged in",window.location.reload()}}},iB={class:"mb-3"},oB=D("label",{class:"inline-block mb-2"},"Email",-1),sB={class:"mb-3"},aB=D("label",{class:"inline-block mb-2"},"Password",-1),uB=["disabled"];function cB(e,t,n,r,o,s){const u=It("vee-field"),l=It("ErrorMessage"),f=It("vee-form");return qe(),tt("div",null,[o.login_show_alert?(qe(),tt("div",{key:0,class:Xt(["text-white text-center font-bold rounded p-4 mb-4",o.login_alert_variant])},Mt(o.login_alert_text),3)):Qi("",!0),Ce(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:Ln(()=>[D("div",iB,[oB,Ce(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ce(l,{class:"text-red-500",name:"email"})]),D("div",sB,[aB,Ce(u,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Ce(l,{class:"text-red-500",name:"password"})]),D("button",{type:"submit",class:"block w-full bg-green-600 text-white py-1.5 px-3 rounded transition hover:bg-green-700",disabled:o.login_in_submission},"Submit",8,uB)]),_:1},8,["validation-schema","onSubmit"])])}const lB=tr(rB,[["render",cB]]),fB={name:"RegisterForm",data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},userData:{country:"USA"},reg_alert_variant:"bg-blue-500",reg_in_submission:!1,reg_show_alert:!1,reg_alert_text:"Please wait! Your account is being created."}},methods:{...Sh(Ma,{createUser:"register"}),async register(e){this.reg_in_submission=!0,this.reg_show_alert=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_text="Please wait! Your account is being created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_text="An unexpected error occured. Please try later2.",this.reg_alert_variant="bg-red-500";return}this.reg_alert_variant="bg-green-500",this.reg_alert_text="Success! Your account created.",window.location.reload()}}},hB={class:"mb-3"},dB=D("label",{class:"inline-block mb-2"},"Name",-1),pB={class:"mb-3"},mB=D("label",{class:"inline-block mb-2"},"Email",-1),gB={class:"mb-3"},vB=D("label",{class:"inline-block mb-2"},"Age",-1),yB={class:"mb-3"},_B=D("label",{class:"inline-block mb-2"},"Password",-1),wB={class:"mb-3"},bB=D("label",{class:"inline-block mb-2"},"Confirm Password",-1),IB={class:"mb-3"},EB=D("label",{class:"inline-block mb-2"},"Country",-1),TB=D("option",{value:"USA"},"USA",-1),SB=D("option",{value:"Mexico"},"Mexico",-1),AB=D("option",{value:"Germany"},"Germany",-1),kB=D("option",{value:"Antarctica"},"Antarctica",-1),xB={class:"mb-3 pl-6"},CB=D("label",{class:"inline-block"},"Accept terms of service",-1),NB=["disabled"];function OB(e,t,n,r,o,s){const u=It("vee-field"),l=It("ErrorMessage"),f=It("vee-form");return qe(),tt("div",null,[o.reg_show_alert?(qe(),tt("div",{key:0,class:Xt(["text-white text-center font-bold rounded p-4 mb-4",o.reg_alert_variant])},Mt(o.reg_alert_text),3)):Qi("",!0),Ce(f,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:Ln(()=>[D("div",hB,[dB,Ce(u,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Ce(l,{class:"text-red-500",name:"name"})]),D("div",pB,[mB,Ce(u,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ce(l,{class:"text-red-500",name:"email"})]),D("div",gB,[vB,Ce(u,{type:"number",name:"age",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Ce(l,{class:"text-red-500",name:"age"})]),D("div",yB,[_B,Ce(u,{name:"password",bails:!1},{default:Ln(({field:p,errors:g})=>[D("input",US({type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},p),null,16),(qe(!0),tt(en,null,yc(g,h=>(qe(),tt("div",{class:"text-red-500",key:h},Mt(h),1))),128))]),_:1})]),D("div",wB,[bB,Ce(u,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Ce(l,{class:"text-red-500",name:"confirm_password"})]),D("div",IB,[EB,Ce(u,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Ln(()=>[TB,SB,AB,kB]),_:1}),Ce(l,{class:"text-red-500",name:"country"})]),D("div",xB,[Ce(u,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),CB,Ce(l,{class:"text-red-500 block",name:"tos"})]),D("button",{type:"submit",class:"block w-full bg-green-600 text-white py-1.5 px-3 rounded transition hover:bg-green-700",disabled:o.reg_in_submission},"Submit",8,NB)]),_:1},8,["validation-schema","onSubmit","initial-values"])])}const RB=tr(fB,[["render",OB]]),PB={name:"Auth",components:{AppLoginForm:lB,AppRegisterForm:RB},data(){return{tab:"login"}},computed:{...Th(Rg,["hiddenClass"]),...WS(Rg,{modalVisibility:"isOpen"})}},DB={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},LB=D("div",{class:"fixed inset-0 transition-opacity"},[D("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),MB=D("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),FB={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},VB={class:"py-4 text-left px-6"},UB={class:"flex justify-between items-center pb-4"},jB=D("p",{class:"text-2xl font-bold"},"Your Account",-1),BB=D("i",{class:"fas fa-times"},null,-1),qB=[BB],$B={class:"flex flex-wrap mb-4"},HB={class:"flex-auto text-center"},KB={class:"flex-auto text-center"};function GB(e,t,n,r,o,s){const u=It("app-login-form"),l=It("app-register-form");return qe(),tt("div",{class:Xt(["fixed z-50 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[D("div",DB,[LB,MB,D("div",FB,[D("div",VB,[D("div",UB,[jB,D("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},qB)]),D("ul",$B,[D("li",HB,[D("a",{class:Xt(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-violet-600":o.tab=="login","hover:text-violet-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=$t(f=>o.tab="login",["prevent"]))},"Login",2)]),D("li",KB,[D("a",{class:Xt(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-violet-600":o.tab=="register","hover:text-violet-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=$t(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(qe(),Xi(u,{key:0})):(qe(),Xi(l,{key:1}))])])])],2)}const zB=tr(PB,[["render",GB]]);var Eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},If={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var m=this||n;if(h=parseFloat(h),m.ctx||g(),typeof h<"u"&&h>=0&&h<=1){if(m._volume=h,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),I=0;I<_.length;I++){var E=m._howls[y]._soundById(_[I]);E&&E._node&&(E._node.volume=E._volume*h)}return m}return m._volume},mute:function(h){var m=this||n;m.ctx||g(),m._muted=h,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h?0:m._volume,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),I=0;I<_.length;I++){var E=m._howls[y]._soundById(_[I]);E&&E._node&&(E._node.muted=h?!0:E._muted)}return m},stop:function(){for(var h=this||n,m=0;m<h._howls.length;m++)h._howls[m].stop();return h},unload:function(){for(var h=this||n,m=h._howls.length-1;m>=0;m--)h._howls[m].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,g()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var m=new Audio;m.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return h}if(!m||typeof m.canPlayType!="function")return h;var y=m.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",I=_.match(/OPR\/([0-6].)/g),E=I&&parseInt(I[0].split("/")[1],10)<33,T=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,C=_.match(/Version\/(.*?) /),P=T&&C&&parseInt(C[1],10)<15;return h._codecs={mp3:!!(!E&&(y||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!P&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!P&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var m=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var I=0;I<h._howls.length;I++)if(!h._howls[I]._webAudio)for(var E=h._howls[I]._getSoundIds(),T=0;T<E.length;T++){var C=h._howls[I]._soundById(E[T]);C&&C._node&&!C._node._unlocked&&(C._node._unlocked=!0,C._node.load())}h._autoResume();var P=h.ctx.createBufferSource();P.buffer=h._scratchBuffer,P.connect(h.ctx.destination),typeof P.start>"u"?P.noteOn(0):P.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),P.onended=function(){P.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var L=0;L<h._howls.length;L++)h._howls[L]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var m=this||n;return h._unlocked&&m._html5AudioPool.push(h),m},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<h._howls.length;m++)if(h._howls[m]._webAudio){for(var y=0;y<h._howls[m]._sounds.length;y++)if(!h._howls[m]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var m=0;m<h._howls.length;m++)h._howls[m]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var m=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(h)};r.prototype={init:function(h){var m=this;return n.ctx||g(),m._autoplay=h.autoplay||!1,m._format=typeof h.format!="string"?h.format:[h.format],m._html5=h.html5||!1,m._muted=h.mute||!1,m._loop=h.loop||!1,m._pool=h.pool||5,m._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,m._rate=h.rate||1,m._sprite=h.sprite||{},m._src=typeof h.src!="string"?h.src:[h.src],m._volume=h.volume!==void 0?h.volume:1,m._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=h.onend?[{fn:h.onend}]:[],m._onfade=h.onfade?[{fn:h.onfade}]:[],m._onload=h.onload?[{fn:h.onload}]:[],m._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],m._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],m._onpause=h.onpause?[{fn:h.onpause}]:[],m._onplay=h.onplay?[{fn:h.onplay}]:[],m._onstop=h.onstop?[{fn:h.onstop}]:[],m._onmute=h.onmute?[{fn:h.onmute}]:[],m._onvolume=h.onvolume?[{fn:h.onvolume}]:[],m._onrate=h.onrate?[{fn:h.onrate}]:[],m._onseek=h.onseek?[{fn:h.onseek}]:[],m._onunlock=h.onunlock?[{fn:h.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var h=this,m=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var _,I;if(h._format&&h._format[y])_=h._format[y];else{if(I=h._src[y],typeof I!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(I),_||(_=/\.([^.]+)$/.exec(I.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){m=h._src[y];break}}if(!m){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=m,h._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&u(h),h},play:function(h,m){var y=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var I=0,E=0;E<y._sounds.length;E++)y._sounds[E]._paused&&!y._sounds[E]._ended&&(I++,_=y._sounds[E]._id);I===1?h=null:_=null}}var T=_?y._soundById(_):y._inactiveSound();if(!T)return null;if(_&&!h&&(h=T._sprite||"__default"),y._state!=="loaded"){T._sprite=h,T._ended=!1;var C=T._id;return y._queue.push({event:"play",action:function(){y.play(C)}}),C}if(_&&!T._paused)return m||y._loadQueue("play"),T._id;y._webAudio&&n._autoResume();var P=Math.max(0,T._seek>0?T._seek:y._sprite[h][0]/1e3),L=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-P),X=L*1e3/Math.abs(T._rate),U=y._sprite[h][0]/1e3,ue=(y._sprite[h][0]+y._sprite[h][1])/1e3;T._sprite=h,T._ended=!1;var V=function(){T._paused=!1,T._seek=P,T._start=U,T._stop=ue,T._loop=!!(T._loop||y._sprite[h][2])};if(P>=ue){y._ended(T);return}var H=T._node;if(y._webAudio){var k=function(){y._playLock=!1,V(),y._refreshBuffer(T);var Fe=T._muted||y._muted?0:T._volume;H.gain.setValueAtTime(Fe,n.ctx.currentTime),T._playStart=n.ctx.currentTime,typeof H.bufferSource.start>"u"?T._loop?H.bufferSource.noteGrainOn(0,P,86400):H.bufferSource.noteGrainOn(0,P,L):T._loop?H.bufferSource.start(0,P,86400):H.bufferSource.start(0,P,L),X!==1/0&&(y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),X)),m||setTimeout(function(){y._emit("play",T._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?k():(y._playLock=!0,y.once("resume",k),y._clearTimer(T._id))}else{var Ne=function(){H.currentTime=P,H.muted=T._muted||y._muted||n._muted||H.muted,H.volume=T._volume*n.volume(),H.playbackRate=T._rate;try{var Fe=H.play();if(Fe&&typeof Promise<"u"&&(Fe instanceof Promise||typeof Fe.then=="function")?(y._playLock=!0,V(),Fe.then(function(){y._playLock=!1,H._unlocked=!0,m?y._loadQueue():y._emit("play",T._id)}).catch(function(){y._playLock=!1,y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),T._ended=!0,T._paused=!0})):m||(y._playLock=!1,V(),y._emit("play",T._id)),H.playbackRate=T._rate,H.paused){y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||T._loop?y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),X):(y._endTimers[T._id]=function(){y._ended(T),H.removeEventListener("ended",y._endTimers[T._id],!1)},H.addEventListener("ended",y._endTimers[T._id],!1))}catch(He){y._emit("playerror",T._id,He)}};H.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(H.src=y._src,H.load());var oe=window&&window.ejecta||!H.readyState&&n._navigator.isCocoonJS;if(H.readyState>=3||oe)Ne();else{y._playLock=!0,y._state="loading";var ke=function(){y._state="loaded",Ne(),H.removeEventListener(n._canPlayEvent,ke,!1)};H.addEventListener(n._canPlayEvent,ke,!1),y._clearTimer(T._id)}}return T._id},pause:function(h){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(h)}}),m;for(var y=m._getSoundIds(h),_=0;_<y.length;_++){m._clearTimer(y[_]);var I=m._soundById(y[_]);if(I&&!I._paused&&(I._seek=m.seek(y[_]),I._rateSeek=0,I._paused=!0,m._stopFade(y[_]),I._node))if(m._webAudio){if(!I._node.bufferSource)continue;typeof I._node.bufferSource.stop>"u"?I._node.bufferSource.noteOff(0):I._node.bufferSource.stop(0),m._cleanBuffer(I._node)}else(!isNaN(I._node.duration)||I._node.duration===1/0)&&I._node.pause();arguments[1]||m._emit("pause",I?I._id:null)}return m},stop:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var _=y._getSoundIds(h),I=0;I<_.length;I++){y._clearTimer(_[I]);var E=y._soundById(_[I]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,y._stopFade(_[I]),E._node&&(y._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),y._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&y._clearSound(E._node))),m||y._emit("stop",E._id))}return y},mute:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,m)}}),y;if(typeof m>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var _=y._getSoundIds(m),I=0;I<_.length;I++){var E=y._soundById(_[I]);E&&(E._muted=h,E._interval&&y._stopFade(E._id),y._webAudio&&E._node?E._node.gain.setValueAtTime(h?0:E._volume,n.ctx.currentTime):E._node&&(E._node.muted=n._muted?!0:h),y._emit("mute",E._id))}return y},volume:function(){var h=this,m=arguments,y,_;if(m.length===0)return h._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length>=2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var T;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,m)}}),h;typeof _>"u"&&(h._volume=y),_=h._getSoundIds(_);for(var C=0;C<_.length;C++)T=h._soundById(_[C]),T&&(T._volume=y,m[2]||h._stopFade(_[C]),h._webAudio&&T._node&&!T._muted?T._node.gain.setValueAtTime(y,n.ctx.currentTime):T._node&&!T._muted&&(T._node.volume=y*n.volume()),h._emit("volume",T._id))}else return T=_?h._soundById(_):h._sounds[0],T?T._volume:0;return h},fade:function(h,m,y,_){var I=this;if(I._state!=="loaded"||I._playLock)return I._queue.push({event:"fade",action:function(){I.fade(h,m,y,_)}}),I;h=Math.min(Math.max(0,parseFloat(h)),1),m=Math.min(Math.max(0,parseFloat(m)),1),y=parseFloat(y),I.volume(h,_);for(var E=I._getSoundIds(_),T=0;T<E.length;T++){var C=I._soundById(E[T]);if(C){if(_||I._stopFade(E[T]),I._webAudio&&!C._muted){var P=n.ctx.currentTime,L=P+y/1e3;C._volume=h,C._node.gain.setValueAtTime(h,P),C._node.gain.linearRampToValueAtTime(m,L)}I._startFadeInterval(C,h,m,y,E[T],typeof _>"u")}}return I},_startFadeInterval:function(h,m,y,_,I,E){var T=this,C=m,P=y-m,L=Math.abs(P/.01),X=Math.max(4,L>0?_/L:_),U=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var ue=(Date.now()-U)/_;U=Date.now(),C+=P*ue,C=Math.round(C*100)/100,P<0?C=Math.max(y,C):C=Math.min(y,C),T._webAudio?h._volume=C:T.volume(C,h._id,!0),E&&(T._volume=C),(y<m&&C<=y||y>m&&C>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,T.volume(y,h._id),T._emit("fade",h._id))},X)},_stopFade:function(h){var m=this,y=m._soundById(h);return y&&y._interval&&(m._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,m.volume(y._fadeTo,h),y._fadeTo=null,m._emit("fade",h)),m},loop:function(){var h=this,m=arguments,y,_,I;if(m.length===0)return h._loop;if(m.length===1)if(typeof m[0]=="boolean")y=m[0],h._loop=y;else return I=h._soundById(parseInt(m[0],10)),I?I._loop:!1;else m.length===2&&(y=m[0],_=parseInt(m[1],10));for(var E=h._getSoundIds(_),T=0;T<E.length;T++)I=h._soundById(E[T]),I&&(I._loop=y,h._webAudio&&I._node&&I._node.bufferSource&&(I._node.bufferSource.loop=y,y&&(I._node.bufferSource.loopStart=I._start||0,I._node.bufferSource.loopEnd=I._stop,h.playing(E[T])&&(h.pause(E[T],!0),h.play(E[T],!0)))));return h},rate:function(){var h=this,m=arguments,y,_;if(m.length===0)_=h._sounds[0]._id;else if(m.length===1){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var T;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,m)}}),h;typeof _>"u"&&(h._rate=y),_=h._getSoundIds(_);for(var C=0;C<_.length;C++)if(T=h._soundById(_[C]),T){h.playing(_[C])&&(T._rateSeek=h.seek(_[C]),T._playStart=h._webAudio?n.ctx.currentTime:T._playStart),T._rate=y,h._webAudio&&T._node&&T._node.bufferSource?T._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):T._node&&(T._node.playbackRate=y);var P=h.seek(_[C]),L=(h._sprite[T._sprite][0]+h._sprite[T._sprite][1])/1e3-P,X=L*1e3/Math.abs(T._rate);(h._endTimers[_[C]]||!T._paused)&&(h._clearTimer(_[C]),h._endTimers[_[C]]=setTimeout(h._ended.bind(h,T),X)),h._emit("rate",T._id)}}else return T=h._soundById(_),T?T._rate:h._rate;return h},seek:function(){var h=this,m=arguments,y,_;if(m.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(m.length===1){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):h._sounds.length&&(_=h._sounds[0]._id,y=parseFloat(m[0]))}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));if(typeof _>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,m)}}),h;var T=h._soundById(_);if(T)if(typeof y=="number"&&y>=0){var C=h.playing(_);C&&h.pause(_,!0),T._seek=y,T._ended=!1,h._clearTimer(_),!h._webAudio&&T._node&&!isNaN(T._node.duration)&&(T._node.currentTime=y);var P=function(){C&&h.play(_,!0),h._emit("seek",_)};if(C&&!h._webAudio){var L=function(){h._playLock?setTimeout(L,0):P()};setTimeout(L,0)}else P()}else if(h._webAudio){var X=h.playing(_)?n.ctx.currentTime-T._playStart:0,U=T._rateSeek?T._rateSeek-T._seek:0;return T._seek+(U+X*Math.abs(T._rate))}else return T._node.currentTime;return h},playing:function(h){var m=this;if(typeof h=="number"){var y=m._soundById(h);return y?!y._paused:!1}for(var _=0;_<m._sounds.length;_++)if(!m._sounds[_]._paused)return!0;return!1},duration:function(h){var m=this,y=m._duration,_=m._soundById(h);return _&&(y=m._sprite[_._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,m=h._sounds,y=0;y<m.length;y++)m[y]._paused||h.stop(m[y]._id),h._webAudio||(h._clearSound(m[y]._node),m[y]._node.removeEventListener("error",m[y]._errorFn,!1),m[y]._node.removeEventListener(n._canPlayEvent,m[y]._loadFn,!1),m[y]._node.removeEventListener("ended",m[y]._endFn,!1),n._releaseHtml5Audio(m[y]._node)),delete m[y]._node,h._clearTimer(m[y]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var I=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){I=!1;break}return s&&I&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,m,y,_){var I=this,E=I["_on"+h];return typeof m=="function"&&E.push(_?{id:y,fn:m,once:_}:{id:y,fn:m}),I},off:function(h,m,y){var _=this,I=_["_on"+h],E=0;if(typeof m=="number"&&(y=m,m=null),m||y)for(E=0;E<I.length;E++){var T=y===I[E].id;if(m===I[E].fn&&T||!m&&T){I.splice(E,1);break}}else if(h)_["_on"+h]=[];else{var C=Object.keys(_);for(E=0;E<C.length;E++)C[E].indexOf("_on")===0&&Array.isArray(_[C[E]])&&(_[C[E]]=[])}return _},once:function(h,m,y){var _=this;return _.on(h,m,y,1),_},_emit:function(h,m,y){for(var _=this,I=_["_on"+h],E=I.length-1;E>=0;E--)(!I[E].id||I[E].id===m||h==="load")&&(setTimeout((function(T){T.call(this,m,y)}).bind(_,I[E].fn),0),I[E].once&&_.off(h,I[E].fn,I[E].id));return _._loadQueue(h),_},_loadQueue:function(h){var m=this;if(m._queue.length>0){var y=m._queue[0];y.event===h&&(m._queue.shift(),m._loadQueue()),h||y.action()}return m},_ended:function(h){var m=this,y=h._sprite;if(!m._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(m._ended.bind(m,h),100),m;var _=!!(h._loop||m._sprite[y][2]);if(m._emit("end",h._id),!m._webAudio&&_&&m.stop(h._id,!0).play(h._id),m._webAudio&&_){m._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var I=(h._stop-h._start)*1e3/Math.abs(h._rate);m._endTimers[h._id]=setTimeout(m._ended.bind(m,h),I)}return m._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,m._clearTimer(h._id),m._cleanBuffer(h._node),n._autoSuspend()),!m._webAudio&&!_&&m.stop(h._id,!0),m},_clearTimer:function(h){var m=this;if(m._endTimers[h]){if(typeof m._endTimers[h]!="function")clearTimeout(m._endTimers[h]);else{var y=m._soundById(h);y&&y._node&&y._node.removeEventListener("ended",m._endTimers[h],!1)}delete m._endTimers[h]}return m},_soundById:function(h){for(var m=this,y=0;y<m._sounds.length;y++)if(h===m._sounds[y]._id)return m._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var m=0;m<h._sounds.length;m++)if(h._sounds[m]._ended)return h._sounds[m].reset();return new o(h)},_drain:function(){var h=this,m=h._pool,y=0,_=0;if(!(h._sounds.length<m)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&y++;for(_=h._sounds.length-1;_>=0;_--){if(y<=m)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),y--)}}},_getSoundIds:function(h){var m=this;if(typeof h>"u"){for(var y=[],_=0;_<m._sounds.length;_++)y.push(m._sounds[_]._id);return y}else return[h]},_refreshBuffer:function(h){var m=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[m._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),m},_cleanBuffer:function(h){var m=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,m},_clearSound:function(h){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,m._sounds.push(h),h.create(),h},create:function(){var h=this,m=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return m._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=m._src,h._node.preload=m._preload===!0?"auto":m._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,m=h._parent;m._duration=Math.ceil(h._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,m=h._parent;m._duration===1/0&&(m._duration=Math.ceil(h._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},u=function(h){var m=h._src;if(s[m]){h._duration=s[m].duration,p(h);return}if(/^data:[^;]+;base64,/.test(m)){for(var y=atob(m.split(",")[1]),_=new Uint8Array(y.length),I=0;I<y.length;++I)_[I]=y.charCodeAt(I);f(_.buffer,h)}else{var E=new XMLHttpRequest;E.open(h._xhr.method,m,!0),E.withCredentials=h._xhr.withCredentials,E.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(T){E.setRequestHeader(T,h._xhr.headers[T])}),E.onload=function(){var T=(E.status+"")[0];if(T!=="0"&&T!=="2"&&T!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}f(E.response,h)},E.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[m],h.load())},l(E)}},l=function(h){try{h.send()}catch{h.onerror()}},f=function(h,m){var y=function(){m._emit("loaderror",null,"Decoding audio data failed.")},_=function(I){I&&m._sounds.length>0?(s[m._src]=I,p(m,I)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(y):n.ctx.decodeAudioData(h,_,y)},p=function(h,m){m&&!h._duration&&(h._duration=m.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},g=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=m?parseInt(m[1],10):null;if(h&&y&&y<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Eu<"u"?(Eu.HowlerGlobal=t,Eu.Howler=n,Eu.Howl=r,Eu.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,u,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var p=f._orientation;if(r=typeof r!="number"?p[1]:r,o=typeof o!="number"?p[2]:o,s=typeof s!="number"?p[3]:s,u=typeof u!="number"?p[4]:u,l=typeof l!="number"?p[5]:l,typeof n=="number")f._orientation=[n,r,o,s,u,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,u,l);else return p;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(r),l=0;l<u.length;l++){var f=o._soundById(u[l]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,r,o,s)}}),u;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")u._pos=[n,r,o];else return u._pos;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var p=u._soundById(l[f]);if(p)if(typeof n=="number")p._pos=[n,r,o],p._node&&((!p._panner||p._panner.pan)&&t(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(n,r,o)),u._emit("pos",p._id);else return p._pos}return u},Howl.prototype.orientation=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,r,o,s)}}),u;if(r=typeof r!="number"?u._orientation[1]:r,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof n=="number")u._orientation=[n,r,o];else return u._orientation;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var p=u._soundById(l[f]);if(p)if(typeof n=="number")p._orientation=[n,r,o],p._node&&(p._panner||(p._pos||(p._pos=u._pos||[0,0,-.5]),t(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(n,r,o)),u._emit("orientation",p._id);else return p._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,u;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(r[0],10)),u?u._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),f=0;f<l.length;f++)if(u=n._soundById(l[f]),u){var p=u._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var g=u._panner;g?(g.coneInnerAngle=p.coneInnerAngle,g.coneOuterAngle=p.coneOuterAngle,g.coneOuterGain=p.coneOuterGain,g.distanceModel=p.distanceModel,g.maxDistance=p.maxDistance,g.refDistance=p.refDistance,g.rolloffFactor=p.rolloffFactor,g.panningModel=p.panningModel):(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(If);const rh=$v("player",{state:()=>({current_song:{},sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"}),actions:{async newSong(e){this.sound instanceof If.Howl&&this.sound.unload(),this.current_song=e,this.sound=new If.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},stopPlaying(){this.sound instanceof If.Howl&&(this.sound.unload(),this.sound={})},progress(){this.seek=eo.formatTime(this.sound.seek()),this.duration=eo.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),o=(e.clientX-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),WB={name:"Player",computed:{...Th(rh,["playing","duration","seek","playerProgress","current_song"])},methods:{...Sh(rh,["toggleAudio","updateSeek","stopPlaying"])}},XB={class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full z-100"},YB=D("i",{class:"fas fa-times"},null,-1),QB=[YB],JB={key:0,class:"text-center"},ZB={class:"song-title font-bold"},eq={class:"song-artist"},tq={class:"flex flex-nowrap gap-4 items-center"},nq={class:"player-currenttime"},rq=D("i",{class:"fas fa-circle"},null,-1),iq=[rq],oq={class:"player-duration"};function sq(e,t,n,r,o,s){return qe(),tt("div",XB,[D("button",{onClick:t[0]||(t[0]=$t(u=>e.stopPlaying(e.song),["prevent"])),type:"button",class:"z-50 h-8 w-8 bg-red-700 text-white rounded-full focus:outline-none absolute right-4 -top-4"},QB),e.current_song.modified_name?(qe(),tt("div",JB,[D("span",ZB,Mt(e.current_song.modified_name),1),Er(" by "),D("span",eq,Mt(e.current_song.display_name),1)])):Qi("",!0),D("div",tq,[D("button",{type:"button",onClick:t[1]||(t[1]=$t((...u)=>e.toggleAudio&&e.toggleAudio(...u),["prevent"]))},[D("i",{class:Xt(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),D("div",nq,Mt(e.seek),1),D("div",{onClick:t[2]||(t[2]=$t((...u)=>e.updateSeek&&e.updateSeek(...u),["prevent"])),class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer"},[D("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:li({left:e.playerProgress})},iq,4),D("span",{class:"block h-2 rounded bg-gradient-to-r from-violet-400 to-violet-300",style:li({width:e.playerProgress})},null,4)]),D("div",oq,Mt(e.duration),1)])])}const aq=tr(WB,[["render",sq]]);const uq={name:"App",components:{AppHeader:nB,Auth:zB,AppPlayer:aq},computed:{...WS(Ma,["userLoggedIn"]),...Th(rh,["sound"])},created(){fr.currentUser&&(this.userLoggedIn=!0)}};function cq(e,t,n,r,o,s){const u=It("app-header"),l=It("router-view"),f=It("app-player"),p=It("auth");return qe(),tt("div",null,[Ce(u),Ce(l,null,{default:Ln(({Component:g})=>[Ce(qv,{name:"fade"},{default:Ln(()=>[(qe(),Xi(_h(g)))]),_:2},1024)]),_:1}),e.sound.playing?(qe(),Xi(f,{key:0})):Qi("",!0),Ce(p)])}const lq=tr(uq,[["render",cq]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Gs=typeof window<"u";function fq(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ot=Object.assign;function fg(e,t){const n={};for(const r in t){const o=t[r];n[r]=Nr(o)?o.map(e):e(o)}return n}const Bu=()=>{},Nr=Array.isArray,hq=/\/$/,dq=e=>e.replace(hq,"");function hg(e,t,n="/"){let r,o={},s="",u="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(r=r||t.slice(0,l),u=t.slice(l,t.length)),r=vq(r??t,n),{fullPath:r+(s&&"?")+s+u,path:r,query:o,hash:u}}function pq(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function gT(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function mq(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Ia(t.matched[r],n.matched[o])&&px(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ia(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function px(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!gq(e[n],t[n]))return!1;return!0}function gq(e,t){return Nr(e)?vT(e,t):Nr(t)?vT(t,e):e===t}function vT(e,t){return Nr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function vq(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,u,l;for(u=0;u<r.length;u++)if(l=r[u],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(u-(u===r.length?1:0)).join("/")}var mc;(function(e){e.pop="pop",e.push="push"})(mc||(mc={}));var qu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(qu||(qu={}));function yq(e){if(!e)if(Gs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),dq(e)}const _q=/^[^#]+#/;function wq(e,t){return e.replace(_q,"#")+t}function bq(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ad=()=>({left:window.pageXOffset,top:window.pageYOffset});function Iq(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=bq(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function yT(e,t){return(history.state?history.state.position-t:-1)+e}const fv=new Map;function Eq(e,t){fv.set(e,t)}function Tq(e){const t=fv.get(e);return fv.delete(e),t}let Sq=()=>location.protocol+"//"+location.host;function mx(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),gT(f,"")}return gT(n,e)+r+o}function Aq(e,t,n,r){let o=[],s=[],u=null;const l=({state:m})=>{const y=mx(e,location),_=n.value,I=t.value;let E=0;if(m){if(n.value=y,t.value=m,u&&u===_){u=null;return}E=I?m.position-I.position:0}else r(y);o.forEach(T=>{T(n.value,_,{delta:E,type:mc.pop,direction:E?E>0?qu.forward:qu.back:qu.unknown})})};function f(){u=n.value}function p(m){o.push(m);const y=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return s.push(y),y}function g(){const{history:m}=window;m.state&&m.replaceState(ot({},m.state,{scroll:ad()}),"")}function h(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:f,listen:p,destroy:h}}function _T(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?ad():null}}function kq(e){const{history:t,location:n}=window,r={value:mx(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,p,g){const h=e.indexOf("#"),m=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:Sq()+e+f;try{t[g?"replaceState":"pushState"](p,"",m),o.value=p}catch(y){console.error(y),n[g?"replace":"assign"](m)}}function u(f,p){const g=ot({},t.state,_T(o.value.back,f,o.value.forward,!0),p,{position:o.value.position});s(f,g,!0),r.value=f}function l(f,p){const g=ot({},o.value,t.state,{forward:f,scroll:ad()});s(g.current,g,!0);const h=ot({},_T(r.value,f,null),{position:g.position+1},p);s(f,h,!1),r.value=f}return{location:r,state:o,push:l,replace:u}}function xq(e){e=yq(e);const t=kq(e),n=Aq(e,t.state,t.location,t.replace);function r(s,u=!0){u||n.pauseListeners(),history.go(s)}const o=ot({location:"",base:e,go:r,createHref:wq.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Cq(e){return typeof e=="string"||e&&typeof e=="object"}function gx(e){return typeof e=="string"||typeof e=="symbol"}const Oi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},vx=Symbol("");var wT;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(wT||(wT={}));function Ea(e,t){return ot(new Error,{type:e,[vx]:!0},t)}function ni(e,t){return e instanceof Error&&vx in e&&(t==null||!!(e.type&t))}const bT="[^/]+?",Nq={sensitive:!1,strict:!1,start:!0,end:!0},Oq=/[.+*?^${}()[\]/\\]/g;function Rq(e,t){const n=ot({},Nq,t),r=[];let o=n.start?"^":"";const s=[];for(const p of e){const g=p.length?[]:[90];n.strict&&!p.length&&(o+="/");for(let h=0;h<p.length;h++){const m=p[h];let y=40+(n.sensitive?.25:0);if(m.type===0)h||(o+="/"),o+=m.value.replace(Oq,"\\$&"),y+=40;else if(m.type===1){const{value:_,repeatable:I,optional:E,regexp:T}=m;s.push({name:_,repeatable:I,optional:E});const C=T||bT;if(C!==bT){y+=10;try{new RegExp(`(${C})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${_}" (${C}): `+L.message)}}let P=I?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(P=E&&p.length<2?`(?:/${P})`:"/"+P),E&&(P+="?"),o+=P,y+=20,E&&(y+=-8),I&&(y+=-20),C===".*"&&(y+=-50)}g.push(y)}r.push(g)}if(n.strict&&n.end){const p=r.length-1;r[p][r[p].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function l(p){const g=p.match(u),h={};if(!g)return null;for(let m=1;m<g.length;m++){const y=g[m]||"",_=s[m-1];h[_.name]=y&&_.repeatable?y.split("/"):y}return h}function f(p){let g="",h=!1;for(const m of e){(!h||!g.endsWith("/"))&&(g+="/"),h=!1;for(const y of m)if(y.type===0)g+=y.value;else if(y.type===1){const{value:_,repeatable:I,optional:E}=y,T=_ in p?p[_]:"";if(Nr(T)&&!I)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const C=Nr(T)?T.join("/"):T;if(!C)if(E)m.length<2&&(g.endsWith("/")?g=g.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);g+=C}}return g||"/"}return{re:u,score:r,keys:s,parse:l,stringify:f}}function Pq(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Dq(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=Pq(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(IT(r))return 1;if(IT(o))return-1}return o.length-r.length}function IT(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Lq={type:0,value:""},Mq=/[a-zA-Z0-9_]/;function Fq(e){if(!e)return[[]];if(e==="/")return[[Lq]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${p}": ${y}`)}let n=0,r=n;const o=[];let s;function u(){s&&o.push(s),s=[]}let l=0,f,p="",g="";function h(){p&&(n===0?s.push({type:0,value:p}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:p,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),p="")}function m(){p+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(p&&h(),u()):f===":"?(h(),n=1):m();break;case 4:m(),n=r;break;case 1:f==="("?n=2:Mq.test(f)?m():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,g="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),h(),u(),o}function Vq(e,t,n){const r=Rq(Fq(e.path),n),o=ot(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Uq(e,t){const n=[],r=new Map;t=ST({strict:!1,end:!0,sensitive:!1},t);function o(g){return r.get(g)}function s(g,h,m){const y=!m,_=jq(g);_.aliasOf=m&&m.record;const I=ST(t,g),E=[_];if("alias"in g){const P=typeof g.alias=="string"?[g.alias]:g.alias;for(const L of P)E.push(ot({},_,{components:m?m.record.components:_.components,path:L,aliasOf:m?m.record:_}))}let T,C;for(const P of E){const{path:L}=P;if(h&&L[0]!=="/"){const X=h.record.path,U=X[X.length-1]==="/"?"":"/";P.path=h.record.path+(L&&U+L)}if(T=Vq(P,h,I),m?m.alias.push(T):(C=C||T,C!==T&&C.alias.push(T),y&&g.name&&!TT(T)&&u(g.name)),_.children){const X=_.children;for(let U=0;U<X.length;U++)s(X[U],T,m&&m.children[U])}m=m||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&f(T)}return C?()=>{u(C)}:Bu}function u(g){if(gx(g)){const h=r.get(g);h&&(r.delete(g),n.splice(n.indexOf(h),1),h.children.forEach(u),h.alias.forEach(u))}else{const h=n.indexOf(g);h>-1&&(n.splice(h,1),g.record.name&&r.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function l(){return n}function f(g){let h=0;for(;h<n.length&&Dq(g,n[h])>=0&&(g.record.path!==n[h].record.path||!yx(g,n[h]));)h++;n.splice(h,0,g),g.record.name&&!TT(g)&&r.set(g.record.name,g)}function p(g,h){let m,y={},_,I;if("name"in g&&g.name){if(m=r.get(g.name),!m)throw Ea(1,{location:g});I=m.record.name,y=ot(ET(h.params,m.keys.filter(C=>!C.optional).map(C=>C.name)),g.params&&ET(g.params,m.keys.map(C=>C.name))),_=m.stringify(y)}else if("path"in g)_=g.path,m=n.find(C=>C.re.test(_)),m&&(y=m.parse(_),I=m.record.name);else{if(m=h.name?r.get(h.name):n.find(C=>C.re.test(h.path)),!m)throw Ea(1,{location:g,currentLocation:h});I=m.record.name,y=ot({},h.params,g.params),_=m.stringify(y)}const E=[];let T=m;for(;T;)E.unshift(T.record),T=T.parent;return{name:I,path:_,params:y,matched:E,meta:qq(E)}}return e.forEach(g=>s(g)),{addRoute:s,resolve:p,removeRoute:u,getRoutes:l,getRecordMatcher:o}}function ET(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function jq(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Bq(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Bq(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function TT(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function qq(e){return e.reduce((t,n)=>ot(t,n.meta),{})}function ST(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function yx(e,t){return t.children.some(n=>n===e||yx(e,n))}const _x=/#/g,$q=/&/g,Hq=/\//g,Kq=/=/g,Gq=/\?/g,wx=/\+/g,zq=/%5B/g,Wq=/%5D/g,bx=/%5E/g,Xq=/%60/g,Ix=/%7B/g,Yq=/%7C/g,Ex=/%7D/g,Qq=/%20/g;function c_(e){return encodeURI(""+e).replace(Yq,"|").replace(zq,"[").replace(Wq,"]")}function Jq(e){return c_(e).replace(Ix,"{").replace(Ex,"}").replace(bx,"^")}function hv(e){return c_(e).replace(wx,"%2B").replace(Qq,"+").replace(_x,"%23").replace($q,"%26").replace(Xq,"`").replace(Ix,"{").replace(Ex,"}").replace(bx,"^")}function Zq(e){return hv(e).replace(Kq,"%3D")}function e3(e){return c_(e).replace(_x,"%23").replace(Gq,"%3F")}function t3(e){return e==null?"":e3(e).replace(Hq,"%2F")}function ih(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function n3(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(wx," "),u=s.indexOf("="),l=ih(u<0?s:s.slice(0,u)),f=u<0?null:ih(s.slice(u+1));if(l in t){let p=t[l];Nr(p)||(p=t[l]=[p]),p.push(f)}else t[l]=f}return t}function AT(e){let t="";for(let n in e){const r=e[n];if(n=Zq(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Nr(r)?r.map(s=>s&&hv(s)):[r&&hv(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function r3(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Nr(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const i3=Symbol(""),kT=Symbol(""),l_=Symbol(""),Tx=Symbol(""),dv=Symbol("");function Tu(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Li(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,l)=>{const f=h=>{h===!1?l(Ea(4,{from:n,to:t})):h instanceof Error?l(h):Cq(h)?l(Ea(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),u())},p=e.call(r&&r.instances[o],t,n,f);let g=Promise.resolve(p);e.length<3&&(g=g.then(f)),g.catch(h=>l(h))})}function dg(e,t,n,r){const o=[];for(const s of e)for(const u in s.components){let l=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(o3(l)){const p=(l.__vccOpts||l)[t];p&&o.push(Li(p,n,r,s,u))}else{let f=l();o.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));const g=fq(p)?p.default:p;s.components[u]=g;const m=(g.__vccOpts||g)[t];return m&&Li(m,n,r,s,u)()}))}}return o}function o3(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function xT(e){const t=lr(l_),n=lr(Tx),r=Be(()=>t.resolve(Re(e.to))),o=Be(()=>{const{matched:f}=r.value,{length:p}=f,g=f[p-1],h=n.matched;if(!g||!h.length)return-1;const m=h.findIndex(Ia.bind(null,g));if(m>-1)return m;const y=CT(f[p-2]);return p>1&&CT(g)===y&&h[h.length-1].path!==y?h.findIndex(Ia.bind(null,f[p-2])):m}),s=Be(()=>o.value>-1&&c3(n.params,r.value.params)),u=Be(()=>o.value>-1&&o.value===n.matched.length-1&&px(n.params,r.value.params));function l(f={}){return u3(f)?t[Re(e.replace)?"replace":"push"](Re(e.to)).catch(Bu):Promise.resolve()}return{route:r,href:Be(()=>r.value.href),isActive:s,isExactActive:u,navigate:l}}const s3=vc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:xT,setup(e,{slots:t}){const n=hi(xT(e)),{options:r}=lr(l_),o=Be(()=>({[NT(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[NT(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Jo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),a3=s3;function u3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function c3(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Nr(o)||o.length!==r.length||r.some((s,u)=>s!==o[u]))return!1}return!0}function CT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const NT=(e,t,n)=>e??t??n,l3=vc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=lr(dv),o=Be(()=>e.route||r.value),s=lr(kT,0),u=Be(()=>{let p=Re(s);const{matched:g}=o.value;let h;for(;(h=g[p])&&!h.components;)p++;return p}),l=Be(()=>o.value.matched[u.value]);Js(kT,Be(()=>u.value+1)),Js(i3,l),Js(dv,o);const f=bn();return Jn(()=>[f.value,l.value,e.name],([p,g,h],[m,y,_])=>{g&&(g.instances[h]=p,y&&y!==g&&p&&p===m&&(g.leaveGuards.size||(g.leaveGuards=y.leaveGuards),g.updateGuards.size||(g.updateGuards=y.updateGuards))),p&&g&&(!y||!Ia(g,y)||!m)&&(g.enterCallbacks[h]||[]).forEach(I=>I(p))},{flush:"post"}),()=>{const p=o.value,g=e.name,h=l.value,m=h&&h.components[g];if(!m)return OT(n.default,{Component:m,route:p});const y=h.props[g],_=y?y===!0?p.params:typeof y=="function"?y(p):y:null,E=Jo(m,ot({},_,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[g]=null)},ref:f}));return OT(n.default,{Component:E,route:p})||E}}});function OT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const f3=l3;function h3(e){const t=Uq(e.routes,e),n=e.parseQuery||n3,r=e.stringifyQuery||AT,o=e.history,s=Tu(),u=Tu(),l=Tu(),f=hS(Oi);let p=Oi;Gs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=fg.bind(null,F=>""+F),h=fg.bind(null,t3),m=fg.bind(null,ih);function y(F,K){let ne,fe;return gx(F)?(ne=t.getRecordMatcher(F),fe=K):fe=F,t.addRoute(fe,ne)}function _(F){const K=t.getRecordMatcher(F);K&&t.removeRoute(K)}function I(){return t.getRoutes().map(F=>F.record)}function E(F){return!!t.getRecordMatcher(F)}function T(F,K){if(K=ot({},K||f.value),typeof F=="string"){const R=hg(n,F,K.path),j=t.resolve({path:R.path},K),$=o.createHref(R.fullPath);return ot(R,j,{params:m(j.params),hash:ih(R.hash),redirectedFrom:void 0,href:$})}let ne;if("path"in F)ne=ot({},F,{path:hg(n,F.path,K.path).path});else{const R=ot({},F.params);for(const j in R)R[j]==null&&delete R[j];ne=ot({},F,{params:h(R)}),K.params=h(K.params)}const fe=t.resolve(ne,K),Oe=F.hash||"";fe.params=g(m(fe.params));const A=pq(r,ot({},F,{hash:Jq(Oe),path:fe.path})),x=o.createHref(A);return ot({fullPath:A,hash:Oe,query:r===AT?r3(F.query):F.query||{}},fe,{redirectedFrom:void 0,href:x})}function C(F){return typeof F=="string"?hg(n,F,f.value.path):ot({},F)}function P(F,K){if(p!==F)return Ea(8,{from:K,to:F})}function L(F){return ue(F)}function X(F){return L(ot(C(F),{replace:!0}))}function U(F){const K=F.matched[F.matched.length-1];if(K&&K.redirect){const{redirect:ne}=K;let fe=typeof ne=="function"?ne(F):ne;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=C(fe):{path:fe},fe.params={}),ot({query:F.query,hash:F.hash,params:"path"in fe?{}:F.params},fe)}}function ue(F,K){const ne=p=T(F),fe=f.value,Oe=F.state,A=F.force,x=F.replace===!0,R=U(ne);if(R)return ue(ot(C(R),{state:typeof R=="object"?ot({},Oe,R.state):Oe,force:A,replace:x}),K||ne);const j=ne;j.redirectedFrom=K;let $;return!A&&mq(r,fe,ne)&&($=Ea(16,{to:j,from:fe}),Bt(fe,fe,!0,!1)),($?Promise.resolve($):k(j,fe)).catch(Q=>ni(Q)?ni(Q,2)?Q:Et(Q):ye(Q,j,fe)).then(Q=>{if(Q){if(ni(Q,2))return ue(ot({replace:x},C(Q.to),{state:typeof Q.to=="object"?ot({},Oe,Q.to.state):Oe,force:A}),K||j)}else Q=oe(j,fe,!0,x,Oe);return Ne(j,fe,Q),Q})}function V(F,K){const ne=P(F,K);return ne?Promise.reject(ne):Promise.resolve()}function H(F){const K=Bn.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(F):F()}function k(F,K){let ne;const[fe,Oe,A]=d3(F,K);ne=dg(fe.reverse(),"beforeRouteLeave",F,K);for(const R of fe)R.leaveGuards.forEach(j=>{ne.push(Li(j,F,K))});const x=V.bind(null,F,K);return ne.push(x),_e(ne).then(()=>{ne=[];for(const R of s.list())ne.push(Li(R,F,K));return ne.push(x),_e(ne)}).then(()=>{ne=dg(Oe,"beforeRouteUpdate",F,K);for(const R of Oe)R.updateGuards.forEach(j=>{ne.push(Li(j,F,K))});return ne.push(x),_e(ne)}).then(()=>{ne=[];for(const R of A)if(R.beforeEnter)if(Nr(R.beforeEnter))for(const j of R.beforeEnter)ne.push(Li(j,F,K));else ne.push(Li(R.beforeEnter,F,K));return ne.push(x),_e(ne)}).then(()=>(F.matched.forEach(R=>R.enterCallbacks={}),ne=dg(A,"beforeRouteEnter",F,K),ne.push(x),_e(ne))).then(()=>{ne=[];for(const R of u.list())ne.push(Li(R,F,K));return ne.push(x),_e(ne)}).catch(R=>ni(R,8)?R:Promise.reject(R))}function Ne(F,K,ne){l.list().forEach(fe=>H(()=>fe(F,K,ne)))}function oe(F,K,ne,fe,Oe){const A=P(F,K);if(A)return A;const x=K===Oi,R=Gs?history.state:{};ne&&(fe||x?o.replace(F.fullPath,ot({scroll:x&&R&&R.scroll},Oe)):o.push(F.fullPath,Oe)),f.value=F,Bt(F,K,ne,x),Et()}let ke;function Fe(){ke||(ke=o.listen((F,K,ne)=>{if(!ge.listening)return;const fe=T(F),Oe=U(fe);if(Oe){ue(ot(Oe,{replace:!0}),fe).catch(Bu);return}p=fe;const A=f.value;Gs&&Eq(yT(A.fullPath,ne.delta),ad()),k(fe,A).catch(x=>ni(x,12)?x:ni(x,2)?(ue(x.to,fe).then(R=>{ni(R,20)&&!ne.delta&&ne.type===mc.pop&&o.go(-1,!1)}).catch(Bu),Promise.reject()):(ne.delta&&o.go(-ne.delta,!1),ye(x,fe,A))).then(x=>{x=x||oe(fe,A,!1),x&&(ne.delta&&!ni(x,8)?o.go(-ne.delta,!1):ne.type===mc.pop&&ni(x,20)&&o.go(-1,!1)),Ne(fe,A,x)}).catch(Bu)}))}let He=Tu(),le=Tu(),Ve;function ye(F,K,ne){Et(F);const fe=le.list();return fe.length?fe.forEach(Oe=>Oe(F,K,ne)):console.error(F),Promise.reject(F)}function ht(){return Ve&&f.value!==Oi?Promise.resolve():new Promise((F,K)=>{He.add([F,K])})}function Et(F){return Ve||(Ve=!F,Fe(),He.list().forEach(([K,ne])=>F?ne(F):K()),He.reset()),F}function Bt(F,K,ne,fe){const{scrollBehavior:Oe}=e;if(!Gs||!Oe)return Promise.resolve();const A=!ne&&Tq(yT(F.fullPath,0))||(fe||!ne)&&history.state&&history.state.scroll||null;return ii().then(()=>Oe(F,K,A)).then(x=>x&&Iq(x)).catch(x=>ye(x,F,K))}const Rt=F=>o.go(F);let dt;const Bn=new Set,ge={currentRoute:f,listening:!0,addRoute:y,removeRoute:_,hasRoute:E,getRoutes:I,resolve:T,options:e,push:L,replace:X,go:Rt,back:()=>Rt(-1),forward:()=>Rt(1),beforeEach:s.add,beforeResolve:u.add,afterEach:l.add,onError:le.add,isReady:ht,install(F){const K=this;F.component("RouterLink",a3),F.component("RouterView",f3),F.config.globalProperties.$router=K,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>Re(f)}),Gs&&!dt&&f.value===Oi&&(dt=!0,L(o.location).catch(Oe=>{}));const ne={};for(const Oe in Oi)Object.defineProperty(ne,Oe,{get:()=>f.value[Oe],enumerable:!0});F.provide(l_,K),F.provide(Tx,uS(ne)),F.provide(dv,f);const fe=F.unmount;Bn.add(F),F.unmount=function(){Bn.delete(F),Bn.size<1&&(p=Oi,ke&&ke(),ke=null,f.value=Oi,dt=!1,Ve=!1),fe()}}};function _e(F){return F.reduce((K,ne)=>K.then(()=>H(ne)),Promise.resolve())}return ge}function d3(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const l=t.matched[u];l&&(e.matched.find(p=>Ia(p,l))?r.push(l):n.push(l));const f=e.matched[u];f&&(t.matched.find(p=>Ia(p,f))||o.push(f))}return[n,r,o]}const p3={name:"SongItem",props:{song:Object}},m3={class:"cursor-pointer transition duration-300 text-gray-400 hover:text-white"},g3={class:"overflow-hidden"},v3=["src"],y3={class:"w-full pt-2"},_3={class:"truncate text-l md:text-2xl"},w3={class:"flex justify-between items-center pt-1 text-gray-600 text-sm md:text-lg"},b3=D("i",{class:"fa fa-comments text-gray-600"},null,-1);function I3(e,t,n,r,o,s){const u=It("router-link");return qe(),tt("li",m3,[Ce(u,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block hover:text-white"},{default:Ln(()=>[D("div",g3,[D("img",{src:n.song.img_url,class:"w-full h-auto transition duration-700 hover:scale-110"},null,8,v3)]),D("div",y3,[D("div",_3,Mt(n.song.modified_name),1),D("div",w3,[D("span",null,Mt(n.song.display_name),1),D("div",null,[D("span",{class:"comments",onClick:t[0]||(t[0]=(...l)=>e.navigate&&e.navigate(...l))},[b3,Er(" "+Mt(n.song.comment_count),1)])])])])]),_:1},8,["to"])])}const E3=tr(p3,[["render",I3]]),T3={components:{AppSongItem:E3},data(){return{songs:[],maxPerPage:6,pendingRequest:!1,introductionmusicAddress:"",headerAddress:""}},beforeCreate(){window.addEventListener("scroll",this.getSongs)},beforeUnmount(){window.removeEventListener("scroll",this.getSongs)},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll),this.headerAddress=await eo.getStaticImage("header.png"),this.introductionmusicAddress=await eo.getStaticImage("introduction-music.png")},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await zr.doc(this.songs[this.songs.length-1].docID).get();e=await zr.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get(),e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})})}else e=await zr.orderBy("modified_name").limit(this.maxPerPage).get(),e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})});this.pendingRequest=!1}}},S3={class:"mb-8 py-20 text-white text-center relative"},A3=D("div",{class:"container mx-auto"},[D("div",{class:"text-white main-header-content"},[D("h1",{class:"font-bold text-5xl mb-5"},"Listen to Great Music!"),D("p",{class:"w-full md:w-8/12 mx-auto"}," Make your first playlist in less than a minute. Playlist was built to give you the power to make the perfect mix for any moment, right when you need it. Stop endlessly scrolling for music. ")])],-1),k3=["src"],x3={class:"container mx-auto p-5"},C3={class:"bg-gray-800 relative flex flex-col"},N3={class:"px-6 pt-6 pb-5 font-bold text-2xl items-center text-white justify-center flex flex-row-reverse"},O3=D("span",{class:"card-title"},"Songs",-1),R3=[O3],P3={id:"playlist",class:"grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-10"};function D3(e,t,n,r,o,s){const u=It("app-song-item"),l=Mv("icon");return qe(),tt("main",null,[D("section",S3,[D("div",{class:"absolute inset-0 w-full h-full bg-contain introduction-bg",style:li({backgroundImage:"url("+o.headerAddress+")"})},null,4),A3,D("img",{class:"relative block mx-auto mt-5 -mb-20 w-auto max-w-full",src:o.introductionmusicAddress},null,8,k3)]),D("section",x3,[D("div",C3,[Ki((qe(),tt("div",N3,R3)),[[l,"headphones-alt"]]),D("ol",P3,[(qe(!0),tt(en,null,yc(o.songs,f=>(qe(),Xi(u,{key:f.docID,song:f},null,8,["song"]))),128))])])])])}const L3=tr(T3,[["render",D3]]),M3={},F3={class:"about"},V3=D("h1",null,"This is an about page",-1),U3=[V3];function j3(e,t){return qe(),tt("div",F3,U3)}const B3=tr(M3,[["render",j3]]),q3={data(){return{is_dragOver:!1,uploads:[],defaultmusicAddress:""}},props:{addSong:{type:Function,required:!0}},async created(){this.defaultmusicAddress=await eo.getStaticImage("defult-music.jpg")},methods:{upload(e){this.is_dragOver=!1,(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(n=>{if(n.type!=="audio/mpeg")return;const s=lv.ref().child(`songs/${n.name}`).put(n),u=this.uploads.push({task:s,current_progress:0,name:n.name,icon:"fas fa-spinner fa-spin",variant:"bg-blue-400",text_class:""})-1;s.on("state_changed",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[u].current_progress=f},l=>{this.uploads[u].variant="bg-red-400",this.uploads[u].icon="fas fa-times",this.uploads[u].text_class="text-red-400",console.log(l)},async()=>{const l={uid:fr.currentUser.uid,display_name:fr.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,gener:"",comment_count:0,img_url:this.defaultmusicAddress};l.url=await s.snapshot.ref.getDownloadURL();const p=await(await zr.add(l)).get();this.uploads[u].variant="bg-green-400",this.uploads[u].icon="fas fa-check",this.uploads[u].text_class="text-green-400",this.addSong(p),setTimeout(()=>{this.uploads[u].current_progress=0},3e3)})})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},$3={class:"rounded border border-gray-500 relative flex flex-col"},H3={class:"px-6 py-5 font-bold text-2xl items-center text-white justify-end flex flex-row-reverse"},K3=D("span",{class:"card-title"},"Upload",-1),G3=[K3],z3={class:"p-6"},W3=D("h5",null,"Drop your files here",-1),X3=[W3],Y3=D("hr",{class:"my-6"},null,-1),Q3={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function J3(e,t,n,r,o,s){const u=Mv("icon");return qe(),tt("div",$3,[Ki((qe(),tt("div",H3,G3)),[[u,"upload"]]),D("div",z3,[D("div",{class:Xt(["w-full bg-gray-700 px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-violet-200 hover:border-violet-200 hover:border-solid",{"bg-violet-400 border-violet-400 border-solid":o.is_dragOver}]),onDragenter:t[0]||(t[0]=$t(l=>o.is_dragOver=!0,["prevent","stop"])),onDragend:t[1]||(t[1]=$t(l=>o.is_dragOver=!1,["prevent","stop"])),onDragexit:t[2]||(t[2]=$t(()=>{},["prevent","stop"])),onDragover:t[3]||(t[3]=$t(l=>o.is_dragOver=!0,["prevent","stop"])),onDragleave:t[4]||(t[4]=$t(l=>o.is_dragOver=!1,["prevent","stop"])),onDragstart:t[5]||(t[5]=$t(()=>{},["prevent","stop"])),onDrop:t[6]||(t[6]=$t(l=>s.upload(l),["prevent","stop"]))},X3,34),D("input",{class:"text-white",type:"file",multiple:"",onChange:t[7]||(t[7]=l=>s.upload(l))},null,32),Y3,(qe(!0),tt(en,null,yc(o.uploads,l=>(qe(),tt("div",{class:"mb-4",key:l.name},[l.current_progress>0?(qe(),tt(en,{key:0},[D("div",{class:Xt(["text-gray-300 font-bold text-sm",l.text_class])},[D("i",{class:Xt(l.icon)},null,2),Er(" "+Mt(l.name),1)],2),D("div",Q3,[D("div",{class:Xt(["transition-all progress-bar",l.variant]),style:li({width:l.current_progress+"%"})},null,6)])],64)):Qi("",!0)]))),128))])])}const Z3=tr(q3,[["render",J3]]),e4={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function,required:!0},updateSongImg:{type:Function,required:!0}},data(){return{showForm:!1,validForm:{modified_name:"required",gener:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info.",uploadImg:{current_progress:0,variant:"bg-blue-400"}}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please wait! Updating song info.",console.log("values:",e);try{await zr.doc(this.song.docID).update({modified_name:e.modified_name,gener:e.gener})}catch{this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Please try later.";return}this.updateSong(this.index,e),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!!",this.updateUnsavedFlag(!1),setTimeout(()=>{this.show_alert=!1,this.showForm=!1},3e3)},async deleteSong(){await lv.ref().child(`songs/${this.song.original_name}`).delete(),await zr.doc(this.song.docID).delete(),this.removeSong(this.index)},uploadImage(e){[...e.target.files].forEach(n=>{if(n.type!=="image/jpeg")return;const s=lv.ref().child(`images/${n.name}`).put(n);s.on("state_changed",u=>{const l=u.bytesTransferred/u.totalBytes*100;this.uploadImg.current_progress=l},u=>{console.log(u)},async()=>{this.uploadImg.variant="bg-green-400";const u={uid:fr.currentUser.uid,display_name:fr.currentUser.displayName,original_name:s.snapshot.ref.name,sid:this.song.docID};u.url=await s.snapshot.ref.getDownloadURL(),await $2.add(u),await zr.doc(this.song.docID).update("img_url",u.url),this.updateSongImg(this.index,u.url),setTimeout(()=>{this.uploadImg.current_progress=0},3e3)})})}}},t4={class:"border border-gray-500 p-3 py-5 mb-4 rounded"},n4=["src"],r4=D("i",{class:"fa fa-times"},null,-1),i4=[r4],o4=D("i",{class:"fa fa-pencil-alt"},null,-1),s4=[o4],a4=D("label",{class:"cursor-pointer"},[D("input",{type:"file",id:"img"}),D("i",{class:"fa fa-image"})],-1),u4=[a4],c4={class:"float-right w-1/5 my-1.5"},l4={class:"flex h-4 overflow-hidden bg-gray-200 rounded"},f4={class:"mb-3"},h4=D("label",{class:"inline-block text-white mb-2"},"Song Title",-1),d4={class:"mb-3"},p4=D("label",{class:"inline-block text-white mb-2"},"Genre",-1),m4=["disabled"],g4=["disabled"];function v4(e,t,n,r,o,s){const u=It("router-link"),l=It("vee-field"),f=It("ErrorMessage"),p=It("vee-form");return qe(),tt("div",t4,[Ki(D("div",null,[D("img",{src:n.song.img_url,class:"float-left h-7 mr-2"},null,8,n4),Ce(u,{to:{name:"song",params:{id:n.song.docID}},class:"inline-block text-xl text-gray-300 hover:font-bold hover:text-white w-1/2"},{default:Ln(()=>[Er(Mt(n.song.modified_name),1)]),_:1},8,["to"]),D("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white border-b border-l border-red-600 float-right transition duration-100 hover:bg-red-600",onClick:t[0]||(t[0]=$t((...g)=>s.deleteSong&&s.deleteSong(...g),["prevent"]))},i4),D("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white border-b border-l border-cyan-600 float-right transition duration-100 hover:bg-cyan-600",onClick:t[1]||(t[1]=$t(g=>o.showForm=!o.showForm,["prevent"]))},s4),D("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white border-b border-l border-yellow-600 float-right transition duration-100 hover:bg-yellow-600",onChange:t[2]||(t[2]=$t(g=>s.uploadImage(g),["prevent"]))},u4,32),Ki(D("div",c4,[D("div",l4,[D("div",{class:Xt(["transition-all progress-bar",o.uploadImg.variant]),style:li({width:o.uploadImg.current_progress+"%"})},null,6)])],512),[[Gm,o.uploadImg.current_progress>0]])],512),[[Gm,!o.showForm]]),Ki(D("div",null,[o.show_alert?(qe(),tt("div",{key:0,class:Xt(["text-white text-center font-bold rounded p-4 mb-4",o.alert_variant])},Mt(o.alert_message),3)):Qi("",!0),Ce(p,{"validation-schema":o.validForm,"initial-values":n.song,onSubmit:s.edit},{default:Ln(()=>[D("div",f4,[h4,Ce(l,{type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",name:"modified_name",onInput:t[3]||(t[3]=g=>n.updateUnsavedFlag(!0))}),Ce(f,{class:"text-red-500 block",name:"modified_name"})]),D("div",d4,[p4,Ce(l,{type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",name:"gener",onInput:t[4]||(t[4]=g=>n.updateUnsavedFlag(!0))}),Ce(f,{class:"text-red-500 block",name:"gener"})]),D("button",{type:"submit",class:"py-1.5 px-3 mr-1.5 rounded text-white bg-green-600",disabled:o.in_submission},"Submit",8,m4),D("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[5]||(t[5]=$t(g=>o.showForm=!1,["prevent"]))},"Go Back",8,g4)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[Gm,o.showForm]])])}const y4=tr(e4,[["render",v4]]),_4={name:"manage",components:{AppUpload:Z3,CompositionItem:y4},data(){return{songs:[],unsavedFlag:!1}},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].gener=t.gener},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e},updateSongImg(e,t){this.songs[e].img_url=t}},beforeRouteEnter(e,t,n){Ma().userLoggedIn?n():n({name:"home"})},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const r=confirm("You have unsaved changes. Are you sure you want to leave?");n(r)}},async created(){(await zr.where("uid","==",fr.currentUser.uid).get()).forEach(this.addSong)}},w4={class:"p-5 container mx-auto mt-6"},b4={class:"grid grid-cols-1 md:grid-cols-3 gap-0 md:gap-10"},I4={class:"col-span-1"},E4={class:"mt-8 md:mt-0 col-span-2"},T4={class:"relative flex flex-col"},S4={class:"py-5 font-bold text-2xl items-center text-white justify-end flex flex-row-reverse"},A4=D("span",{class:"card-title"},"My Songs",-1),k4=[A4],x4={class:""};function C4(e,t,n,r,o,s){const u=It("app-upload"),l=It("composition-item"),f=Mv("icon");return qe(),tt("section",w4,[D("div",b4,[D("div",I4,[Ce(u,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),D("div",E4,[D("div",T4,[Ki((qe(),tt("div",S4,k4)),[[f,"compact-disc"]]),D("div",x4,[(qe(!0),tt(en,null,yc(o.songs,(p,g)=>(qe(),Xi(l,{key:p.docID,song:p,updateSong:s.updateSong,updateSongImg:s.updateSongImg,index:g,removeSong:s.removeSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","updateSong","updateSongImg","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const N4=tr(_4,[["render",C4]]);/**
  * vee-validate v4.10.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function tn(e){return typeof e=="function"}function Sx(e){return e==null}const ss=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function f_(e){return Number(e)>=0}function O4(e){const t=parseFloat(e);return isNaN(t)?e:t}function R4(e){return typeof e=="object"&&e!==null}function P4(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function D4(e){if(!R4(e)||P4(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function oh(e,t){return Object.keys(t).forEach(n=>{if(D4(t[n])){e[n]||(e[n]={}),oh(e[n],t[n]);return}e[n]=t[n]}),e}function Ou(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++){if(f_(t[r])){n+=`[${t[r]}]`;continue}n+=`.${t[r]}`}return n}const Ax={};function yr(e,t){M4(e,t),Ax[e]=t}function L4(e){return Ax[e]}function M4(e,t){if(!tn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const ud=Symbol("vee-validate-form"),F4=Symbol("vee-validate-field-instance"),sh=Symbol("Default empty value"),V4=typeof window<"u";function pv(e){return tn(e)&&!!e.__locatorRef}function to(e){return!!e&&tn(e.parse)&&e.__type==="VVTypedSchema"}function ah(e){return!!e&&tn(e.validate)}function Bc(e){return e==="checkbox"||e==="radio"}function U4(e){return ss(e)||Array.isArray(e)}function j4(e){return Array.isArray(e)?e.length===0:ss(e)&&Object.keys(e).length===0}function cd(e){return/^\[.+\]$/i.test(e)}function B4(e){return kx(e)&&e.multiple}function kx(e){return e.tagName==="SELECT"}function q4(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function $4(e,t){return!q4(e,t)&&t.type!=="file"&&!Bc(t.type)}function xx(e){return h_(e)&&e.target&&"submit"in e.target}function h_(e){return e?!!(typeof Event<"u"&&tn(Event)&&e instanceof Event||e&&e.srcElement):!1}function RT(e,t){return t in e&&e[t]!==sh}function An(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!An(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!An(r[1],t.get(r[0])))return!1;return!0}if(PT(e)&&PT(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,r=n;r--!==0;){var s=o[r];if(!An(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function PT(e){return V4?e instanceof File:!1}function DT(e,t,n){typeof n.value=="object"&&(n.value=gt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function gt(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(u){o.add(gt(u))})):s==="[object Map]"?(o=new Map,e.forEach(function(u,l){o.set(gt(l),gt(u))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(gt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)DT(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||DT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function d_(e){return cd(e)?e.replace(/\[|\]/gi,""):e}function Rn(e,t,n){return e?cd(t)?e[d_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>U4(o)&&s in o?o[s]:n,e):n}function Mo(e,t,n){if(cd(t)){e[d_(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||Sx(o[r[s]]))&&(o[r[s]]=f_(r[s+1])?[]:{}),o=o[r[s]]}}function pg(e,t){if(Array.isArray(e)&&f_(t)){e.splice(Number(t),1);return}ss(e)&&delete e[t]}function LT(e,t){if(cd(t)){delete e[d_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){pg(r,n[s]);break}if(!(n[s]in r)||Sx(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,u)=>Rn(e,n.slice(0,u).join(".")));for(let s=o.length-1;s>=0;s--)if(j4(o[s])){if(s===0){pg(e,n[0]);continue}pg(o[s-1],n[s-1])}}function qr(e){return Object.keys(e)}function Cx(e,t=void 0){const n=_c();return(n==null?void 0:n.provides[e])||lr(e,t)}function MT(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>An(s,t));return o>=0?r.splice(o,1):r.push(t),r}return An(e,t)?n:t}function FT(e,t=0){let n=null,r=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...o);r.forEach(u=>u(s)),r=[]},t),new Promise(s=>r.push(s))}}function H4(e,t){return ss(t)&&t.number?O4(e):e}function mv(e,t){let n;return async function(...o){const s=e(...o);n=s;const u=await s;return s!==n||(n=void 0,t(u,o)),u}}function gv(e){return Array.isArray(e)?e:e?[e]:[]}function Su(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function K4(e){let t=null,n=[];return function(...r){const o=ii(()=>{if(t!==o)return;const s=e(...r);n.forEach(u=>u(s)),n=[],t=null});return t=o,new Promise(s=>n.push(s))}}const p_=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default;function mg(e){if(Nx(e))return e._value}function Nx(e){return"_value"in e}function G4(e){return e.type==="number"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function uh(e){if(!h_(e))return e;const t=e.target;if(Bc(t.type)&&Nx(t))return mg(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(B4(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(mg);if(kx(t)){const n=Array.from(t.options).find(r=>r.selected);return n?mg(n):t.value}return G4(t)}function Ox(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?ss(e)&&e._$$isNormalized?e:ss(e)?Object.keys(e).reduce((n,r)=>{const o=z4(e[r]);return e[r]!==!1&&(n[r]=VT(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=W4(r);return o.name&&(n[o.name]=VT(o.params)),n},t):t}function z4(e){return e===!0?[]:Array.isArray(e)||ss(e)?e:[e]}function VT(e){const t=n=>typeof n=="string"&&n[0]==="@"?X4(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const W4=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function X4(e){const t=n=>Rn(n,e)||n[e];return t.__locatorRef=e,t}function Y4(e){return Array.isArray(e)?e.filter(pv):qr(e).filter(t=>pv(e[t])).map(t=>e[t])}const Q4={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let vv=Object.assign({},Q4);const Bi=()=>vv,J4=e=>{vv=Object.assign(Object.assign({},vv),e)},Z4=J4;async function Rx(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},u=(await e$(o,e)).errors;return{errors:u,valid:!u.length}}async function e$(e,t){if(to(e.rules)||ah(e.rules))return n$(t,e.rules);if(tn(e.rules)||Array.isArray(e.rules)){const u={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,p=[];for(let g=0;g<f;g++){const h=l[g],m=await h(t,u);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))p.push(...m);else{const _=typeof m=="string"?m:Dx(u);p.push(_)}if(e.bails)return{errors:p}}}return{errors:p}}const n=Object.assign(Object.assign({},e),{rules:Ox(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let u=0;u<s;u++){const l=o[u],f=await r$(n,t,{name:l,params:n.rules[l]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}function t$(e){return!!e&&e.name==="ValidationError"}function Px(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!t$(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((u,l)=>{const f=l.path||"";return u[f]||(u[f]={errors:[],path:f}),u[f].errors.push(...l.errors),u},{});return{errors:Object.values(s)}}}}}async function n$(e,t){const r=await(to(t)?t:Px(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function r$(e,t,n){const r=L4(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=i$(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},u=await r(t,o,s);return typeof u=="string"?{error:u}:{error:u?void 0:Dx(s)}}function Dx(e){const t=Bi().generateMessage;return t?t(e):"Field is invalid"}function i$(e,t){const n=r=>pv(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function o$(e,t){const r=await(to(e)?e:Px(e)).parse(t),o={},s={};for(const u of r.errors){const l=u.errors,f=(u.path||"").replace(/\["(\d+)"\]/g,(p,g)=>`[${g}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function s$(e,t,n){const o=qr(e).map(async p=>{var g,h,m;const y=(g=n==null?void 0:n.names)===null||g===void 0?void 0:g[p],_=await Rx(Rn(t,p),e[p],{name:(y==null?void 0:y.name)||p,label:y==null?void 0:y.label,values:t,bails:(m=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[p])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:p})});let s=!0;const u=await Promise.all(o),l={},f={};for(const p of u)l[p.path]={valid:p.valid,errors:p.errors},p.valid||(s=!1,f[p.path]=p.errors[0]);return{valid:s,results:l,errors:f}}let UT=0;function a$(e,t){const{value:n,initialValue:r,setInitialValue:o}=u$(e,t.modelValue,t.form);if(!t.form){let m=function(_){var I;"value"in _&&(n.value=_.value),"errors"in _&&p(_.errors),"touched"in _&&(h.touched=(I=_.touched)!==null&&I!==void 0?I:h.touched),"initialValue"in _&&o(_.initialValue)};var l=m;const{errors:f,setErrors:p}=f$(),g=UT>=Number.MAX_SAFE_INTEGER?0:++UT,h=l$(n,r,f);return{id:g,path:e,value:n,initialValue:r,meta:h,flags:{pendingUnmount:{[g]:!1}},errors:f,setState:m}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),u=Be(()=>s.errors);function l(f){var p,g,h;"value"in f&&(n.value=f.value),"errors"in f&&((p=t.form)===null||p===void 0||p.setFieldError(Re(e),f.errors)),"touched"in f&&((g=t.form)===null||g===void 0||g.setFieldTouched(Re(e),(h=f.touched)!==null&&h!==void 0?h:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:u,meta:s,initialValue:r,flags:s.__flags,setState:l}}function u$(e,t,n){const r=bn(Re(t));function o(){return n?Rn(n.initialValues.value,Re(e),Re(r)):Re(r)}function s(p){if(!n){r.value=p;return}n.stageInitialValue(Re(e),p,!0)}const u=Be(o);if(!n)return{value:bn(o()),initialValue:u,setInitialValue:s};const l=c$(t,n,u,e);return n.stageInitialValue(Re(e),l,!0),{value:Be({get(){return Rn(n.values,Re(e))},set(p){n.setFieldValue(Re(e),p,!1)}}),initialValue:u,setInitialValue:s}}function c$(e,t,n,r){return lt(e)?Re(e):e!==void 0?e:Rn(t.values,Re(r),Re(n))}function l$(e,t,n){const r=hi({touched:!1,pending:!1,valid:!0,validated:!!Re(n).length,initialValue:Be(()=>Re(t)),dirty:Be(()=>!An(Re(e),Re(t)))});return Jn(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function f$(){const e=bn([]);return{errors:e,setErrors:t=>{e.value=gv(t)}}}function h$(e,t,n){return Bc(n==null?void 0:n.type)?p$(e,t,n):Lx(e,t,n)}function Lx(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:u,checkedValue:l,label:f,validateOnValueUpdate:p,uncheckedValue:g,controlled:h,keepValueOnUnmount:m,syncVModel:y,form:_}=d$(n),I=h?Cx(ud):void 0,E=_||I,T=Be(()=>Ou(wr(e))),C=Be(()=>{if(Re(E==null?void 0:E.schema))return;const _e=Re(t);return ah(_e)||to(_e)||tn(_e)||Array.isArray(_e)?_e:Ox(_e)}),{id:P,value:L,initialValue:X,meta:U,setState:ue,errors:V,flags:H}=a$(T,{modelValue:r,form:E,bails:s,label:f,type:u,validate:C.value?He:void 0}),k=Be(()=>V.value[0]);y&&m$({value:L,prop:y,handleChange:le});const Ne=(ge,_e=!1)=>{U.touched=!0,_e&&ke()};async function oe(ge){var _e,F;return E!=null&&E.validateSchema?(_e=(await E.validateSchema(ge)).results[Re(T)])!==null&&_e!==void 0?_e:{valid:!0,errors:[]}:C.value?Rx(L.value,C.value,{name:Re(T),label:Re(f),values:(F=E==null?void 0:E.values)!==null&&F!==void 0?F:{},bails:s}):{valid:!0,errors:[]}}const ke=mv(async()=>(U.pending=!0,U.validated=!0,oe("validated-only")),ge=>{if(!H.pendingUnmount[dt.id])return ue({errors:ge.errors}),U.pending=!1,U.valid=ge.valid,ge}),Fe=mv(async()=>oe("silent"),ge=>(U.valid=ge.valid,ge));function He(ge){return(ge==null?void 0:ge.mode)==="silent"?Fe():ke()}function le(ge,_e=!0){const F=uh(ge);Et(F,_e)}yh(()=>{if(o)return ke();(!E||!E.validateSchema)&&Fe()});function Ve(ge){U.touched=ge}function ye(ge){var _e;const F=ge&&"value"in ge?ge.value:X.value;ue({value:gt(F),initialValue:gt(F),touched:(_e=ge==null?void 0:ge.touched)!==null&&_e!==void 0?_e:!1,errors:(ge==null?void 0:ge.errors)||[]}),U.pending=!1,U.validated=!1,Fe()}const ht=_c();function Et(ge,_e=!0){L.value=ht&&y?H4(ge,ht.props.modelModifiers):ge,(_e?ke:Fe)()}function Bt(ge){ue({errors:Array.isArray(ge)?ge:[ge]})}const Rt=Be({get(){return L.value},set(ge){Et(ge,p)}}),dt={id:P,name:T,label:f,value:Rt,meta:U,errors:V,errorMessage:k,type:u,checkedValue:l,uncheckedValue:g,bails:s,keepValueOnUnmount:m,resetField:ye,handleReset:()=>ye(),validate:He,handleChange:le,handleBlur:Ne,setState:ue,setTouched:Ve,setErrors:Bt,setValue:Et};if(Js(F4,dt),lt(t)&&typeof Re(t)!="function"&&Jn(t,(ge,_e)=>{An(ge,_e)||(U.validated?ke():Fe())},{deep:!0}),!E)return dt;const Bn=Be(()=>{const ge=C.value;return!ge||tn(ge)||ah(ge)||to(ge)||Array.isArray(ge)?{}:Object.keys(ge).reduce((_e,F)=>{const K=Y4(ge[F]).map(ne=>ne.__locatorRef).reduce((ne,fe)=>{const Oe=Rn(E.values,fe)||E.values[fe];return Oe!==void 0&&(ne[fe]=Oe),ne},{});return Object.assign(_e,K),_e},{})});return Jn(Bn,(ge,_e)=>{if(!Object.keys(ge).length)return;!An(ge,_e)&&(U.validated?ke():Fe())}),Dv(()=>{var ge;const _e=(ge=Re(dt.keepValueOnUnmount))!==null&&ge!==void 0?ge:Re(E.keepValuesOnUnmount),F=wr(T);if(_e||!E||H.pendingUnmount[dt.id]){E==null||E.removePathState(F,P);return}H.pendingUnmount[dt.id]=!0;const K=E.getPathState(F);if(Array.isArray(K==null?void 0:K.id)&&(K!=null&&K.multiple)?K!=null&&K.id.includes(dt.id):(K==null?void 0:K.id)===dt.id){if(K!=null&&K.multiple&&Array.isArray(K.value)){const fe=K.value.findIndex(Oe=>An(Oe,Re(dt.checkedValue)));if(fe>-1){const Oe=[...K.value];Oe.splice(fe,1),E.setFieldValue(F,Oe)}Array.isArray(K.id)&&K.id.splice(K.id.indexOf(dt.id),1)}else E.unsetPathValue(wr(T));E.removePathState(F,P)}}),dt}function d$(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),r=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?yv(_c(),r):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,u="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:u??!0,checkedValue:s,syncVModel:l})}function p$(e,t,n){const r=n!=null&&n.standalone?void 0:Cx(ud),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(l){const f=l.handleChange,p=Be(()=>{const h=Re(l.value),m=Re(o);return Array.isArray(h)?h.findIndex(y=>An(y,m))>=0:An(m,h)});function g(h,m=!0){var y,_;if(p.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){m&&l.validate();return}const I=wr(e),E=r==null?void 0:r.getPathState(I),T=uh(h);let C=(_=Re(o))!==null&&_!==void 0?_:T;r&&(E!=null&&E.multiple)&&E.type==="checkbox"?C=MT(Rn(r.values,I)||[],C,void 0):(n==null?void 0:n.type)==="checkbox"&&(C=MT(Re(l.value),C,Re(s))),f(C,m)}return Object.assign(Object.assign({},l),{checked:p,checkedValue:o,uncheckedValue:s,handleChange:g})}return u(Lx(e,t,n))}function m$({prop:e,value:t,handleChange:n}){const r=_c();if(!r||!e)return;const o=typeof e=="string"?e:"modelValue",s=`update:${o}`;o in r.props&&(Jn(t,u=>{An(u,yv(r,o))||r.emit(s,u)}),Jn(()=>yv(r,o),u=>{if(u===sh&&t.value===void 0)return;const l=u===sh?void 0:u;An(l,t.value)||n(l)}))}function yv(e,t){if(e)return e.props[t]}const g$=vc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Bi().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:sh},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Mi(e,"rules"),r=Mi(e,"name"),o=Mi(e,"label"),s=Mi(e,"uncheckedValue"),u=Mi(e,"keepValue"),{errors:l,value:f,errorMessage:p,validate:g,handleChange:h,handleBlur:m,setTouched:y,resetField:_,handleReset:I,meta:E,checked:T,setErrors:C}=h$(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:y$(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:u,syncVModel:!0}),P=function(H,k=!0){h(H,k),t.emit("update:modelValue",f.value)},L=Be(()=>{const{validateOnInput:V,validateOnChange:H,validateOnBlur:k,validateOnModelUpdate:Ne}=v$(e);function oe(le){m(le,k),tn(t.attrs.onBlur)&&t.attrs.onBlur(le)}function ke(le){P(le,V),tn(t.attrs.onInput)&&t.attrs.onInput(le)}function Fe(le){P(le,H),tn(t.attrs.onChange)&&t.attrs.onChange(le)}const He={name:e.name,onBlur:oe,onInput:ke,onChange:Fe};return He["onUpdate:modelValue"]=le=>P(le,Ne),He}),X=Be(()=>{const V=Object.assign({},L.value);Bc(t.attrs.type)&&T&&(V.checked=T.value);const H=jT(e,t);return $4(H,t.attrs)&&(V.value=f.value),V}),U=Be(()=>Object.assign(Object.assign({},L.value),{modelValue:f.value}));function ue(){return{field:X.value,componentField:U.value,value:f.value,meta:E,errors:l.value,errorMessage:p.value,validate:g,resetField:_,handleChange:P,handleInput:V=>P(V,!1),handleReset:I,handleBlur:L.value.onBlur,setTouched:y,setErrors:C}}return t.expose({setErrors:C,setTouched:y,reset:_,validate:g,handleChange:h}),()=>{const V=_h(jT(e,t)),H=p_(V,t,ue);return V?Jo(V,Object.assign(Object.assign({},t.attrs),X.value),H):H}}});function jT(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function v$(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:u,validateOnBlur:l,validateOnModelUpdate:f}=Bi();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function y$(e,t){return Bc(t.attrs.type)?RT(e,"modelValue")?e.modelValue:void 0:RT(e,"modelValue")?e.modelValue:t.attrs.value}const _$=g$;let w$=0;const Au=["bails","fieldsCount","id","multiple","type","validate"];function Mx(e){const t=Re(e==null?void 0:e.initialValues)||{},n=Re(e==null?void 0:e.validationSchema);return n&&to(n)&&tn(n.cast)?gt(n.cast(t)||{}):gt(t)}function b$(e){var t;const n=w$++;let r=0;const o=bn(!1),s=bn(!1),u=bn(0),l=[],f=hi(Mx(e)),p=bn([]),g=bn({}),h=bn({}),m=K4(()=>{h.value=p.value.reduce((N,O)=>(N[Ou(wr(O.path))]=O,N),{})});function y(N,O){const B=le(N);if(!B){typeof N=="string"&&(g.value[Ou(N)]=gv(O));return}if(typeof N=="string"){const W=Ou(N);g.value[W]&&delete g.value[W]}B.errors=gv(O),B.valid=!B.errors.length}function _(N){qr(N).forEach(O=>{y(O,N[O])})}e!=null&&e.initialErrors&&_(e.initialErrors);const I=Be(()=>{const N=p.value.reduce((O,B)=>(B.errors.length&&(O[B.path]=B.errors),O),{});return Object.assign(Object.assign({},g.value),N)}),E=Be(()=>qr(I.value).reduce((N,O)=>{const B=I.value[O];return B!=null&&B.length&&(N[O]=B[0]),N},{})),T=Be(()=>p.value.reduce((N,O)=>(N[O.path]={name:O.path||"",label:O.label||""},N),{})),C=Be(()=>p.value.reduce((N,O)=>{var B;return N[O.path]=(B=O.bails)!==null&&B!==void 0?B:!0,N},{})),P=Object.assign({},(e==null?void 0:e.initialErrors)||{}),L=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:X,originalInitialValues:U,setInitialValues:ue}=E$(p,f,e),V=I$(p,f,U,E),H=Be(()=>p.value.reduce((N,O)=>{const B=Rn(f,O.path);return Mo(N,O.path,B),N},{})),k=e==null?void 0:e.validationSchema;function Ne(N,O){var B,W;const de=Be(()=>Rn(X.value,wr(N))),ce=h.value[wr(N)];if(ce){((O==null?void 0:O.type)==="checkbox"||(O==null?void 0:O.type)==="radio")&&(ce.multiple=!0);const vt=r++;return Array.isArray(ce.id)?ce.id.push(vt):ce.id=[ce.id,vt],ce.fieldsCount++,ce.__flags.pendingUnmount[vt]=!1,ce}const De=Be(()=>Rn(f,wr(N))),Xe=wr(N),Se=r++,Ge=hi({id:Se,path:N,touched:!1,pending:!1,valid:!0,validated:!!(!((B=P[Xe])===null||B===void 0)&&B.length),initialValue:de,errors:hS([]),bails:(W=O==null?void 0:O.bails)!==null&&W!==void 0?W:!1,label:O==null?void 0:O.label,type:(O==null?void 0:O.type)||"default",value:De,multiple:!1,__flags:{pendingUnmount:{[Se]:!1}},fieldsCount:1,validate:O==null?void 0:O.validate,dirty:Be(()=>!An(Re(De),Re(de)))});return p.value.push(Ge),h.value[Xe]=Ge,m(),E.value[Xe]&&!P[Xe]&&ii(()=>{$(Xe,{mode:"silent"})}),lt(N)&&Jn(N,vt=>{m();const st=gt(De.value);h.value[vt]=Ge,ii(()=>{Mo(f,vt,st)})}),Ge}const oe=FT(ie,5),ke=FT(ie,5),Fe=mv(async N=>await N==="silent"?oe():ke(),(N,[O])=>{const B=qr(_e.errorBag.value);return[...new Set([...qr(N.results),...p.value.map(de=>de.path),...B])].sort().reduce((de,ce)=>{const De=ce,Xe=le(De)||Ve(De),Se=(N.results[De]||{errors:[]}).errors,Ge={errors:Se,valid:!Se.length};return de.results[De]=Ge,Ge.valid||(de.errors[De]=Ge.errors[0]),Xe&&g.value[De]&&delete g.value[De],Xe?(Xe.valid=Ge.valid,O==="silent"||O==="validated-only"&&!Xe.validated||y(Xe,Ge.errors),de):(y(De,Se),de)},{valid:N.valid,results:{},errors:{}})});function He(N){p.value.forEach(N)}function le(N){const O=typeof N=="string"?Ou(N):N;return typeof O=="string"?h.value[O]:O}function Ve(N){return p.value.filter(B=>N.startsWith(B.path)).reduce((B,W)=>B?W.path.length>B.path.length?W:B:W,void 0)}let ye=[],ht;function Et(N){return ye.push(N),ht||(ht=ii(()=>{[...ye].sort().reverse().forEach(B=>{LT(f,B)}),ye=[],ht=null})),ht}function Bt(N){return function(B,W){return function(ce){return ce instanceof Event&&(ce.preventDefault(),ce.stopPropagation()),He(De=>De.touched=!0),o.value=!0,u.value++,j().then(De=>{const Xe=gt(f);if(De.valid&&typeof B=="function"){const Se=gt(H.value);let Ge=N?Se:Xe;return De.values&&(Ge=De.values),B(Ge,{evt:ce,controlledValues:Se,setErrors:_,setFieldError:y,setTouched:A,setFieldTouched:Oe,setValues:K,setFieldValue:F,resetForm:R,resetField:x})}!De.valid&&typeof W=="function"&&W({values:Xe,evt:ce,errors:De.errors,results:De.results})}).then(De=>(o.value=!1,De),De=>{throw o.value=!1,De})}}}const dt=Bt(!1);dt.withControlled=Bt(!0);function Bn(N,O){const B=p.value.findIndex(de=>de.path===N),W=p.value[B];if(!(B===-1||!W)){if(ii(()=>{$(N,{mode:"silent",warn:!1})}),W.multiple&&W.fieldsCount&&W.fieldsCount--,Array.isArray(W.id)){const de=W.id.indexOf(O);de>=0&&W.id.splice(de,1),delete W.__flags.pendingUnmount[O]}(!W.multiple||W.fieldsCount<=0)&&(p.value.splice(B,1),Q(N),m(),delete h.value[N])}}function ge(N){return He(O=>{O.path.startsWith(N)&&qr(O.__flags.pendingUnmount).forEach(B=>{O.__flags.pendingUnmount[B]=!0})})}const _e={formId:n,values:f,controlledValues:H,errorBag:I,errors:E,schema:k,submitCount:u,meta:V,isSubmitting:o,isValidating:s,fieldArrays:l,keepValuesOnUnmount:L,validateSchema:Re(k)?Fe:void 0,validate:j,setFieldError:y,validateField:$,setFieldValue:F,setValues:K,setErrors:_,setFieldTouched:Oe,setTouched:A,resetForm:R,resetField:x,handleSubmit:dt,stageInitialValue:se,unsetInitialValue:Q,setFieldInitialValue:te,useFieldModel:fe,createPathState:Ne,getPathState:le,unsetPathValue:Et,removePathState:Bn,initialValues:X,getAllPathStates:()=>p.value,markForUnmount:ge};function F(N,O,B=!0){const W=gt(O),de=typeof N=="string"?N:N.path;le(de)||Ne(de),Mo(f,de,W),B&&$(de)}function K(N,O=!0){oh(f,N),l.forEach(B=>B&&B.reset()),O&&j()}function ne(N){const O=le(Re(N))||Ne(N);return Be({get(){return O.value},set(B){const W=Re(N);F(W,B,!1),O.validated=!0,O.pending=!0,$(W).then(()=>{O.pending=!1})}})}function fe(N){return Array.isArray(N)?N.map(ne):ne(N)}function Oe(N,O){const B=le(N);B&&(B.touched=O)}function A(N){qr(N).forEach(O=>{Oe(O,!!N[O])})}function x(N,O){var B;const W=O&&"value"in O?O.value:Rn(X.value,N);te(N,gt(W)),F(N,W,!1),Oe(N,(B=O==null?void 0:O.touched)!==null&&B!==void 0?B:!1),y(N,(O==null?void 0:O.errors)||[])}function R(N){let O=N!=null&&N.values?N.values:U.value;O=to(k)&&tn(k.cast)?k.cast(O):O,ue(O),He(B=>{var W;B.validated=!1,B.touched=((W=N==null?void 0:N.touched)===null||W===void 0?void 0:W[B.path])||!1,F(B.path,Rn(O,B.path),!1),y(B.path,void 0)}),K(O,!1),_((N==null?void 0:N.errors)||{}),u.value=(N==null?void 0:N.submitCount)||0,ii(()=>{j({mode:"silent"})})}async function j(N){const O=(N==null?void 0:N.mode)||"force";if(O==="force"&&He(ce=>ce.validated=!0),_e.validateSchema)return _e.validateSchema(O);s.value=!0;const B=await Promise.all(p.value.map(ce=>ce.validate?ce.validate(N).then(De=>({key:ce.path,valid:De.valid,errors:De.errors})):Promise.resolve({key:ce.path,valid:!0,errors:[]})));s.value=!1;const W={},de={};for(const ce of B)W[ce.key]={valid:ce.valid,errors:ce.errors},ce.errors.length&&(de[ce.key]=ce.errors[0]);return{valid:B.every(ce=>ce.valid),results:W,errors:de}}async function $(N,O){var B;const W=le(N);if(W&&(W.validated=!0),k){const{results:de}=await Fe((O==null?void 0:O.mode)||"validated-only");return de[N]||{errors:[],valid:!0}}return W!=null&&W.validate?W.validate(O):(!W&&(B=O==null?void 0:O.warn),Promise.resolve({errors:[],valid:!0}))}function Q(N){LT(X.value,N)}function se(N,O,B=!1){te(N,O),Mo(f,N,O),B&&!(e!=null&&e.initialValues)&&Mo(U.value,N,gt(O))}function te(N,O){Mo(X.value,N,gt(O))}async function ie(){const N=Re(k);if(!N)return{valid:!0,results:{},errors:{}};s.value=!0;const O=ah(N)||to(N)?await o$(N,f):await s$(N,f,{names:T.value,bailsMap:C.value});return s.value=!1,O}const Z=dt((N,{evt:O})=>{xx(O)&&O.target.submit()});yh(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&A(e.initialTouched),e!=null&&e.validateOnMount){j();return}_e.validateSchema&&_e.validateSchema("silent")}),lt(k)&&Jn(k,()=>{var N;(N=_e.validateSchema)===null||N===void 0||N.call(_e,"validated-only")}),Js(ud,_e);function be(N,O){const B=le(wr(N))||Ne(N),W=()=>tn(O)?O(Su(B,Au)):O||{};function de(){var Xe;B.touched=!0,((Xe=W().validateOnBlur)!==null&&Xe!==void 0?Xe:Bi().validateOnBlur)&&$(B.path)}function ce(Xe){var Se;const Ge=(Se=W().validateOnModelUpdate)!==null&&Se!==void 0?Se:Bi().validateOnModelUpdate;F(B.path,Xe,Ge)}return Be(()=>{if(tn(O)){const Ge=O(B),vt=Ge.model||"modelValue";return Object.assign({onBlur:de,[vt]:B.value,[`onUpdate:${vt}`]:ce},Ge.props||{})}const Xe=(O==null?void 0:O.model)||"modelValue",Se={onBlur:de,[Xe]:B.value,[`onUpdate:${Xe}`]:ce};return O!=null&&O.mapProps?Object.assign(Object.assign({},Se),O.mapProps(Su(B,Au))):Se})}function pe(N,O){const B=le(wr(N))||Ne(N),W=()=>tn(O)?O(Su(B,Au)):O||{};function de(){var Se;B.touched=!0,((Se=W().validateOnBlur)!==null&&Se!==void 0?Se:Bi().validateOnBlur)&&$(B.path)}function ce(Se){var Ge;const vt=uh(Se),st=(Ge=W().validateOnInput)!==null&&Ge!==void 0?Ge:Bi().validateOnInput;F(B.path,vt,st)}function De(Se){var Ge;const vt=uh(Se),st=(Ge=W().validateOnChange)!==null&&Ge!==void 0?Ge:Bi().validateOnChange;F(B.path,vt,st)}return Be(()=>{const Se={value:B.value,onChange:De,onInput:ce,onBlur:de};return tn(O)?Object.assign(Object.assign({},Se),O(Su(B,Au)).attrs||{}):O!=null&&O.mapAttrs?Object.assign(Object.assign({},Se),O.mapAttrs(Su(B,Au))):Se})}return Object.assign(Object.assign({},_e),{values:xv(f),handleReset:()=>R(),submitForm:Z,defineComponentBinds:be,defineInputBinds:pe})}function I$(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=Be(()=>!An(t,Re(n)));function u(){const f=e.value;return qr(o).reduce((p,g)=>{const h=o[g];return p[g]=f[h](m=>m[g]),p},{})}const l=hi(u());return GP(()=>{const f=u();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Be(()=>Object.assign(Object.assign({initialValues:Re(n)},l),{valid:l.valid&&!qr(r.value).length,dirty:s.value}))}function E$(e,t,n){const r=Mx(n),o=n==null?void 0:n.initialValues,s=bn(r),u=bn(gt(r));function l(f,p=!1){s.value=oh(gt(s.value)||{},gt(f)),u.value=oh(gt(u.value)||{},gt(f)),p&&e.value.forEach(g=>{if(g.touched)return;const m=Rn(s.value,g.path);Mo(t,g.path,gt(m))})}return lt(o)&&Jn(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:u,setInitialValues:l}}const T$=vc({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Mi(e,"initialValues"),r=Mi(e,"validationSchema"),o=Mi(e,"keepValues"),{errors:s,errorBag:u,values:l,meta:f,isSubmitting:p,isValidating:g,submitCount:h,controlledValues:m,validate:y,validateField:_,handleReset:I,resetForm:E,handleSubmit:T,setErrors:C,setFieldError:P,setFieldValue:L,setValues:X,setFieldTouched:U,setTouched:ue,resetField:V}=b$({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),H=T((Ve,{evt:ye})=>{xx(ye)&&ye.target.submit()},e.onInvalidSubmit),k=e.onSubmit?T(e.onSubmit,e.onInvalidSubmit):H;function Ne(Ve){h_(Ve)&&Ve.preventDefault(),I(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function oe(Ve,ye){return T(typeof Ve=="function"&&!ye?Ve:ye,e.onInvalidSubmit)(Ve)}function ke(){return gt(l)}function Fe(){return gt(f.value)}function He(){return gt(s.value)}function le(){return{meta:f.value,errors:s.value,errorBag:u.value,values:l,isSubmitting:p.value,isValidating:g.value,submitCount:h.value,controlledValues:m.value,validate:y,validateField:_,handleSubmit:oe,handleReset:I,submitForm:H,setErrors:C,setFieldError:P,setFieldValue:L,setValues:X,setFieldTouched:U,setTouched:ue,resetForm:E,resetField:V,getValues:ke,getMeta:Fe,getErrors:He}}return t.expose({setFieldError:P,setErrors:C,setFieldValue:L,setValues:X,setFieldTouched:U,setTouched:ue,resetForm:E,validate:y,validateField:_,resetField:V,getValues:ke,getMeta:Fe,getErrors:He}),function(){const ye=e.as==="form"?e.as:_h(e.as),ht=p_(ye,t,le);if(!e.as)return ht;const Et=e.as==="form"?{novalidate:!0}:{};return Jo(ye,Object.assign(Object.assign(Object.assign({},Et),t.attrs),{onSubmit:k,onReset:Ne}),ht)}}}),S$=T$,A$=vc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=lr(ud,void 0),r=Be(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?_h(e.as):e.as,u=p_(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u!=null&&u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?Jo(s||"span",l,r.value):Jo(s,l,u)}}}),Fx=A$,k$={name:"Song",components:{ErrorMessage:Fx},data(){return{song:{},schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please wait! Your comment is being submitted.",comments:[],sort:"1",songheaderAddress:""}},computed:{...Th(Ma,["userLoggedIn"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}},async created(){const{sort:e}=this.$route.query;this.sort=e==="1"||e==="2"?e:"1";const t=await zr.doc(this.$route.params.id).get();if(!t.exists){this.$router.push({name:"home"});return}this.song=t.data(),this.getComments(),this.songheaderAddress=await eo.getStaticImage("song-header.png")},methods:{...Sh(rh,["newSong"]),async addComment(e,{resetForm:t}){this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait! Your comment is being submitted.";const n={content:e.comment,datePosted:new Date().toString(),sid:this.$route.params.id,uid:fr.currentUser.uid,name:fr.currentUser.displayName};n.formatDate=eo.formatDate(n.datePosted),await mT.add(n),this.song.comment_count+=1,await zr.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Comment added!",t(),setTimeout(()=>{this.comment_show_alert=!1},3e3)},async getComments(){const e=await mT.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})}}},x$={class:"w-full mb-8 py-14 text-center text-white relative"},C$={class:"px-5 container mx-auto flex items-center"},N$=D("i",{class:"fas fa-play"},null,-1),O$=[N$],R$={class:"z-50 text-left ml-8"},P$={class:"text-3xl font-bold"},D$={class:"p-5 grid grid-cols-1 md:grid-cols-3 gap-0 md:gap-10 container mx-auto mt-6",id:"comments"},L$={class:"col-span-1"},M$=["src"],F$={class:"mt-8 md:mt-0 text-white relative flex flex-col col-span-2"},V$={class:"py-5 font-bold text-2xl items-center text-white flex flex-row-reverse justify-end"},U$={class:"card-title"},j$=D("i",{class:"fa fa-comments text-green-600 text-xl mr-2"},null,-1),B$={class:""},q$={class:"w-2/3"},$$=["dissabled"],H$={class:"block my-4 p-3 border border-gray-600 rounded"},K$=D("span",null,"Sort based on :",-1),G$={class:"container mx-auto"},z$={class:"mb-3 flex justify-between"},W$={class:"font-bold text-zinc-400 text-l"},X$=D("i",{class:"fa fa-user mr-1"},null,-1),Y$={class:"text-white"};function Q$(e,t,n,r,o,s){const u=It("vee-field"),l=It("ErrorMessage"),f=It("vee-form");return qe(),tt("main",null,[D("section",x$,[D("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:li({backgroundImage:"url("+o.songheaderAddress+")"})},null,4),D("div",C$,[D("button",{onClick:t[0]||(t[0]=$t(p=>e.newSong(o.song),["prevent"])),type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},O$),D("div",R$,[D("div",P$,Mt(o.song.modified_name),1),D("div",null,Mt(o.song.gener),1)])])]),D("section",D$,[D("div",L$,[D("img",{src:o.song.img_url,class:"w-full transition duration-700"},null,8,M$)]),D("div",F$,[D("div",V$,[D("span",U$,"Comments ("+Mt(o.song.comment_count)+")",1),j$]),D("div",B$,[o.comment_show_alert?(qe(),tt("div",{key:0,class:Xt(["text-white text-center font-bold rounded p-4 mb-4",o.comment_alert_variant])},Mt(o.comment_alert_message),3)):Qi("",!0),e.userLoggedIn?(qe(),Xi(f,{key:1,"validation-schema":o.schema,onSubmit:s.addComment,class:"flex justify-between"},{default:Ln(()=>[D("div",q$,[Ce(u,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-2",placeholder:"Your comment here..."}),Ce(l,{class:"text-red-500 block",name:"comment"})]),D("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block h-12",dissabled:o.comment_in_submission},"Submit comment",8,$$)]),_:1},8,["validation-schema","onSubmit"])):Qi("",!0),D("div",H$,[K$,D("label",{for:"latest",class:Xt(["mx-5",{"text-violet-300":o.sort==="1"}])},"Latest",2),Ki(D("input",{class:"hidden",id:"latest",type:"radio",name:"sortDir",value:"1","onUpdate:modelValue":t[1]||(t[1]=p=>o.sort=p)},null,512),[[PI,o.sort]]),D("label",{for:"oldest",class:Xt({"text-violet-300":o.sort==="2"})},"oldest",2),Ki(D("input",{class:"hidden",id:"oldest",type:"radio",name:"sortDir",value:"2","onUpdate:modelValue":t[2]||(t[2]=p=>o.sort=p)},null,512),[[PI,o.sort]])]),D("ul",G$,[(qe(!0),tt(en,null,yc(s.sortedComments,p=>(qe(),tt("li",{class:"p-5 border-b border-gray-600 text-gray-500",key:p.docID},[D("div",z$,[D("div",W$,[X$,Er(" "+Mt(p.name),1)]),D("time",null,Mt(p.formatDate),1)]),D("p",Y$,Mt(p.content),1)]))),128))])])])])])}const J$=tr(k$,[["render",Q$]]),Z$=[{name:"home",path:"/",component:L3},{name:"about",path:"/about",component:B3},{name:"manage",path:"/manage-music",component:N4,beforeEnter:(e,t,n)=>{n()}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:J$},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],Vx=h3({history:xq("/MusicLand/"),routes:Z$,linkExactActiveClass:"text-violet-400"});Vx.beforeEach((e,t,n)=>{n()});/**
  * vee-validate v4.10.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const lf={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},eH=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function qc(e,t){return Array.isArray(e)?e[0]:e[t]}function uo(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const Ux=(e,t)=>{if(uo(e))return!0;const n=eH(t);if(Array.isArray(e))return e.every(o=>Ux(o,{locale:n}));const r=String(e);return n?(lf[n]||lf.en).test(r):Object.keys(lf).some(o=>lf[o].test(r))},tH=(e,t)=>{const n=qc(t,"target");return String(e)===String(n)},nH=e=>{if(uo(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function rH(e){return e==null}function iH(e){return Array.isArray(e)&&e.length===0}const jx=(e,t)=>{if(uo(e))return!0;const n=qc(t,"length");return Array.isArray(e)?e.every(r=>jx(r,{length:n})):[...String(e)].length<=Number(n)},Bx=(e,t)=>{if(uo(e))return!0;const n=qc(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>Bx(r,{max:n})):Number(e)<=Number(n)},qx=(e,t)=>{if(uo(e))return!0;const n=qc(t,"length");return Array.isArray(e)?e.every(r=>qx(r,{length:n})):[...String(e)].length>=Number(n)},$x=(e,t)=>{if(uo(e))return!0;const n=qc(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>$x(r,{min:n})):Number(e)>=Number(n)},Hx=(e,t)=>uo(e)?!0:Array.isArray(e)?e.every(n=>Hx(n,t)):Array.from(t).some(n=>n==e),BT=(e,t)=>uo(e)?!0:!Hx(e,t),qT=e=>rH(e)||iH(e)||e===!1?!1:!!String(e).trim().length,oH={install(e){e.component("VeeForm",S$),e.component("VeeField",_$),e.component("ErrorMessage",Fx),yr("required",qT),yr("tos",qT),yr("min",qx),yr("max",jx),yr("alpha_spaces",Ux),yr("email",nH),yr("min_value",$x),yr("max_value",Bx),yr("passwords_mismatch",tH),yr("excluded",BT),yr("country_excluded",BT),Z4({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too long.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}},sH={beforeMount(e,t){const n=`fa fa-${t.value} text-green-600 text-xl mr-2`;e.innerHTML+=`<i class="${n}"></i>`}};let Do;fr.onAuthStateChanged(()=>{Do||(Do=dL(lq),Do.use(gL()),Do.use(Vx),Do.use(oH),Do.directive("icon",sH),Do.mount("#app"))});

(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function wv(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const mt={},Ws=[],Er=()=>{},VR=()=>!1,UR=/^on[^a-z]/,lh=e=>UR.test(e),bv=e=>e.startsWith("onUpdate:"),jt=Object.assign,Iv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},jR=Object.prototype.hasOwnProperty,Ze=(e,t)=>jR.call(e,t),ke=Array.isArray,Xs=e=>mc(e)==="[object Map]",HT=e=>mc(e)==="[object Set]",Yb=e=>mc(e)==="[object Date]",Ue=e=>typeof e=="function",Rt=e=>typeof e=="string",qu=e=>typeof e=="symbol",ut=e=>e!==null&&typeof e=="object",KT=e=>ut(e)&&Ue(e.then)&&Ue(e.catch),GT=Object.prototype.toString,mc=e=>GT.call(e),BR=e=>mc(e).slice(8,-1),zT=e=>mc(e)==="[object Object]",Ev=e=>Rt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,lf=wv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},qR=/-(\w)/g,Wr=fh(e=>e.replace(qR,(t,n)=>n?n.toUpperCase():"")),$R=/\B([A-Z])/g,Ea=fh(e=>e.replace($R,"-$1").toLowerCase()),hh=fh(e=>e.charAt(0).toUpperCase()+e.slice(1)),jm=fh(e=>e?`on${hh(e)}`:""),$u=(e,t)=>!Object.is(e,t),ff=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ef=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},HR=e=>{const t=parseFloat(e);return isNaN(t)?e:t},KR=e=>{const t=Rt(e)?Number(e):NaN;return isNaN(t)?e:t};let Qb;const vg=()=>Qb||(Qb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yo(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Rt(r)?XR(r):Yo(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Rt(e))return e;if(ut(e))return e}}const GR=/;(?![^(]*\))/g,zR=/:([^]+)/,WR=/\/\*[^]*?\*\//g;function XR(e){const t={};return e.replace(WR,"").split(GR).forEach(n=>{if(n){const r=n.split(zR);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ut(e){let t="";if(Rt(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const r=Ut(e[n]);r&&(t+=r+" ")}else if(ut(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const YR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",QR=wv(YR);function WT(e){return!!e||e===""}function JR(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Tf(e[r],t[r]);return n}function Tf(e,t){if(e===t)return!0;let n=Yb(e),r=Yb(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=qu(e),r=qu(t),n||r)return e===t;if(n=ke(e),r=ke(t),n||r)return n&&r?JR(e,t):!1;if(n=ut(e),r=ut(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const l=e.hasOwnProperty(u),f=t.hasOwnProperty(u);if(l&&!f||!l&&f||!Tf(e[u],t[u]))return!1}}return String(e)===String(t)}const Ft=e=>Rt(e)?e:e==null?"":ke(e)||ut(e)&&(e.toString===GT||!Ue(e.toString))?JSON.stringify(e,XT,2):String(e),XT=(e,t)=>t&&t.__v_isRef?XT(e,t.value):Xs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:HT(t)?{[`Set(${t.size})`]:[...t.values()]}:ut(t)&&!ke(t)&&!zT(t)?String(t):t;let zn;class YT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=zn,!t&&zn&&(this.index=(zn.scopes||(zn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=zn;try{return zn=this,t()}finally{zn=n}}}on(){zn=this}off(){zn=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function QT(e){return new YT(e)}function ZR(e,t=zn){t&&t.active&&t.effects.push(e)}function JT(){return zn}function eP(e){zn&&zn.cleanups.push(e)}const Tv=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ZT=e=>(e.w&zi)>0,eS=e=>(e.n&zi)>0,tP=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=zi},nP=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];ZT(o)&&!eS(o)?o.delete(e):t[n++]=o,o.w&=~zi,o.n&=~zi}t.length=n}},Sf=new WeakMap;let Au=0,zi=1;const yg=30;let br;const Ho=Symbol(""),_g=Symbol("");class Sv{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ZR(this,r)}run(){if(!this.active)return this.fn();let t=br,n=Bi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=br,br=this,Bi=!0,zi=1<<++Au,Au<=yg?tP(this):Jb(this),this.fn()}finally{Au<=yg&&nP(this),zi=1<<--Au,br=this.parent,Bi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){br===this?this.deferStop=!0:this.active&&(Jb(this),this.onStop&&this.onStop(),this.active=!1)}}function Jb(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Bi=!0;const tS=[];function Ta(){tS.push(Bi),Bi=!1}function Sa(){const e=tS.pop();Bi=e===void 0?!0:e}function Vn(e,t,n){if(Bi&&br){let r=Sf.get(e);r||Sf.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Tv()),nS(o)}}function nS(e,t){let n=!1;Au<=yg?eS(e)||(e.n|=zi,n=!ZT(e)):n=!e.has(br),n&&(e.add(br),br.deps.push(e))}function li(e,t,n,r,o,s){const u=Sf.get(e);if(!u)return;let l=[];if(t==="clear")l=[...u.values()];else if(n==="length"&&ke(e)){const f=Number(r);u.forEach((p,g)=>{(g==="length"||g>=f)&&l.push(p)})}else switch(n!==void 0&&l.push(u.get(n)),t){case"add":ke(e)?Ev(n)&&l.push(u.get("length")):(l.push(u.get(Ho)),Xs(e)&&l.push(u.get(_g)));break;case"delete":ke(e)||(l.push(u.get(Ho)),Xs(e)&&l.push(u.get(_g)));break;case"set":Xs(e)&&l.push(u.get(Ho));break}if(l.length===1)l[0]&&wg(l[0]);else{const f=[];for(const p of l)p&&f.push(...p);wg(Tv(f))}}function wg(e,t){const n=ke(e)?e:[...e];for(const r of n)r.computed&&Zb(r);for(const r of n)r.computed||Zb(r)}function Zb(e,t){(e!==br||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function rP(e,t){var n;return(n=Sf.get(e))==null?void 0:n.get(t)}const iP=wv("__proto__,__v_isRef,__isVue"),rS=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(qu)),oP=Av(),sP=Av(!1,!0),aP=Av(!0),eI=uP();function uP(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Je(this);for(let s=0,u=this.length;s<u;s++)Vn(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(Je)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ta();const r=Je(this)[t].apply(this,n);return Sa(),r}}),e}function cP(e){const t=Je(this);return Vn(t,"has",e),t.hasOwnProperty(e)}function Av(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?SP:uS:t?aS:sS).get(r))return r;const u=ke(r);if(!e){if(u&&Ze(eI,o))return Reflect.get(eI,o,s);if(o==="hasOwnProperty")return cP}const l=Reflect.get(r,o,s);return(qu(o)?rS.has(o):iP(o))||(e||Vn(r,"get",o),t)?l:lt(l)?u&&Ev(o)?l:l.value:ut(l)?e?Cv(l):fi(l):l}}const lP=iS(),fP=iS(!0);function iS(e=!1){return function(n,r,o,s){let u=n[r];if(ea(u)&&lt(u)&&!lt(o))return!1;if(!e&&(!Af(o)&&!ea(o)&&(u=Je(u),o=Je(o)),!ke(n)&&lt(u)&&!lt(o)))return u.value=o,!0;const l=ke(n)&&Ev(r)?Number(r)<n.length:Ze(n,r),f=Reflect.set(n,r,o,s);return n===Je(s)&&(l?$u(o,u)&&li(n,"set",r,o):li(n,"add",r,o)),f}}function hP(e,t){const n=Ze(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&li(e,"delete",t,void 0),r}function dP(e,t){const n=Reflect.has(e,t);return(!qu(t)||!rS.has(t))&&Vn(e,"has",t),n}function pP(e){return Vn(e,"iterate",ke(e)?"length":Ho),Reflect.ownKeys(e)}const oS={get:oP,set:lP,deleteProperty:hP,has:dP,ownKeys:pP},mP={get:aP,set(e,t){return!0},deleteProperty(e,t){return!0}},gP=jt({},oS,{get:sP,set:fP}),kv=e=>e,dh=e=>Reflect.getPrototypeOf(e);function $l(e,t,n=!1,r=!1){e=e.__v_raw;const o=Je(e),s=Je(t);n||(t!==s&&Vn(o,"get",t),Vn(o,"get",s));const{has:u}=dh(o),l=r?kv:n?Nv:Hu;if(u.call(o,t))return l(e.get(t));if(u.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function Hl(e,t=!1){const n=this.__v_raw,r=Je(n),o=Je(e);return t||(e!==o&&Vn(r,"has",e),Vn(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Kl(e,t=!1){return e=e.__v_raw,!t&&Vn(Je(e),"iterate",Ho),Reflect.get(e,"size",e)}function tI(e){e=Je(e);const t=Je(this);return dh(t).has.call(t,e)||(t.add(e),li(t,"add",e,e)),this}function nI(e,t){t=Je(t);const n=Je(this),{has:r,get:o}=dh(n);let s=r.call(n,e);s||(e=Je(e),s=r.call(n,e));const u=o.call(n,e);return n.set(e,t),s?$u(t,u)&&li(n,"set",e,t):li(n,"add",e,t),this}function rI(e){const t=Je(this),{has:n,get:r}=dh(t);let o=n.call(t,e);o||(e=Je(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&li(t,"delete",e,void 0),s}function iI(){const e=Je(this),t=e.size!==0,n=e.clear();return t&&li(e,"clear",void 0,void 0),n}function Gl(e,t){return function(r,o){const s=this,u=s.__v_raw,l=Je(u),f=t?kv:e?Nv:Hu;return!e&&Vn(l,"iterate",Ho),u.forEach((p,g)=>r.call(o,f(p),f(g),s))}}function zl(e,t,n){return function(...r){const o=this.__v_raw,s=Je(o),u=Xs(s),l=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,p=o[e](...r),g=n?kv:t?Nv:Hu;return!t&&Vn(s,"iterate",f?_g:Ho),{next(){const{value:h,done:m}=p.next();return m?{value:h,done:m}:{value:l?[g(h[0]),g(h[1])]:g(h),done:m}},[Symbol.iterator](){return this}}}}function Ti(e){return function(...t){return e==="delete"?!1:this}}function vP(){const e={get(s){return $l(this,s)},get size(){return Kl(this)},has:Hl,add:tI,set:nI,delete:rI,clear:iI,forEach:Gl(!1,!1)},t={get(s){return $l(this,s,!1,!0)},get size(){return Kl(this)},has:Hl,add:tI,set:nI,delete:rI,clear:iI,forEach:Gl(!1,!0)},n={get(s){return $l(this,s,!0)},get size(){return Kl(this,!0)},has(s){return Hl.call(this,s,!0)},add:Ti("add"),set:Ti("set"),delete:Ti("delete"),clear:Ti("clear"),forEach:Gl(!0,!1)},r={get(s){return $l(this,s,!0,!0)},get size(){return Kl(this,!0)},has(s){return Hl.call(this,s,!0)},add:Ti("add"),set:Ti("set"),delete:Ti("delete"),clear:Ti("clear"),forEach:Gl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=zl(s,!1,!1),n[s]=zl(s,!0,!1),t[s]=zl(s,!1,!0),r[s]=zl(s,!0,!0)}),[e,n,t,r]}const[yP,_P,wP,bP]=vP();function xv(e,t){const n=t?e?bP:wP:e?_P:yP;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Ze(n,o)&&o in r?n:r,o,s)}const IP={get:xv(!1,!1)},EP={get:xv(!1,!0)},TP={get:xv(!0,!1)},sS=new WeakMap,aS=new WeakMap,uS=new WeakMap,SP=new WeakMap;function AP(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kP(e){return e.__v_skip||!Object.isExtensible(e)?0:AP(BR(e))}function fi(e){return ea(e)?e:Ov(e,!1,oS,IP,sS)}function cS(e){return Ov(e,!1,gP,EP,aS)}function Cv(e){return Ov(e,!0,mP,TP,uS)}function Ov(e,t,n,r,o){if(!ut(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const u=kP(e);if(u===0)return e;const l=new Proxy(e,u===2?r:n);return o.set(e,l),l}function qi(e){return ea(e)?qi(e.__v_raw):!!(e&&e.__v_isReactive)}function ea(e){return!!(e&&e.__v_isReadonly)}function Af(e){return!!(e&&e.__v_isShallow)}function lS(e){return qi(e)||ea(e)}function Je(e){const t=e&&e.__v_raw;return t?Je(t):e}function ph(e){return Ef(e,"__v_skip",!0),e}const Hu=e=>ut(e)?fi(e):e,Nv=e=>ut(e)?Cv(e):e;function fS(e){Bi&&br&&(e=Je(e),nS(e.dep||(e.dep=Tv())))}function hS(e,t){e=Je(e);const n=e.dep;n&&wg(n)}function lt(e){return!!(e&&e.__v_isRef===!0)}function En(e){return pS(e,!1)}function dS(e){return pS(e,!0)}function pS(e,t){return lt(e)?e:new xP(e,t)}class xP{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Je(t),this._value=n?t:Hu(t)}get value(){return fS(this),this._value}set value(t){const n=this.__v_isShallow||Af(t)||ea(t);t=n?t:Je(t),$u(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Hu(t),hS(this))}}function Re(e){return lt(e)?e.value:e}function wr(e){return Ue(e)?e():Re(e)}const CP={get:(e,t,n)=>Re(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return lt(o)&&!lt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function mS(e){return qi(e)?e:new Proxy(e,CP)}function OP(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=gS(e,n);return t}class NP{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return rP(Je(this._object),this._key)}}class RP{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Li(e,t,n){return lt(e)?e:Ue(e)?new RP(e):ut(e)&&arguments.length>1?gS(e,t,n):En(e)}function gS(e,t,n){const r=e[t];return lt(r)?r:new NP(e,t,n)}class PP{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Sv(t,()=>{this._dirty||(this._dirty=!0,hS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=Je(this);return fS(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function DP(e,t,n=!1){let r,o;const s=Ue(e);return s?(r=e,o=Er):(r=e.get,o=e.set),new PP(r,o,s||!o,n)}function $i(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){mh(s,t,n)}return o}function lr(e,t,n,r){if(Ue(e)){const s=$i(e,t,n,r);return s&&KT(s)&&s.catch(u=>{mh(u,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(lr(e[s],t,n,r));return o}function mh(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,l=n;for(;s;){const p=s.ec;if(p){for(let g=0;g<p.length;g++)if(p[g](e,u,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){$i(f,null,10,[e,u,l]);return}}LP(e,n,o,r)}function LP(e,t,n,r=!0){console.error(e)}let Ku=!1,bg=!1;const ln=[];let qr=0;const Ys=[];let ri=null,Lo=0;const vS=Promise.resolve();let Rv=null;function ii(e){const t=Rv||vS;return e?t.then(this?e.bind(this):e):t}function MP(e){let t=qr+1,n=ln.length;for(;t<n;){const r=t+n>>>1;Gu(ln[r])<e?t=r+1:n=r}return t}function Pv(e){(!ln.length||!ln.includes(e,Ku&&e.allowRecurse?qr+1:qr))&&(e.id==null?ln.push(e):ln.splice(MP(e.id),0,e),yS())}function yS(){!Ku&&!bg&&(bg=!0,Rv=vS.then(wS))}function FP(e){const t=ln.indexOf(e);t>qr&&ln.splice(t,1)}function VP(e){ke(e)?Ys.push(...e):(!ri||!ri.includes(e,e.allowRecurse?Lo+1:Lo))&&Ys.push(e),yS()}function oI(e,t=Ku?qr+1:0){for(;t<ln.length;t++){const n=ln[t];n&&n.pre&&(ln.splice(t,1),t--,n())}}function _S(e){if(Ys.length){const t=[...new Set(Ys)];if(Ys.length=0,ri){ri.push(...t);return}for(ri=t,ri.sort((n,r)=>Gu(n)-Gu(r)),Lo=0;Lo<ri.length;Lo++)ri[Lo]();ri=null,Lo=0}}const Gu=e=>e.id==null?1/0:e.id,UP=(e,t)=>{const n=Gu(e)-Gu(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function wS(e){bg=!1,Ku=!0,ln.sort(UP);const t=Er;try{for(qr=0;qr<ln.length;qr++){const n=ln[qr];n&&n.active!==!1&&$i(n,null,14)}}finally{qr=0,ln.length=0,_S(),Ku=!1,Rv=null,(ln.length||Ys.length)&&wS()}}function jP(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||mt;let o=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in r){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:h,trim:m}=r[g]||mt;m&&(o=n.map(y=>Rt(y)?y.trim():y)),h&&(o=n.map(HR))}let l,f=r[l=jm(t)]||r[l=jm(Wr(t))];!f&&s&&(f=r[l=jm(Ea(t))]),f&&lr(f,e,6,o);const p=r[l+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,lr(p,e,6,o)}}function bS(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let u={},l=!1;if(!Ue(e)){const f=p=>{const g=bS(p,t,!0);g&&(l=!0,jt(u,g))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(ut(e)&&r.set(e,null),null):(ke(s)?s.forEach(f=>u[f]=null):jt(u,s),ut(e)&&r.set(e,u),u)}function gh(e,t){return!e||!lh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ze(e,t[0].toLowerCase()+t.slice(1))||Ze(e,Ea(t))||Ze(e,t))}let Ln=null,IS=null;function kf(e){const t=Ln;return Ln=e,IS=e&&e.type.__scopeId||null,t}function fn(e,t=Ln,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&vI(-1);const s=kf(t);let u;try{u=e(...o)}finally{kf(s),r._d&&vI(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function Bm(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[u],slots:l,attrs:f,emit:p,render:g,renderCache:h,data:m,setupState:y,ctx:_,inheritAttrs:I}=e;let E,T;const C=kf(e);try{if(n.shapeFlag&4){const L=o||r;E=jr(g.call(L,L,h,s,y,m,_)),T=f}else{const L=t;E=jr(L.length>1?L(s,{attrs:f,slots:l,emit:p}):L(s,null)),T=t.props?f:BP(f)}}catch(L){Ru.length=0,mh(L,e,1),E=Ae(Tr)}let P=E;if(T&&I!==!1){const L=Object.keys(T),{shapeFlag:X}=P;L.length&&X&7&&(u&&L.some(bv)&&(T=qP(T,u)),P=Xi(P,T))}return n.dirs&&(P=Xi(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),E=P,kf(C),E}const BP=e=>{let t;for(const n in e)(n==="class"||n==="style"||lh(n))&&((t||(t={}))[n]=e[n]);return t},qP=(e,t)=>{const n={};for(const r in e)(!bv(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function $P(e,t,n){const{props:r,children:o,component:s}=e,{props:u,children:l,patchFlag:f}=t,p=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?sI(r,u,p):!!u;if(f&8){const g=t.dynamicProps;for(let h=0;h<g.length;h++){const m=g[h];if(u[m]!==r[m]&&!gh(p,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===u?!1:r?u?sI(r,u,p):!0:!!u;return!1}function sI(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!gh(n,s))return!0}return!1}function HP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const KP=e=>e.__isSuspense;function GP(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):VP(e)}function zP(e,t){return Dv(e,null,t)}const Wl={};function Zn(e,t,n){return Dv(e,t,n)}function Dv(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:u}=mt){var l;const f=JT()===((l=Kt)==null?void 0:l.scope)?Kt:null;let p,g=!1,h=!1;if(lt(e)?(p=()=>e.value,g=Af(e)):qi(e)?(p=()=>e,r=!0):ke(e)?(h=!0,g=e.some(L=>qi(L)||Af(L)),p=()=>e.map(L=>{if(lt(L))return L.value;if(qi(L))return Uo(L);if(Ue(L))return $i(L,f,2)})):Ue(e)?t?p=()=>$i(e,f,2):p=()=>{if(!(f&&f.isUnmounted))return m&&m(),lr(e,f,3,[y])}:p=Er,t&&r){const L=p;p=()=>Uo(L())}let m,y=L=>{m=C.onStop=()=>{$i(L,f,4)}},_;if(Xu)if(y=Er,t?n&&lr(t,f,3,[p(),h?[]:void 0,y]):p(),o==="sync"){const L=BD();_=L.__watcherHandles||(L.__watcherHandles=[])}else return Er;let I=h?new Array(e.length).fill(Wl):Wl;const E=()=>{if(C.active)if(t){const L=C.run();(r||g||(h?L.some((X,U)=>$u(X,I[U])):$u(L,I)))&&(m&&m(),lr(t,f,3,[L,I===Wl?void 0:h&&I[0]===Wl?[]:I,y]),I=L)}else C.run()};E.allowRecurse=!!t;let T;o==="sync"?T=E:o==="post"?T=()=>Pn(E,f&&f.suspense):(E.pre=!0,f&&(E.id=f.uid),T=()=>Pv(E));const C=new Sv(p,T);t?n?E():I=C.run():o==="post"?Pn(C.run.bind(C),f&&f.suspense):C.run();const P=()=>{C.stop(),f&&f.scope&&Iv(f.scope.effects,C)};return _&&_.push(P),P}function WP(e,t,n){const r=this.proxy,o=Rt(e)?e.includes(".")?ES(r,e):()=>r[e]:e.bind(r,r);let s;Ue(t)?s=t:(s=t.handler,n=t);const u=Kt;ta(this);const l=Dv(o,s.bind(r),n);return u?ta(u):Ko(),l}function ES(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Uo(e,t){if(!ut(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),lt(e))Uo(e.value,t);else if(ke(e))for(let n=0;n<e.length;n++)Uo(e[n],t);else if(HT(e)||Xs(e))e.forEach(n=>{Uo(n,t)});else if(zT(e))for(const n in e)Uo(e[n],t);return e}function Hi(e,t){const n=Ln;if(n===null)return e;const r=Eh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,l,f,p=mt]=t[s];u&&(Ue(u)&&(u={mounted:u,updated:u}),u.deep&&Uo(l),o.push({dir:u,instance:r,value:l,oldValue:void 0,arg:f,modifiers:p}))}return e}function ko(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const l=o[u];s&&(l.oldValue=s[u].value);let f=l.dir[r];f&&(Ta(),lr(f,n,8,[e.el,l,e,t]),Sa())}}function XP(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _h(()=>{e.isMounted=!0}),Lv(()=>{e.isUnmounting=!0}),e}const ar=[Function,Array],TS={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ar,onEnter:ar,onAfterEnter:ar,onEnterCancelled:ar,onBeforeLeave:ar,onLeave:ar,onAfterLeave:ar,onLeaveCancelled:ar,onBeforeAppear:ar,onAppear:ar,onAfterAppear:ar,onAppearCancelled:ar},YP={name:"BaseTransition",props:TS,setup(e,{slots:t}){const n=yc(),r=XP();let o;return()=>{const s=t.default&&AS(t.default(),!0);if(!s||!s.length)return;let u=s[0];if(s.length>1){for(const I of s)if(I.type!==Tr){u=I;break}}const l=Je(e),{mode:f}=l;if(r.isLeaving)return qm(u);const p=aI(u);if(!p)return qm(u);const g=Ig(p,l,r,n);Eg(p,g);const h=n.subTree,m=h&&aI(h);let y=!1;const{getTransitionKey:_}=p.type;if(_){const I=_();o===void 0?o=I:I!==o&&(o=I,y=!0)}if(m&&m.type!==Tr&&(!Mo(p,m)||y)){const I=Ig(m,l,r,n);if(Eg(m,I),f==="out-in")return r.isLeaving=!0,I.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},qm(u);f==="in-out"&&p.type!==Tr&&(I.delayLeave=(E,T,C)=>{const P=SS(r,m);P[String(m.key)]=m,E._leaveCb=()=>{T(),E._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=C})}return u}}},QP=YP;function SS(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ig(e,t,n,r){const{appear:o,mode:s,persisted:u=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:p,onEnterCancelled:g,onBeforeLeave:h,onLeave:m,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:I,onAppear:E,onAfterAppear:T,onAppearCancelled:C}=t,P=String(e.key),L=SS(n,e),X=(V,H)=>{V&&lr(V,r,9,H)},U=(V,H)=>{const k=H[1];X(V,H),ke(V)?V.every(Oe=>Oe.length<=1)&&k():V.length<=1&&k()},ue={mode:s,persisted:u,beforeEnter(V){let H=l;if(!n.isMounted)if(o)H=I||l;else return;V._leaveCb&&V._leaveCb(!0);const k=L[P];k&&Mo(e,k)&&k.el._leaveCb&&k.el._leaveCb(),X(H,[V])},enter(V){let H=f,k=p,Oe=g;if(!n.isMounted)if(o)H=E||f,k=T||p,Oe=C||g;else return;let oe=!1;const xe=V._enterCb=Fe=>{oe||(oe=!0,Fe?X(Oe,[V]):X(k,[V]),ue.delayedLeave&&ue.delayedLeave(),V._enterCb=void 0)};H?U(H,[V,xe]):xe()},leave(V,H){const k=String(e.key);if(V._enterCb&&V._enterCb(!0),n.isUnmounting)return H();X(h,[V]);let Oe=!1;const oe=V._leaveCb=xe=>{Oe||(Oe=!0,H(),xe?X(_,[V]):X(y,[V]),V._leaveCb=void 0,L[k]===e&&delete L[k])};L[k]=e,m?U(m,[V,oe]):oe()},clone(V){return Ig(V,t,n,r)}};return ue}function qm(e){if(vh(e))return e=Xi(e),e.children=null,e}function aI(e){return vh(e)?e.children?e.children[0]:void 0:e}function Eg(e,t){e.shapeFlag&6&&e.component?Eg(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function AS(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let u=e[s];const l=n==null?u.key:String(n)+String(u.key!=null?u.key:s);u.type===Yt?(u.patchFlag&128&&o++,r=r.concat(AS(u.children,t,l))):(t||u.type!==Tr)&&r.push(l!=null?Xi(u,{key:l}):u)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function gc(e,t){return Ue(e)?(()=>jt({name:e.name},t,{setup:e}))():e}const hf=e=>!!e.type.__asyncLoader,vh=e=>e.type.__isKeepAlive;function JP(e,t){kS(e,"a",t)}function ZP(e,t){kS(e,"da",t)}function kS(e,t,n=Kt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(yh(t,r,n),n){let o=n.parent;for(;o&&o.parent;)vh(o.parent.vnode)&&eD(r,t,n,o),o=o.parent}}function eD(e,t,n,r){const o=yh(t,e,r,!0);xS(()=>{Iv(r[t],o)},n)}function yh(e,t,n=Kt,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;Ta(),ta(n);const l=lr(t,n,e,u);return Ko(),Sa(),l});return r?o.unshift(s):o.push(s),s}}const di=e=>(t,n=Kt)=>(!Xu||e==="sp")&&yh(e,(...r)=>t(...r),n),tD=di("bm"),_h=di("m"),nD=di("bu"),rD=di("u"),Lv=di("bum"),xS=di("um"),iD=di("sp"),oD=di("rtg"),sD=di("rtc");function aD(e,t=Kt){yh("ec",e,t)}const Mv="components",uD="directives";function It(e,t){return Vv(Mv,e,!0,t)||e}const CS=Symbol.for("v-ndc");function wh(e){return Rt(e)?Vv(Mv,e,!1)||e:e||CS}function Fv(e){return Vv(uD,e)}function Vv(e,t,n=!0,r=!1){const o=Ln||Kt;if(o){const s=o.type;if(e===Mv){const l=VD(s,!1);if(l&&(l===t||l===Wr(t)||l===hh(Wr(t))))return s}const u=uI(o[e]||s[e],t)||uI(o.appContext[e],t);return!u&&r?s:u}}function uI(e,t){return e&&(e[t]||e[Wr(t)]||e[hh(Wr(t))])}function vc(e,t,n,r){let o;const s=n&&n[r];if(ke(e)||Rt(e)){o=new Array(e.length);for(let u=0,l=e.length;u<l;u++)o[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(ut(e))if(e[Symbol.iterator])o=Array.from(e,(u,l)=>t(u,l,void 0,s&&s[l]));else{const u=Object.keys(e);o=new Array(u.length);for(let l=0,f=u.length;l<f;l++){const p=u[l];o[l]=t(e[p],p,l,s&&s[l])}}else o=[];return n&&(n[r]=o),o}const Tg=e=>e?BS(e)?Eh(e)||e.proxy:Tg(e.parent):null,Nu=jt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tg(e.parent),$root:e=>Tg(e.root),$emit:e=>e.emit,$options:e=>Uv(e),$forceUpdate:e=>e.f||(e.f=()=>Pv(e.update)),$nextTick:e=>e.n||(e.n=ii.bind(e.proxy)),$watch:e=>WP.bind(e)}),$m=(e,t)=>e!==mt&&!e.__isScriptSetup&&Ze(e,t),cD={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:u,type:l,appContext:f}=e;let p;if(t[0]!=="$"){const y=u[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if($m(r,t))return u[t]=1,r[t];if(o!==mt&&Ze(o,t))return u[t]=2,o[t];if((p=e.propsOptions[0])&&Ze(p,t))return u[t]=3,s[t];if(n!==mt&&Ze(n,t))return u[t]=4,n[t];Sg&&(u[t]=0)}}const g=Nu[t];let h,m;if(g)return t==="$attrs"&&Vn(e,"get",t),g(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==mt&&Ze(n,t))return u[t]=4,n[t];if(m=f.config.globalProperties,Ze(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return $m(o,t)?(o[t]=n,!0):r!==mt&&Ze(r,t)?(r[t]=n,!0):Ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},u){let l;return!!n[u]||e!==mt&&Ze(e,u)||$m(t,u)||(l=s[0])&&Ze(l,u)||Ze(r,u)||Ze(Nu,u)||Ze(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ze(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function cI(e){return ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Sg=!0;function lD(e){const t=Uv(e),n=e.proxy,r=e.ctx;Sg=!1,t.beforeCreate&&lI(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:l,provide:f,inject:p,created:g,beforeMount:h,mounted:m,beforeUpdate:y,updated:_,activated:I,deactivated:E,beforeDestroy:T,beforeUnmount:C,destroyed:P,unmounted:L,render:X,renderTracked:U,renderTriggered:ue,errorCaptured:V,serverPrefetch:H,expose:k,inheritAttrs:Oe,components:oe,directives:xe,filters:Fe}=t;if(p&&fD(p,r,null),u)for(const Ve in u){const ye=u[Ve];Ue(ye)&&(r[Ve]=ye.bind(n))}if(o){const Ve=o.call(n,n);ut(Ve)&&(e.data=fi(Ve))}if(Sg=!0,s)for(const Ve in s){const ye=s[Ve],ht=Ue(ye)?ye.bind(n,n):Ue(ye.get)?ye.get.bind(n,n):Er,Et=!Ue(ye)&&Ue(ye.set)?ye.set.bind(n):Er,$t=qe({get:ht,set:Et});Object.defineProperty(r,Ve,{enumerable:!0,configurable:!0,get:()=>$t.value,set:Pt=>$t.value=Pt})}if(l)for(const Ve in l)OS(l[Ve],r,n,Ve);if(f){const Ve=Ue(f)?f.call(n):f;Reflect.ownKeys(Ve).forEach(ye=>{Qs(ye,Ve[ye])})}g&&lI(g,e,"c");function le(Ve,ye){ke(ye)?ye.forEach(ht=>Ve(ht.bind(n))):ye&&Ve(ye.bind(n))}if(le(tD,h),le(_h,m),le(nD,y),le(rD,_),le(JP,I),le(ZP,E),le(aD,V),le(sD,U),le(oD,ue),le(Lv,C),le(xS,L),le(iD,H),ke(k))if(k.length){const Ve=e.exposed||(e.exposed={});k.forEach(ye=>{Object.defineProperty(Ve,ye,{get:()=>n[ye],set:ht=>n[ye]=ht})})}else e.exposed||(e.exposed={});X&&e.render===Er&&(e.render=X),Oe!=null&&(e.inheritAttrs=Oe),oe&&(e.components=oe),xe&&(e.directives=xe)}function fD(e,t,n=Er){ke(e)&&(e=Ag(e));for(const r in e){const o=e[r];let s;ut(o)?"default"in o?s=fr(o.from||r,o.default,!0):s=fr(o.from||r):s=fr(o),lt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[r]=s}}function lI(e,t,n){lr(ke(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function OS(e,t,n,r){const o=r.includes(".")?ES(n,r):()=>n[r];if(Rt(e)){const s=t[e];Ue(s)&&Zn(o,s)}else if(Ue(e))Zn(o,e.bind(n));else if(ut(e))if(ke(e))e.forEach(s=>OS(s,t,n,r));else{const s=Ue(e.handler)?e.handler.bind(n):t[e.handler];Ue(s)&&Zn(o,s,e)}}function Uv(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(p=>xf(f,p,u,!0)),xf(f,t,u)),ut(t)&&s.set(t,f),f}function xf(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&xf(e,s,n,!0),o&&o.forEach(u=>xf(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const l=hD[u]||n&&n[u];e[u]=l?l(e[u],t[u]):t[u]}return e}const hD={data:fI,props:hI,emits:hI,methods:ku,computed:ku,beforeCreate:_n,created:_n,beforeMount:_n,mounted:_n,beforeUpdate:_n,updated:_n,beforeDestroy:_n,beforeUnmount:_n,destroyed:_n,unmounted:_n,activated:_n,deactivated:_n,errorCaptured:_n,serverPrefetch:_n,components:ku,directives:ku,watch:pD,provide:fI,inject:dD};function fI(e,t){return t?e?function(){return jt(Ue(e)?e.call(this,this):e,Ue(t)?t.call(this,this):t)}:t:e}function dD(e,t){return ku(Ag(e),Ag(t))}function Ag(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function _n(e,t){return e?[...new Set([].concat(e,t))]:t}function ku(e,t){return e?jt(Object.create(null),e,t):t}function hI(e,t){return e?ke(e)&&ke(t)?[...new Set([...e,...t])]:jt(Object.create(null),cI(e),cI(t??{})):t}function pD(e,t){if(!e)return t;if(!t)return e;const n=jt(Object.create(null),e);for(const r in t)n[r]=_n(e[r],t[r]);return n}function NS(){return{app:null,config:{isNativeTag:VR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mD=0;function gD(e,t){return function(r,o=null){Ue(r)||(r=jt({},r)),o!=null&&!ut(o)&&(o=null);const s=NS(),u=new Set;let l=!1;const f=s.app={_uid:mD++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:qD,get config(){return s.config},set config(p){},use(p,...g){return u.has(p)||(p&&Ue(p.install)?(u.add(p),p.install(f,...g)):Ue(p)&&(u.add(p),p(f,...g))),f},mixin(p){return s.mixins.includes(p)||s.mixins.push(p),f},component(p,g){return g?(s.components[p]=g,f):s.components[p]},directive(p,g){return g?(s.directives[p]=g,f):s.directives[p]},mount(p,g,h){if(!l){const m=Ae(r,o);return m.appContext=s,g&&t?t(m,p):e(m,p,h),l=!0,f._container=p,p.__vue_app__=f,Eh(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(p,g){return s.provides[p]=g,f},runWithContext(p){zu=f;try{return p()}finally{zu=null}}};return f}}let zu=null;function Qs(e,t){if(Kt){let n=Kt.provides;const r=Kt.parent&&Kt.parent.provides;r===n&&(n=Kt.provides=Object.create(r)),n[e]=t}}function fr(e,t,n=!1){const r=Kt||Ln;if(r||zu){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:zu._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Ue(t)?t.call(r&&r.proxy):t}}function vD(){return!!(Kt||Ln||zu)}function yD(e,t,n,r=!1){const o={},s={};Ef(s,Ih,1),e.propsDefaults=Object.create(null),RS(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=r?o:cS(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function _D(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,l=Je(o),[f]=e.propsOptions;let p=!1;if((r||u>0)&&!(u&16)){if(u&8){const g=e.vnode.dynamicProps;for(let h=0;h<g.length;h++){let m=g[h];if(gh(e.emitsOptions,m))continue;const y=t[m];if(f)if(Ze(s,m))y!==s[m]&&(s[m]=y,p=!0);else{const _=Wr(m);o[_]=kg(f,l,_,y,e,!1)}else y!==s[m]&&(s[m]=y,p=!0)}}}else{RS(e,t,o,s)&&(p=!0);let g;for(const h in l)(!t||!Ze(t,h)&&((g=Ea(h))===h||!Ze(t,g)))&&(f?n&&(n[h]!==void 0||n[g]!==void 0)&&(o[h]=kg(f,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!Ze(t,h))&&(delete s[h],p=!0)}p&&li(e,"set","$attrs")}function RS(e,t,n,r){const[o,s]=e.propsOptions;let u=!1,l;if(t)for(let f in t){if(lf(f))continue;const p=t[f];let g;o&&Ze(o,g=Wr(f))?!s||!s.includes(g)?n[g]=p:(l||(l={}))[g]=p:gh(e.emitsOptions,f)||(!(f in r)||p!==r[f])&&(r[f]=p,u=!0)}if(s){const f=Je(n),p=l||mt;for(let g=0;g<s.length;g++){const h=s[g];n[h]=kg(o,f,h,p[h],e,!Ze(p,h))}}return u}function kg(e,t,n,r,o,s){const u=e[n];if(u!=null){const l=Ze(u,"default");if(l&&r===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&Ue(f)){const{propsDefaults:p}=o;n in p?r=p[n]:(ta(o),r=p[n]=f.call(null,t),Ko())}else r=f}u[0]&&(s&&!l?r=!1:u[1]&&(r===""||r===Ea(n))&&(r=!0))}return r}function PS(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,u={},l=[];let f=!1;if(!Ue(e)){const g=h=>{f=!0;const[m,y]=PS(h,t,!0);jt(u,m),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!s&&!f)return ut(e)&&r.set(e,Ws),Ws;if(ke(s))for(let g=0;g<s.length;g++){const h=Wr(s[g]);dI(h)&&(u[h]=mt)}else if(s)for(const g in s){const h=Wr(g);if(dI(h)){const m=s[g],y=u[h]=ke(m)||Ue(m)?{type:m}:jt({},m);if(y){const _=gI(Boolean,y.type),I=gI(String,y.type);y[0]=_>-1,y[1]=I<0||_<I,(_>-1||Ze(y,"default"))&&l.push(h)}}}const p=[u,l];return ut(e)&&r.set(e,p),p}function dI(e){return e[0]!=="$"}function pI(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function mI(e,t){return pI(e)===pI(t)}function gI(e,t){return ke(t)?t.findIndex(n=>mI(n,e)):Ue(t)&&mI(t,e)?0:-1}const DS=e=>e[0]==="_"||e==="$stable",jv=e=>ke(e)?e.map(jr):[jr(e)],wD=(e,t,n)=>{if(t._n)return t;const r=fn((...o)=>jv(t(...o)),n);return r._c=!1,r},LS=(e,t,n)=>{const r=e._ctx;for(const o in e){if(DS(o))continue;const s=e[o];if(Ue(s))t[o]=wD(o,s,r);else if(s!=null){const u=jv(s);t[o]=()=>u}}},MS=(e,t)=>{const n=jv(t);e.slots.default=()=>n},bD=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Je(t),Ef(t,"_",n)):LS(t,e.slots={})}else e.slots={},t&&MS(e,t);Ef(e.slots,Ih,1)},ID=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,u=mt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(jt(o,t),!n&&l===1&&delete o._):(s=!t.$stable,LS(t,o)),u=t}else t&&(MS(e,t),u={default:1});if(s)for(const l in o)!DS(l)&&!(l in u)&&delete o[l]};function xg(e,t,n,r,o=!1){if(ke(e)){e.forEach((m,y)=>xg(m,t&&(ke(t)?t[y]:t),n,r,o));return}if(hf(r)&&!o)return;const s=r.shapeFlag&4?Eh(r.component)||r.component.proxy:r.el,u=o?null:s,{i:l,r:f}=e,p=t&&t.r,g=l.refs===mt?l.refs={}:l.refs,h=l.setupState;if(p!=null&&p!==f&&(Rt(p)?(g[p]=null,Ze(h,p)&&(h[p]=null)):lt(p)&&(p.value=null)),Ue(f))$i(f,l,12,[u,g]);else{const m=Rt(f),y=lt(f);if(m||y){const _=()=>{if(e.f){const I=m?Ze(h,f)?h[f]:g[f]:f.value;o?ke(I)&&Iv(I,s):ke(I)?I.includes(s)||I.push(s):m?(g[f]=[s],Ze(h,f)&&(h[f]=g[f])):(f.value=[s],e.k&&(g[e.k]=f.value))}else m?(g[f]=u,Ze(h,f)&&(h[f]=u)):y&&(f.value=u,e.k&&(g[e.k]=u))};u?(_.id=-1,Pn(_,n)):_()}}}const Pn=GP;function ED(e){return TD(e)}function TD(e,t){const n=vg();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:u,createText:l,createComment:f,setText:p,setElementText:g,parentNode:h,nextSibling:m,setScopeId:y=Er,insertStaticContent:_}=e,I=(A,x,R,j=null,$=null,Q=null,se=!1,te=null,ie=!!x.dynamicChildren)=>{if(A===x)return;A&&!Mo(A,x)&&(j=F(A),Pt(A,$,Q,!0),A=null),x.patchFlag===-2&&(ie=!1,x.dynamicChildren=null);const{type:Z,ref:be,shapeFlag:pe}=x;switch(Z){case bh:E(A,x,R,j);break;case Tr:T(A,x,R,j);break;case df:A==null&&C(x,R,j,se);break;case Yt:oe(A,x,R,j,$,Q,se,te,ie);break;default:pe&1?X(A,x,R,j,$,Q,se,te,ie):pe&6?xe(A,x,R,j,$,Q,se,te,ie):(pe&64||pe&128)&&Z.process(A,x,R,j,$,Q,se,te,ie,ne)}be!=null&&$&&xg(be,A&&A.ref,Q,x||A,!x)},E=(A,x,R,j)=>{if(A==null)r(x.el=l(x.children),R,j);else{const $=x.el=A.el;x.children!==A.children&&p($,x.children)}},T=(A,x,R,j)=>{A==null?r(x.el=f(x.children||""),R,j):x.el=A.el},C=(A,x,R,j)=>{[A.el,A.anchor]=_(A.children,x,R,j,A.el,A.anchor)},P=({el:A,anchor:x},R,j)=>{let $;for(;A&&A!==x;)$=m(A),r(A,R,j),A=$;r(x,R,j)},L=({el:A,anchor:x})=>{let R;for(;A&&A!==x;)R=m(A),o(A),A=R;o(x)},X=(A,x,R,j,$,Q,se,te,ie)=>{se=se||x.type==="svg",A==null?U(x,R,j,$,Q,se,te,ie):H(A,x,$,Q,se,te,ie)},U=(A,x,R,j,$,Q,se,te)=>{let ie,Z;const{type:be,props:pe,shapeFlag:O,transition:N,dirs:B}=A;if(ie=A.el=u(A.type,Q,pe&&pe.is,pe),O&8?g(ie,A.children):O&16&&V(A.children,ie,null,j,$,Q&&be!=="foreignObject",se,te),B&&ko(A,null,j,"created"),ue(ie,A,A.scopeId,se,j),pe){for(const de in pe)de!=="value"&&!lf(de)&&s(ie,de,null,pe[de],Q,A.children,j,$,_e);"value"in pe&&s(ie,"value",null,pe.value),(Z=pe.onVnodeBeforeMount)&&Vr(Z,j,A)}B&&ko(A,null,j,"beforeMount");const W=(!$||$&&!$.pendingBranch)&&N&&!N.persisted;W&&N.beforeEnter(ie),r(ie,x,R),((Z=pe&&pe.onVnodeMounted)||W||B)&&Pn(()=>{Z&&Vr(Z,j,A),W&&N.enter(ie),B&&ko(A,null,j,"mounted")},$)},ue=(A,x,R,j,$)=>{if(R&&y(A,R),j)for(let Q=0;Q<j.length;Q++)y(A,j[Q]);if($){let Q=$.subTree;if(x===Q){const se=$.vnode;ue(A,se,se.scopeId,se.slotScopeIds,$.parent)}}},V=(A,x,R,j,$,Q,se,te,ie=0)=>{for(let Z=ie;Z<A.length;Z++){const be=A[Z]=te?Ri(A[Z]):jr(A[Z]);I(null,be,x,R,j,$,Q,se,te)}},H=(A,x,R,j,$,Q,se)=>{const te=x.el=A.el;let{patchFlag:ie,dynamicChildren:Z,dirs:be}=x;ie|=A.patchFlag&16;const pe=A.props||mt,O=x.props||mt;let N;R&&xo(R,!1),(N=O.onVnodeBeforeUpdate)&&Vr(N,R,x,A),be&&ko(x,A,R,"beforeUpdate"),R&&xo(R,!0);const B=$&&x.type!=="foreignObject";if(Z?k(A.dynamicChildren,Z,te,R,j,B,Q):se||ye(A,x,te,null,R,j,B,Q,!1),ie>0){if(ie&16)Oe(te,x,pe,O,R,j,$);else if(ie&2&&pe.class!==O.class&&s(te,"class",null,O.class,$),ie&4&&s(te,"style",pe.style,O.style,$),ie&8){const W=x.dynamicProps;for(let de=0;de<W.length;de++){const ce=W[de],De=pe[ce],Xe=O[ce];(Xe!==De||ce==="value")&&s(te,ce,De,Xe,$,A.children,R,j,_e)}}ie&1&&A.children!==x.children&&g(te,x.children)}else!se&&Z==null&&Oe(te,x,pe,O,R,j,$);((N=O.onVnodeUpdated)||be)&&Pn(()=>{N&&Vr(N,R,x,A),be&&ko(x,A,R,"updated")},j)},k=(A,x,R,j,$,Q,se)=>{for(let te=0;te<x.length;te++){const ie=A[te],Z=x[te],be=ie.el&&(ie.type===Yt||!Mo(ie,Z)||ie.shapeFlag&70)?h(ie.el):R;I(ie,Z,be,null,j,$,Q,se,!0)}},Oe=(A,x,R,j,$,Q,se)=>{if(R!==j){if(R!==mt)for(const te in R)!lf(te)&&!(te in j)&&s(A,te,R[te],null,se,x.children,$,Q,_e);for(const te in j){if(lf(te))continue;const ie=j[te],Z=R[te];ie!==Z&&te!=="value"&&s(A,te,Z,ie,se,x.children,$,Q,_e)}"value"in j&&s(A,"value",R.value,j.value)}},oe=(A,x,R,j,$,Q,se,te,ie)=>{const Z=x.el=A?A.el:l(""),be=x.anchor=A?A.anchor:l("");let{patchFlag:pe,dynamicChildren:O,slotScopeIds:N}=x;N&&(te=te?te.concat(N):N),A==null?(r(Z,R,j),r(be,R,j),V(x.children,R,be,$,Q,se,te,ie)):pe>0&&pe&64&&O&&A.dynamicChildren?(k(A.dynamicChildren,O,R,$,Q,se,te),(x.key!=null||$&&x===$.subTree)&&FS(A,x,!0)):ye(A,x,R,be,$,Q,se,te,ie)},xe=(A,x,R,j,$,Q,se,te,ie)=>{x.slotScopeIds=te,A==null?x.shapeFlag&512?$.ctx.activate(x,R,j,se,ie):Fe(x,R,j,$,Q,se,ie):He(A,x,ie)},Fe=(A,x,R,j,$,Q,se)=>{const te=A.component=PD(A,j,$);if(vh(A)&&(te.ctx.renderer=ne),DD(te),te.asyncDep){if($&&$.registerDep(te,le),!A.el){const ie=te.subTree=Ae(Tr);T(null,ie,x,R)}return}le(te,A,x,R,$,Q,se)},He=(A,x,R)=>{const j=x.component=A.component;if($P(A,x,R))if(j.asyncDep&&!j.asyncResolved){Ve(j,x,R);return}else j.next=x,FP(j.update),j.update();else x.el=A.el,j.vnode=x},le=(A,x,R,j,$,Q,se)=>{const te=()=>{if(A.isMounted){let{next:be,bu:pe,u:O,parent:N,vnode:B}=A,W=be,de;xo(A,!1),be?(be.el=B.el,Ve(A,be,se)):be=B,pe&&ff(pe),(de=be.props&&be.props.onVnodeBeforeUpdate)&&Vr(de,N,be,B),xo(A,!0);const ce=Bm(A),De=A.subTree;A.subTree=ce,I(De,ce,h(De.el),F(De),A,$,Q),be.el=ce.el,W===null&&HP(A,ce.el),O&&Pn(O,$),(de=be.props&&be.props.onVnodeUpdated)&&Pn(()=>Vr(de,N,be,B),$)}else{let be;const{el:pe,props:O}=x,{bm:N,m:B,parent:W}=A,de=hf(x);if(xo(A,!1),N&&ff(N),!de&&(be=O&&O.onVnodeBeforeMount)&&Vr(be,W,x),xo(A,!0),pe&&Ne){const ce=()=>{A.subTree=Bm(A),Ne(pe,A.subTree,A,$,null)};de?x.type.__asyncLoader().then(()=>!A.isUnmounted&&ce()):ce()}else{const ce=A.subTree=Bm(A);I(null,ce,R,j,A,$,Q),x.el=ce.el}if(B&&Pn(B,$),!de&&(be=O&&O.onVnodeMounted)){const ce=x;Pn(()=>Vr(be,W,ce),$)}(x.shapeFlag&256||W&&hf(W.vnode)&&W.vnode.shapeFlag&256)&&A.a&&Pn(A.a,$),A.isMounted=!0,x=R=j=null}},ie=A.effect=new Sv(te,()=>Pv(Z),A.scope),Z=A.update=()=>ie.run();Z.id=A.uid,xo(A,!0),Z()},Ve=(A,x,R)=>{x.component=A;const j=A.vnode.props;A.vnode=x,A.next=null,_D(A,x.props,j,R),ID(A,x.children,R),Ta(),oI(),Sa()},ye=(A,x,R,j,$,Q,se,te,ie=!1)=>{const Z=A&&A.children,be=A?A.shapeFlag:0,pe=x.children,{patchFlag:O,shapeFlag:N}=x;if(O>0){if(O&128){Et(Z,pe,R,j,$,Q,se,te,ie);return}else if(O&256){ht(Z,pe,R,j,$,Q,se,te,ie);return}}N&8?(be&16&&_e(Z,$,Q),pe!==Z&&g(R,pe)):be&16?N&16?Et(Z,pe,R,j,$,Q,se,te,ie):_e(Z,$,Q,!0):(be&8&&g(R,""),N&16&&V(pe,R,j,$,Q,se,te,ie))},ht=(A,x,R,j,$,Q,se,te,ie)=>{A=A||Ws,x=x||Ws;const Z=A.length,be=x.length,pe=Math.min(Z,be);let O;for(O=0;O<pe;O++){const N=x[O]=ie?Ri(x[O]):jr(x[O]);I(A[O],N,R,null,$,Q,se,te,ie)}Z>be?_e(A,$,Q,!0,!1,pe):V(x,R,j,$,Q,se,te,ie,pe)},Et=(A,x,R,j,$,Q,se,te,ie)=>{let Z=0;const be=x.length;let pe=A.length-1,O=be-1;for(;Z<=pe&&Z<=O;){const N=A[Z],B=x[Z]=ie?Ri(x[Z]):jr(x[Z]);if(Mo(N,B))I(N,B,R,null,$,Q,se,te,ie);else break;Z++}for(;Z<=pe&&Z<=O;){const N=A[pe],B=x[O]=ie?Ri(x[O]):jr(x[O]);if(Mo(N,B))I(N,B,R,null,$,Q,se,te,ie);else break;pe--,O--}if(Z>pe){if(Z<=O){const N=O+1,B=N<be?x[N].el:j;for(;Z<=O;)I(null,x[Z]=ie?Ri(x[Z]):jr(x[Z]),R,B,$,Q,se,te,ie),Z++}}else if(Z>O)for(;Z<=pe;)Pt(A[Z],$,Q,!0),Z++;else{const N=Z,B=Z,W=new Map;for(Z=B;Z<=O;Z++){const st=x[Z]=ie?Ri(x[Z]):jr(x[Z]);st.key!=null&&W.set(st.key,Z)}let de,ce=0;const De=O-B+1;let Xe=!1,Se=0;const Ge=new Array(De);for(Z=0;Z<De;Z++)Ge[Z]=0;for(Z=N;Z<=pe;Z++){const st=A[Z];if(ce>=De){Pt(st,$,Q,!0);continue}let $n;if(st.key!=null)$n=W.get(st.key);else for(de=B;de<=O;de++)if(Ge[de-B]===0&&Mo(st,x[de])){$n=de;break}$n===void 0?Pt(st,$,Q,!0):(Ge[$n-B]=Z+1,$n>=Se?Se=$n:Xe=!0,I(st,x[$n],R,null,$,Q,se,te,ie),ce++)}const vt=Xe?SD(Ge):Ws;for(de=vt.length-1,Z=De-1;Z>=0;Z--){const st=B+Z,$n=x[st],Jt=st+1<be?x[st+1].el:j;Ge[Z]===0?I(null,$n,R,Jt,$,Q,se,te,ie):Xe&&(de<0||Z!==vt[de]?$t($n,R,Jt,2):de--)}}},$t=(A,x,R,j,$=null)=>{const{el:Q,type:se,transition:te,children:ie,shapeFlag:Z}=A;if(Z&6){$t(A.component.subTree,x,R,j);return}if(Z&128){A.suspense.move(x,R,j);return}if(Z&64){se.move(A,x,R,ne);return}if(se===Yt){r(Q,x,R);for(let pe=0;pe<ie.length;pe++)$t(ie[pe],x,R,j);r(A.anchor,x,R);return}if(se===df){P(A,x,R);return}if(j!==2&&Z&1&&te)if(j===0)te.beforeEnter(Q),r(Q,x,R),Pn(()=>te.enter(Q),$);else{const{leave:pe,delayLeave:O,afterLeave:N}=te,B=()=>r(Q,x,R),W=()=>{pe(Q,()=>{B(),N&&N()})};O?O(Q,B,W):W()}else r(Q,x,R)},Pt=(A,x,R,j=!1,$=!1)=>{const{type:Q,props:se,ref:te,children:ie,dynamicChildren:Z,shapeFlag:be,patchFlag:pe,dirs:O}=A;if(te!=null&&xg(te,null,R,A,!0),be&256){x.ctx.deactivate(A);return}const N=be&1&&O,B=!hf(A);let W;if(B&&(W=se&&se.onVnodeBeforeUnmount)&&Vr(W,x,A),be&6)ge(A.component,R,j);else{if(be&128){A.suspense.unmount(R,j);return}N&&ko(A,null,x,"beforeUnmount"),be&64?A.type.remove(A,x,R,$,ne,j):Z&&(Q!==Yt||pe>0&&pe&64)?_e(Z,x,R,!1,!0):(Q===Yt&&pe&384||!$&&be&16)&&_e(ie,x,R),j&&dt(A)}(B&&(W=se&&se.onVnodeUnmounted)||N)&&Pn(()=>{W&&Vr(W,x,A),N&&ko(A,null,x,"unmounted")},R)},dt=A=>{const{type:x,el:R,anchor:j,transition:$}=A;if(x===Yt){qn(R,j);return}if(x===df){L(A);return}const Q=()=>{o(R),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(A.shapeFlag&1&&$&&!$.persisted){const{leave:se,delayLeave:te}=$,ie=()=>se(R,Q);te?te(A.el,Q,ie):ie()}else Q()},qn=(A,x)=>{let R;for(;A!==x;)R=m(A),o(A),A=R;o(x)},ge=(A,x,R)=>{const{bum:j,scope:$,update:Q,subTree:se,um:te}=A;j&&ff(j),$.stop(),Q&&(Q.active=!1,Pt(se,A,x,R)),te&&Pn(te,x),Pn(()=>{A.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},_e=(A,x,R,j=!1,$=!1,Q=0)=>{for(let se=Q;se<A.length;se++)Pt(A[se],x,R,j,$)},F=A=>A.shapeFlag&6?F(A.component.subTree):A.shapeFlag&128?A.suspense.next():m(A.anchor||A.el),K=(A,x,R)=>{A==null?x._vnode&&Pt(x._vnode,null,null,!0):I(x._vnode||null,A,x,null,null,null,R),oI(),_S(),x._vnode=A},ne={p:I,um:Pt,m:$t,r:dt,mt:Fe,mc:V,pc:ye,pbc:k,n:F,o:e};let fe,Ne;return t&&([fe,Ne]=t(ne)),{render:K,hydrate:fe,createApp:gD(K,fe)}}function xo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function FS(e,t,n=!1){const r=e.children,o=t.children;if(ke(r)&&ke(o))for(let s=0;s<r.length;s++){const u=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Ri(o[s]),l.el=u.el),n||FS(u,l)),l.type===bh&&(l.el=u.el)}}function SD(e){const t=e.slice(),n=[0];let r,o,s,u,l;const f=e.length;for(r=0;r<f;r++){const p=e[r];if(p!==0){if(o=n[n.length-1],e[o]<p){t[r]=o,n.push(r);continue}for(s=0,u=n.length-1;s<u;)l=s+u>>1,e[n[l]]<p?s=l+1:u=l;p<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}const AD=e=>e.__isTeleport,Yt=Symbol.for("v-fgt"),bh=Symbol.for("v-txt"),Tr=Symbol.for("v-cmt"),df=Symbol.for("v-stc"),Ru=[];let Ir=null;function je(e=!1){Ru.push(Ir=e?null:[])}function kD(){Ru.pop(),Ir=Ru[Ru.length-1]||null}let Wu=1;function vI(e){Wu+=e}function VS(e){return e.dynamicChildren=Wu>0?Ir||Ws:null,kD(),Wu>0&&Ir&&Ir.push(e),e}function Qe(e,t,n,r,o,s){return VS(D(e,t,n,r,o,s,!0))}function Wi(e,t,n,r,o){return VS(Ae(e,t,n,r,o,!0))}function Cg(e){return e?e.__v_isVNode===!0:!1}function Mo(e,t){return e.type===t.type&&e.key===t.key}const Ih="__vInternal",US=({key:e})=>e??null,pf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Rt(e)||lt(e)||Ue(e)?{i:Ln,r:e,k:t,f:!!n}:e:null);function D(e,t=null,n=null,r=0,o=null,s=e===Yt?0:1,u=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&US(t),ref:t&&pf(t),scopeId:IS,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ln};return l?(Bv(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Rt(n)?8:16),Wu>0&&!u&&Ir&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Ir.push(f),f}const Ae=xD;function xD(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===CS)&&(e=Tr),Cg(e)){const l=Xi(e,t,!0);return n&&Bv(l,n),Wu>0&&!s&&Ir&&(l.shapeFlag&6?Ir[Ir.indexOf(e)]=l:Ir.push(l)),l.patchFlag|=-2,l}if(UD(e)&&(e=e.__vccOpts),t){t=CD(t);let{class:l,style:f}=t;l&&!Rt(l)&&(t.class=Ut(l)),ut(f)&&(lS(f)&&!ke(f)&&(f=jt({},f)),t.style=Yo(f))}const u=Rt(e)?1:KP(e)?128:AD(e)?64:ut(e)?4:Ue(e)?2:0;return D(e,t,n,r,o,u,s,!0)}function CD(e){return e?lS(e)||Ih in e?jt({},e):e:null}function Xi(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:u}=e,l=t?jS(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&US(l),ref:t&&t.ref?n&&o?ke(o)?o.concat(pf(t)):[o,pf(t)]:pf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Yt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xi(e.ssContent),ssFallback:e.ssFallback&&Xi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function wn(e=" ",t=0){return Ae(bh,null,e,t)}function OD(e,t){const n=Ae(df,null,e);return n.staticCount=t,n}function Yi(e="",t=!1){return t?(je(),Wi(Tr,null,e)):Ae(Tr,null,e)}function jr(e){return e==null||typeof e=="boolean"?Ae(Tr):ke(e)?Ae(Yt,null,e.slice()):typeof e=="object"?Ri(e):Ae(bh,null,String(e))}function Ri(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Xi(e)}function Bv(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Bv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Ih in t)?t._ctx=Ln:o===3&&Ln&&(Ln.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ue(t)?(t={default:t,_ctx:Ln},n=32):(t=String(t),r&64?(n=16,t=[wn(t)]):n=8);e.children=t,e.shapeFlag|=n}function jS(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Ut([t.class,r.class]));else if(o==="style")t.style=Yo([t.style,r.style]);else if(lh(o)){const s=t[o],u=r[o];u&&s!==u&&!(ke(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=r[o])}return t}function Vr(e,t,n,r=null){lr(e,t,7,[n,r])}const ND=NS();let RD=0;function PD(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||ND,s={uid:RD++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new YT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:PS(r,o),emitsOptions:bS(r,o),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:r.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=jP.bind(null,s),e.ce&&e.ce(s),s}let Kt=null;const yc=()=>Kt||Ln;let qv,Fs,yI="__VUE_INSTANCE_SETTERS__";(Fs=vg()[yI])||(Fs=vg()[yI]=[]),Fs.push(e=>Kt=e),qv=e=>{Fs.length>1?Fs.forEach(t=>t(e)):Fs[0](e)};const ta=e=>{qv(e),e.scope.on()},Ko=()=>{Kt&&Kt.scope.off(),qv(null)};function BS(e){return e.vnode.shapeFlag&4}let Xu=!1;function DD(e,t=!1){Xu=t;const{props:n,children:r}=e.vnode,o=BS(e);yD(e,n,o,t),bD(e,r);const s=o?LD(e,t):void 0;return Xu=!1,s}function LD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ph(new Proxy(e.ctx,cD));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?FD(e):null;ta(e),Ta();const s=$i(r,e,0,[e.props,o]);if(Sa(),Ko(),KT(s)){if(s.then(Ko,Ko),t)return s.then(u=>{_I(e,u,t)}).catch(u=>{mh(u,e,0)});e.asyncDep=s}else _I(e,s,t)}else qS(e,t)}function _I(e,t,n){Ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ut(t)&&(e.setupState=mS(t)),qS(e,n)}let wI;function qS(e,t,n){const r=e.type;if(!e.render){if(!t&&wI&&!r.render){const o=r.template||Uv(e).template;if(o){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:l,compilerOptions:f}=r,p=jt(jt({isCustomElement:s,delimiters:l},u),f);r.render=wI(o,p)}}e.render=r.render||Er}ta(e),Ta(),lD(e),Sa(),Ko()}function MD(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Vn(e,"get","$attrs"),t[n]}}))}function FD(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return MD(e)},slots:e.slots,emit:e.emit,expose:t}}function Eh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(mS(ph(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Nu)return Nu[n](e)},has(t,n){return n in t||n in Nu}}))}function VD(e,t=!0){return Ue(e)?e.displayName||e.name:e.name||t&&e.__name}function UD(e){return Ue(e)&&"__vccOpts"in e}const qe=(e,t)=>DP(e,t,Xu);function Qo(e,t,n){const r=arguments.length;return r===2?ut(t)&&!ke(t)?Cg(t)?Ae(e,null,[t]):Ae(e,t):Ae(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Cg(n)&&(n=[n]),Ae(e,t,n))}const jD=Symbol.for("v-scx"),BD=()=>fr(jD),qD="3.3.4",$D="http://www.w3.org/2000/svg",Fo=typeof document<"u"?document:null,bI=Fo&&Fo.createElement("template"),HD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?Fo.createElementNS($D,e):Fo.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Fo.createTextNode(e),createComment:e=>Fo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Fo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const u=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{bI.innerHTML=r?`<svg>${e}</svg>`:e;const l=bI.content;if(r){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function KD(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function GD(e,t,n){const r=e.style,o=Rt(n);if(n&&!o){if(t&&!Rt(t))for(const s in t)n[s]==null&&Og(r,s,"");for(const s in n)Og(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const II=/\s*!important$/;function Og(e,t,n){if(ke(n))n.forEach(r=>Og(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=zD(e,t);II.test(n)?e.setProperty(Ea(r),n.replace(II,""),"important"):e[r]=n}}const EI=["Webkit","Moz","ms"],Hm={};function zD(e,t){const n=Hm[t];if(n)return n;let r=Wr(t);if(r!=="filter"&&r in e)return Hm[t]=r;r=hh(r);for(let o=0;o<EI.length;o++){const s=EI[o]+r;if(s in e)return Hm[t]=s}return t}const TI="http://www.w3.org/1999/xlink";function WD(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(TI,t.slice(6,t.length)):e.setAttributeNS(TI,t,n);else{const s=QR(t);n==null||s&&!WT(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function XD(e,t,n,r,o,s,u){if(t==="innerHTML"||t==="textContent"){r&&u(r,o,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const p=l==="OPTION"?e.getAttribute("value"):e.value,g=n??"";p!==g&&(e.value=g),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const p=typeof e[t];p==="boolean"?n=WT(n):n==null&&p==="string"?(n="",f=!0):p==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function $S(e,t,n,r){e.addEventListener(t,n,r)}function YD(e,t,n,r){e.removeEventListener(t,n,r)}function QD(e,t,n,r,o=null){const s=e._vei||(e._vei={}),u=s[t];if(r&&u)u.value=r;else{const[l,f]=JD(t);if(r){const p=s[t]=tL(r,o);$S(e,l,p,f)}else u&&(YD(e,l,u,f),s[t]=void 0)}}const SI=/(?:Once|Passive|Capture)$/;function JD(e){let t;if(SI.test(e)){t={};let r;for(;r=e.match(SI);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ea(e.slice(2)),t]}let Km=0;const ZD=Promise.resolve(),eL=()=>Km||(ZD.then(()=>Km=0),Km=Date.now());function tL(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;lr(nL(r,n.value),t,5,[r])};return n.value=e,n.attached=eL(),n}function nL(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const AI=/^on[a-z]/,rL=(e,t,n,r,o=!1,s,u,l,f)=>{t==="class"?KD(e,r,o):t==="style"?GD(e,n,r):lh(t)?bv(t)||QD(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):iL(e,t,r,o))?XD(e,t,r,s,u,l,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),WD(e,t,r,o))};function iL(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&AI.test(t)&&Ue(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||AI.test(t)&&Rt(n)?!1:t in e}const Si="transition",yu="animation",$v=(e,{slots:t})=>Qo(QP,oL(e),t);$v.displayName="Transition";const HS={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};$v.props=jt({},TS,HS);const Co=(e,t=[])=>{ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},kI=e=>e?ke(e)?e.some(t=>t.length>1):e.length>1:!1;function oL(e){const t={};for(const oe in e)oe in HS||(t[oe]=e[oe]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:p=u,appearToClass:g=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,_=sL(o),I=_&&_[0],E=_&&_[1],{onBeforeEnter:T,onEnter:C,onEnterCancelled:P,onLeave:L,onLeaveCancelled:X,onBeforeAppear:U=T,onAppear:ue=C,onAppearCancelled:V=P}=t,H=(oe,xe,Fe)=>{Oo(oe,xe?g:l),Oo(oe,xe?p:u),Fe&&Fe()},k=(oe,xe)=>{oe._isLeaving=!1,Oo(oe,h),Oo(oe,y),Oo(oe,m),xe&&xe()},Oe=oe=>(xe,Fe)=>{const He=oe?ue:C,le=()=>H(xe,oe,Fe);Co(He,[xe,le]),xI(()=>{Oo(xe,oe?f:s),Ai(xe,oe?g:l),kI(He)||CI(xe,r,I,le)})};return jt(t,{onBeforeEnter(oe){Co(T,[oe]),Ai(oe,s),Ai(oe,u)},onBeforeAppear(oe){Co(U,[oe]),Ai(oe,f),Ai(oe,p)},onEnter:Oe(!1),onAppear:Oe(!0),onLeave(oe,xe){oe._isLeaving=!0;const Fe=()=>k(oe,xe);Ai(oe,h),cL(),Ai(oe,m),xI(()=>{oe._isLeaving&&(Oo(oe,h),Ai(oe,y),kI(L)||CI(oe,r,E,Fe))}),Co(L,[oe,Fe])},onEnterCancelled(oe){H(oe,!1),Co(P,[oe])},onAppearCancelled(oe){H(oe,!0),Co(V,[oe])},onLeaveCancelled(oe){k(oe),Co(X,[oe])}})}function sL(e){if(e==null)return null;if(ut(e))return[Gm(e.enter),Gm(e.leave)];{const t=Gm(e);return[t,t]}}function Gm(e){return KR(e)}function Ai(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Oo(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function xI(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let aL=0;function CI(e,t,n,r){const o=e._endId=++aL,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:u,timeout:l,propCount:f}=uL(e,t);if(!u)return r();const p=u+"end";let g=0;const h=()=>{e.removeEventListener(p,m),s()},m=y=>{y.target===e&&++g>=f&&h()};setTimeout(()=>{g<f&&h()},l+1),e.addEventListener(p,m)}function uL(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),o=r(`${Si}Delay`),s=r(`${Si}Duration`),u=OI(o,s),l=r(`${yu}Delay`),f=r(`${yu}Duration`),p=OI(l,f);let g=null,h=0,m=0;t===Si?u>0&&(g=Si,h=u,m=s.length):t===yu?p>0&&(g=yu,h=p,m=f.length):(h=Math.max(u,p),g=h>0?u>p?Si:yu:null,m=g?g===Si?s.length:f.length:0);const y=g===Si&&/\b(transform|all)(,|$)/.test(r(`${Si}Property`).toString());return{type:g,timeout:h,propCount:m,hasTransform:y}}function OI(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>NI(n)+NI(e[r])))}function NI(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function cL(){return document.body.offsetHeight}const RI=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ke(t)?n=>ff(t,n):t},PI={created(e,{value:t},n){e.checked=Tf(t,n.props.value),e._assign=RI(n),$S(e,"change",()=>{e._assign(lL(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=RI(r),t!==n&&(e.checked=Tf(t,r.props.value))}};function lL(e){return"_value"in e?e._value:e.value}const fL=["ctrl","shift","alt","meta"],hL={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>fL.some(n=>e[`${n}Key`]&&!t.includes(n))},Nt=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=hL[t[o]];if(s&&s(n,t))return}return e(n,...r)},zm={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):_u(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),_u(e,!0),r.enter(e)):r.leave(e,()=>{_u(e,!1)}):_u(e,t))},beforeUnmount(e,{value:t}){_u(e,t)}};function _u(e,t){e.style.display=t?e._vod:"none"}const dL=jt({patchProp:rL},HD);let DI;function pL(){return DI||(DI=ED(dL))}const mL=(...e)=>{const t=pL().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=gL(r);if(!o)return;const s=t._component;!Ue(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const u=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function gL(e){return Rt(e)?document.querySelector(e):e}var vL=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let KS;const Th=e=>KS=e,GS=Symbol();function Ng(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Pu;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Pu||(Pu={}));function yL(){const e=QT(!0),t=e.run(()=>En({}));let n=[],r=[];const o=ph({install(s){Th(o),o._a=s,s.provide(GS,o),s.config.globalProperties.$pinia=o,r.forEach(u=>n.push(u)),r=[]},use(s){return!this._a&&!vL?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const zS=()=>{};function LI(e,t,n,r=zS){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&JT()&&eP(o),o}function Vs(e,...t){e.slice().forEach(n=>{n(...t)})}const _L=e=>e();function Rg(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];Ng(o)&&Ng(r)&&e.hasOwnProperty(n)&&!lt(r)&&!qi(r)?e[n]=Rg(o,r):e[n]=r}return e}const wL=Symbol();function bL(e){return!Ng(e)||!e.hasOwnProperty(wL)}const{assign:Ni}=Object;function IL(e){return!!(lt(e)&&e.effect)}function EL(e,t,n,r){const{state:o,actions:s,getters:u}=t,l=n.state.value[e];let f;function p(){l||(n.state.value[e]=o?o():{});const g=OP(n.state.value[e]);return Ni(g,s,Object.keys(u||{}).reduce((h,m)=>(h[m]=ph(qe(()=>{Th(n);const y=n._s.get(e);return u[m].call(y,y)})),h),{}))}return f=WS(e,p,t,n,r,!0),f}function WS(e,t,n={},r,o,s){let u;const l=Ni({actions:{}},n),f={deep:!0};let p,g,h=[],m=[],y;const _=r.state.value[e];!s&&!_&&(r.state.value[e]={}),En({});let I;function E(V){let H;p=g=!1,typeof V=="function"?(V(r.state.value[e]),H={type:Pu.patchFunction,storeId:e,events:y}):(Rg(r.state.value[e],V),H={type:Pu.patchObject,payload:V,storeId:e,events:y});const k=I=Symbol();ii().then(()=>{I===k&&(p=!0)}),g=!0,Vs(h,H,r.state.value[e])}const T=s?function(){const{state:H}=n,k=H?H():{};this.$patch(Oe=>{Ni(Oe,k)})}:zS;function C(){u.stop(),h=[],m=[],r._s.delete(e)}function P(V,H){return function(){Th(r);const k=Array.from(arguments),Oe=[],oe=[];function xe(le){Oe.push(le)}function Fe(le){oe.push(le)}Vs(m,{args:k,name:V,store:X,after:xe,onError:Fe});let He;try{He=H.apply(this&&this.$id===e?this:X,k)}catch(le){throw Vs(oe,le),le}return He instanceof Promise?He.then(le=>(Vs(Oe,le),le)).catch(le=>(Vs(oe,le),Promise.reject(le))):(Vs(Oe,He),He)}}const L={_p:r,$id:e,$onAction:LI.bind(null,m),$patch:E,$reset:T,$subscribe(V,H={}){const k=LI(h,V,H.detached,()=>Oe()),Oe=u.run(()=>Zn(()=>r.state.value[e],oe=>{(H.flush==="sync"?g:p)&&V({storeId:e,type:Pu.direct,events:y},oe)},Ni({},f,H)));return k},$dispose:C},X=fi(L);r._s.set(e,X);const U=r._a&&r._a.runWithContext||_L,ue=r._e.run(()=>(u=QT(),U(()=>u.run(t))));for(const V in ue){const H=ue[V];if(lt(H)&&!IL(H)||qi(H))s||(_&&bL(H)&&(lt(H)?H.value=_[V]:Rg(H,_[V])),r.state.value[e][V]=H);else if(typeof H=="function"){const k=P(V,H);ue[V]=k,l.actions[V]=H}}return Ni(X,ue),Ni(Je(X),ue),Object.defineProperty(X,"$state",{get:()=>r.state.value[e],set:V=>{E(H=>{Ni(H,V)})}}),r._p.forEach(V=>{Ni(X,u.run(()=>V({store:X,app:r._a,pinia:r,options:l})))}),_&&s&&n.hydrate&&n.hydrate(X.$state,_),p=!0,g=!0,X}function Sh(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function u(l,f){const p=vD();return l=l||(p?fr(GS,null):null),l&&Th(l),l=KS,l._s.has(r)||(s?WS(r,t,o,l):EL(r,o,l)),l._s.get(r)}return u.$id=r,u}let TL="Store";function SL(...e){return e.reduce((t,n)=>(t[n.$id+TL]=function(){return n(this.$pinia)},t),{})}function _c(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function Ah(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function XS(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}const Pg=Sh("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?" ":"hidden"}}});var Dg=function(e,t){return Dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Dg(e,t)};function Te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Dg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var na=function(){return na=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},na.apply(this,arguments)};function z(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(g){try{p(r.next(g))}catch(h){u(h)}}function f(g){try{p(r.throw(g))}catch(h){u(h)}}function p(g){g.done?s(g.value):o(g.value).then(l,f)}p((r=r.apply(e,t||[])).next())})}function G(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(p){return function(g){return f([p,g])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(g){p=[6,g],o=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Wm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){u={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function wt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YS=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},AL=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},kL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,l=u?e[o+1]:0,f=o+2<e.length,p=f?e[o+2]:0,g=s>>2,h=(s&3)<<4|l>>4,m=(l&15)<<2|p>>6,y=p&63;f||(y=64,u||(m=64)),r.push(n[g],n[h],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(YS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):AL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,l=u?n[e.charAt(o)]:0;++o;var f=o<e.length,p=f?n[e.charAt(o)]:64;++o;var g=o<e.length,h=g?n[e.charAt(o)]:64;if(++o,s==null||l==null||p==null||h==null)throw Error();var m=s<<2|l>>4;if(r.push(m),p!==64){var y=l<<4&240|p>>2;if(r.push(y),h!==64){var _=p<<6&192|h;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},xL=function(e){var t=YS(e);return kL.encodeByteArray(t,!0)},MI=function(e){return xL(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(e){return Yu(void 0,e)}function Yu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!OL(r)||(e[r]=Yu(e[r],t[r]));return e}function OL(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NL=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=na({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[MI(JSON.stringify(n)),MI(JSON.stringify(u)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jo())}function JS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PL(){return typeof self=="object"&&self.self===self}function DL(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function LL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ML(){return Jo().indexOf("Electron/")>=0}function FL(){var e=Jo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function VL(){return Jo().indexOf("MSAppHost/")>=0}function UL(){return!JS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jL="FirebaseError",ZS=function(e){Te(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=jL,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Hv.prototype.create),s}return t}(Error),Hv=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],l=u?BL(u,o):"Error",f=this.serviceName+": "+l+" ("+s+").",p=new ZS(s,f,o);return p},e}();function BL(e,t){return e.replace(qL,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var qL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $L(e,t){var n=new HL(e,t);return n.subscribe.bind(n)}var HL=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Xm),s.error===void 0&&(s.error=Xm),s.complete===void 0&&(s.complete=Xm);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function KL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(e){return e&&e._delegate?e._delegate:e}var wc=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new NL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(WL(t))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}try{for(var o=Wm(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=Xl(s.value,2),l=u[0],f=u[1],p=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:p});f.resolve(g)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Po),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return z(this,void 0,void 0,function(){var t;return G(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(wt(wt([],Xl(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Xl(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Po),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Po),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var f=Wm(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var g=Xl(p.value,2),h=g[0],m=g[1],y=this.normalizeInstanceIdentifier(h);u===y&&m.resolve(l)}}catch(_){n={error:_}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(s)try{for(var u=Wm(s),l=u.next();!l.done;l=u.next()){var f=l.value;try{f(t,n)}catch{}}}catch(p){r={error:p}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zL(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Po),this.component?this.component.multipleInstances?t:Po:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function zL(e){return e===Po?void 0:e}function WL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new GL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function _r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,l=s.length;u<l;u++,o++)r[o]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No,Kv=[],tt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tt||(tt={}));var e1={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},YL=tt.INFO,QL=(No={},No[tt.DEBUG]="log",No[tt.VERBOSE]="log",No[tt.INFO]="info",No[tt.WARN]="warn",No[tt.ERROR]="error",No),JL=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=QL[t];if(s)console[s].apply(console,_r(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},t1=function(){function e(t){this.name=t,this._logLevel=YL,this._logHandler=JL,this._userLogHandler=null,Kv.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in tt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?e1[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,tt.DEBUG],t)),this._logHandler.apply(this,_r([this,tt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,tt.VERBOSE],t)),this._logHandler.apply(this,_r([this,tt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,tt.INFO],t)),this._logHandler.apply(this,_r([this,tt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,tt.WARN],t)),this._logHandler.apply(this,_r([this,tt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,tt.ERROR],t)),this._logHandler.apply(this,_r([this,tt.ERROR],t))},e}();function ZL(e){Kv.forEach(function(t){t.setLogLevel(e)})}function eM(e,t){for(var n=function(u){var l=null;t&&t.level&&(l=e1[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,p){for(var g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];var m=g.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");p>=(l??f.logLevel)&&e({level:tt[p].toLowerCase(),message:m,args:g,type:f.name})}},r=0,o=Kv;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ki,tM=(ki={},ki["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ki["bad-app-name"]="Illegal App name: '{$appName}",ki["duplicate-app"]="Firebase App named '{$appName}' already exists",ki["app-deleted"]="Firebase App named '{$appName}' already deleted",ki["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ki["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ki),qs=new Hv("app","Firebase",tM),n1="@firebase/app",nM="0.6.30",rM="@firebase/analytics",iM="@firebase/app-check",oM="@firebase/auth",sM="@firebase/database",aM="@firebase/functions",uM="@firebase/installations",cM="@firebase/messaging",lM="@firebase/performance",fM="@firebase/remote-config",hM="@firebase/storage",dM="@firebase/firestore",pM="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,Cf="[DEFAULT]",mM=(an={},an[n1]="fire-core",an[rM]="fire-analytics",an[iM]="fire-app-check",an[oM]="fire-auth",an[sM]="fire-rtdb",an[aM]="fire-fn",an[uM]="fire-iid",an[cM]="fire-fcm",an[lM]="fire-perf",an[fM]="fire-rc",an[hM]="fire-gcs",an[dM]="fire-fst",an["fire-js"]="fire-js",an[pM]="fire-js-all",an);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ra=new t1("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mf=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=CL(t),this.container=new XL(n.name),this._addComponent(new wc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Cf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Cf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){ra.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw qs.create("app-deleted",{appName:this.name_})},e}();mf.prototype.name&&mf.prototype.options||mf.prototype.delete||console.log("dc");var gM="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:p,setLogLevel:ZL,onLog:g,apps:null,SDK_VERSION:gM,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(m){delete t[m]}function s(m){if(m=m||Cf,!FI(t,m))throw qs.create("no-app",{appName:m});return t[m]}s.App=e;function u(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var I=y;I.name===void 0&&(I.name=Cf);var E=I.name;if(typeof E!="string"||!E)throw qs.create("bad-app-name",{appName:String(E)});if(FI(t,E))throw qs.create("duplicate-app",{appName:E});var T=new e(m,I,r);return t[E]=T,T}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var y=m.name;if(n.has(y))return ra.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var _=function(C){if(C===void 0&&(C=s()),typeof C[y]!="function")throw qs.create("invalid-app-argument",{appName:y});return C[y]()};m.serviceProps!==void 0&&Yu(_,m.serviceProps),r[y]=_,e.prototype[y]=function(){for(var C=[],P=0;P<arguments.length;P++)C[P]=arguments[P];var L=this._getService.bind(this,y);return L.apply(this,m.multipleInstances?C:[])}}for(var I=0,E=Object.keys(t);I<E.length;I++){var T=E[I];t[T]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function p(m,y,_){var I,E=(I=mM[m])!==null&&I!==void 0?I:m;_&&(E+="-"+_);var T=E.match(/\s|\//),C=y.match(/\s|\//);if(T||C){var P=['Unable to register library "'+E+'" with version "'+y+'":'];T&&P.push('library name "'+E+'" contains illegal characters (whitespace or "/")'),T&&C&&P.push("and"),C&&P.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),ra.warn(P.join(" "));return}f(new wc(E+"-version",function(){return{library:E,version:y}},"VERSION"))}function g(m,y){if(m!==null&&typeof m!="function")throw qs.create("invalid-log-argument");eM(m,y)}function h(m,y){if(y==="serverAuth")return null;var _=y;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){var e=vM(mf);e.INTERNAL=na(na({},e.INTERNAL),{createFirebaseNamespace:r1,extendNamespace:t,createSubscribe:$L,ErrorFactory:Hv,deepExtend:Yu});function t(n){Yu(e,n)}return e}var Gv=r1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yM=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(_M(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function _M(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(e,t){e.INTERNAL.registerComponent(new wc("platform-logger",function(n){return new yM(n)},"PRIVATE")),e.registerVersion(n1,nM,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(PL()&&self.firebase!==void 0){ra.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var VI=self.firebase.SDK_VERSION;VI&&VI.indexOf("LITE")>=0&&ra.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var bM=Gv.initializeApp;Gv.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return JS()&&ra.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),bM.apply(void 0,e)};var Ce=Gv;wM(Ce);var IM="firebase",i1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ce.registerVersion(IM,i1,"app");Ce.SDK_VERSION=i1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,c){i!=Array.prototype&&i!=Object.prototype&&(i[a]=c.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var c=i[a];if(c&&c.Math==Math)return c}return globalThis}var r=n(this);function o(i,a){if(a){var c=r;i=i.split(".");for(var d=0;d<i.length-1;d++){var v=i[d];v in c||(c[v]={}),c=c[v]}i=i[i.length-1],d=c[i],a=a(d),a!=d&&a!=null&&t(c,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(b){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{b(S.resolve,S.reject)}catch(q){S.reject(q)}}function c(){this.a=null}function d(b){return b instanceof a?b:new a(function(S){S(b)})}if(i)return i;c.prototype.b=function(b){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(b)};var v=r.setTimeout;c.prototype.c=function(b){v(b,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var S=0;S<b.length;++S){var q=b[S];b[S]=null;try{q()}catch(Y){this.f(Y)}}}this.a=null},c.prototype.f=function(b){this.c(function(){throw b})},a.prototype.f=function(){function b(Y){return function(Le){q||(q=!0,Y.call(S,Le))}}var S=this,q=!1;return{resolve:b(this.m),reject:b(this.g)}},a.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.s(b);else{e:switch(typeof b){case"object":var S=b!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(b):this.h(b)}},a.prototype.v=function(b){var S=void 0;try{S=b.then}catch(q){this.g(q);return}typeof S=="function"?this.u(S,b):this.h(b)},a.prototype.g=function(b){this.i(2,b)},a.prototype.h=function(b){this.i(1,b)},a.prototype.i=function(b,S){if(this.b!=0)throw Error("Cannot settle("+b+", "+S+"): Promise already settled in state"+this.b);this.b=b,this.c=S,this.l()},a.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)w.b(this.a[b]);this.a=null}};var w=new c;return a.prototype.s=function(b){var S=this.f();b.Ra(S.resolve,S.reject)},a.prototype.u=function(b,S){var q=this.f();try{b.call(S,q.resolve,q.reject)}catch(Y){q.reject(Y)}},a.prototype.then=function(b,S){function q(et,Wt){return typeof et=="function"?function(ti){try{Y(et(ti))}catch(Um){Le(Um)}}:Wt}var Y,Le,it=new a(function(et,Wt){Y=et,Le=Wt});return this.Ra(q(b,Y),q(S,Le)),it},a.prototype.catch=function(b){return this.then(void 0,b)},a.prototype.Ra=function(b,S){function q(){switch(Y.b){case 1:b(Y.c);break;case 2:S(Y.c);break;default:throw Error("Unexpected state: "+Y.b)}}var Y=this;this.a==null?w.b(q):this.a.push(q)},a.resolve=d,a.reject=function(b){return new a(function(S,q){q(b)})},a.race=function(b){return new a(function(S,q){for(var Y=u(b),Le=Y.next();!Le.done;Le=Y.next())d(Le.value).Ra(S,q)})},a.all=function(b){var S=u(b),q=S.next();return q.done?d([]):new a(function(Y,Le){function it(ti){return function(Um){et[ti]=Um,Wt--,Wt==0&&Y(et)}}var et=[],Wt=0;do et.push(void 0),Wt++,d(q.value).Ra(it(et.length-1),Le),q=S.next();while(!q.done)})},a});var l=l||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,g=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&p.test(i)?i:""}function m(){}function y(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function _(i){var a=y(i);return a=="array"||a=="object"&&typeof i.length=="number"}function I(i){return y(i)=="function"}function E(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function T(i){return Object.prototype.hasOwnProperty.call(i,C)&&i[C]||(i[C]=++P)}var C="closure_uid_"+(1e9*Math.random()>>>0),P=0;function L(i,a,c){return i.call.apply(i.bind,arguments)}function X(i,a,c){if(!i)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,d),i.apply(a,v)}}return function(){return i.apply(a,arguments)}}function U(i,a,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?U=L:U=X,U.apply(null,arguments)}function ue(i,a){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),i.apply(this,d)}}function V(i,a){function c(){}c.prototype=a.prototype,i.bb=a.prototype,i.prototype=new c,i.prototype.constructor=i}function H(i){return i}function k(i,a,c){this.code=oe+i,this.message=a||xe[i]||"",this.a=c||null}V(k,Error),k.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},k.prototype.toJSON=function(){return this.w()};function Oe(i){var a=i&&i.code;return a?new k(a.substring(oe.length),i.message,i.serverResponse):null}var oe="auth/",xe={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Fe={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function He(i){for(var a in Fe)if(Fe[a].id===i)return i=Fe[a],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var le;le=He("__EID__")?"__EID__":void 0;function Ve(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function ye(i){if(Error.captureStackTrace)Error.captureStackTrace(this,ye);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}V(ye,Error),ye.prototype.name="CustomError";function ht(i,a){i=i.split("%s");for(var c="",d=i.length-1,v=0;v<d;v++)c+=i[v]+(v<a.length?a[v]:"%s");ye.call(this,c+i[d])}V(ht,ye),ht.prototype.name="AssertionError";function Et(i,a){throw new ht("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function $t(i,a){this.c=i,this.f=a,this.b=0,this.a=null}$t.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function Pt(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function dt(){this.b=this.a=null}var qn=new $t(function(){return new _e},function(i){i.reset()});dt.prototype.add=function(i,a){var c=qn.get();c.set(i,a),this.b?this.b.next=c:this.a=c,this.b=c};function ge(){var i=L_,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function _e(){this.next=this.b=this.a=null}_e.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},_e.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var c=0;c<i.length;c++)if(c in i&&i[c]===a)return c;return-1},K=Array.prototype.forEach?function(i,a,c){Array.prototype.forEach.call(i,a,c)}:function(i,a,c){for(var d=i.length,v=typeof i=="string"?i.split(""):i,w=0;w<d;w++)w in v&&a.call(c,v[w],w,i)};function ne(i,a){for(var c=typeof i=="string"?i.split(""):i,d=i.length-1;0<=d;--d)d in c&&a.call(void 0,c[d],d,i)}var fe=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var c=i.length,d=[],v=0,w=typeof i=="string"?i.split(""):i,b=0;b<c;b++)if(b in w){var S=w[b];a.call(void 0,S,b,i)&&(d[v++]=S)}return d},Ne=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var c=i.length,d=Array(c),v=typeof i=="string"?i.split(""):i,w=0;w<c;w++)w in v&&(d[w]=a.call(void 0,v[w],w,i));return d},A=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var c=i.length,d=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in d&&a.call(void 0,d[v],v,i))return!0;return!1};function x(i){e:{for(var a=vO,c=i.length,d=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in d&&a.call(void 0,d[v],v,i)){a=v;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function R(i,a){return 0<=F(i,a)}function j(i,a){a=F(i,a);var c;return(c=0<=a)&&Array.prototype.splice.call(i,a,1),c}function $(i,a){var c=0;ne(i,function(d,v){a.call(void 0,d,v,i)&&Array.prototype.splice.call(i,v,1).length==1&&c++})}function Q(i){return Array.prototype.concat.apply([],arguments)}function se(i){var a=i.length;if(0<a){for(var c=Array(a),d=0;d<a;d++)c[d]=i[d];return c}return[]}var te=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},ie=/&/g,Z=/</g,be=/>/g,pe=/"/g,O=/'/g,N=/\x00/g,B=/[\x00&<>"']/;function W(i,a){return i.indexOf(a)!=-1}function de(i,a){return i<a?-1:i>a?1:0}var ce;e:{var De=f.navigator;if(De){var Xe=De.userAgent;if(Xe){ce=Xe;break e}}ce=""}function Se(i){return W(ce,i)}function Ge(i,a){for(var c in i)a.call(void 0,i[c],c,i)}function vt(i){for(var a in i)return!1;return!0}function st(i){var a={},c;for(c in i)a[c]=i[c];return a}var $n="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jt(i,a){for(var c,d,v=1;v<arguments.length;v++){d=arguments[v];for(c in d)i[c]=d[c];for(var w=0;w<$n.length;w++)c=$n[w],Object.prototype.hasOwnProperty.call(d,c)&&(i[c]=d[c])}}function m_(i,a){e:{try{var c=i&&i.ownerDocument,d=c&&(c.defaultView||c.parentWindow);if(d=d||f,d.Element&&d.Location){var v=d;break e}}catch{}v=null}if(v&&typeof v[a]<"u"&&(!i||!(i instanceof v[a])&&(i instanceof v.Location||i instanceof v.Element))){if(E(i))try{var w=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{w="<object could not be stringified>"}else w=i===void 0?"undefined":i===null?"null":typeof i;Et("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,w)}}function Or(i,a){this.a=i===qc&&a||"",this.b=g_}Or.prototype.ta=!0,Or.prototype.sa=function(){return this.a},Or.prototype.toString=function(){return"Const{"+this.a+"}"};function hd(i){return i instanceof Or&&i.constructor===Or&&i.b===g_?i.a:(Et("expected object of type Const, got '"+i+"'"),"type_error:Const")}var g_={},qc={},$c;function v_(){if($c===void 0){var i=null,a=f.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:H,createScript:H,createScriptURL:H})}catch(c){f.console&&f.console.error(c.message)}$c=i}else $c=i}return $c}function ps(i,a){this.a=a===__?i:""}ps.prototype.ta=!0,ps.prototype.sa=function(){return this.a.toString()},ps.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function y_(i){return i instanceof ps&&i.constructor===ps?i.a:(Et("expected object of type TrustedResourceUrl, got '"+i+"' of type "+y(i)),"type_error:TrustedResourceUrl")}function dd(i,a){var c=hd(i);if(!zx.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return i=c.replace(Gx,function(d,v){if(!Object.prototype.hasOwnProperty.call(a,v))throw Error('Found marker, "'+v+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(a));return d=a[v],d instanceof Or?hd(d):encodeURIComponent(String(d))}),Wx(i)}var Gx=/%{(\w+)}/g,zx=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,__={};function Wx(i){var a=v_();return i=a?a.createScriptURL(i):i,new ps(i,__)}function Cn(i,a){this.a=a===Ma?i:""}Cn.prototype.ta=!0,Cn.prototype.sa=function(){return this.a.toString()},Cn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Hc(i){return i instanceof Cn&&i.constructor===Cn?i.a:(Et("expected object of type SafeUrl, got '"+i+"' of type "+y(i)),"type_error:SafeUrl")}var Xx=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Yx=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,w_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function b_(i){if(i instanceof Cn)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),w_.test(i))i=new Cn(i,Ma);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(Yx);i=a&&Xx.test(a[1])?new Cn(i,Ma):null}return i}function I_(i){return i instanceof Cn?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),w_.test(i)||(i="about:invalid#zClosurez"),new Cn(i,Ma))}var Ma={},E_=new Cn("about:invalid#zClosurez",Ma);function ms(i,a,c){this.a=c===T_?i:""}ms.prototype.ta=!0,ms.prototype.sa=function(){return this.a.toString()},ms.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Qx(i){return i instanceof ms&&i.constructor===ms?i.a:(Et("expected object of type SafeHtml, got '"+i+"' of type "+y(i)),"type_error:SafeHtml")}var T_={};function Jx(i,a){m_(i,"HTMLScriptElement"),i.src=y_(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=f?a=h(a.document):(g===null&&(g=h(f.document)),a=g),a&&i.setAttribute("nonce",a)}function S_(i,a,c,d){return i=i instanceof Cn?i:I_(i),a=a||f,c=c instanceof Or?hd(c):c||"",a.open(Hc(i),c,d,void 0)}function A_(i,a){for(var c=i.split("%s"),d="",v=Array.prototype.slice.call(arguments,1);v.length&&1<c.length;)d+=c.shift()+v.shift();return d+c.join("%s")}function pd(i){return B.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(ie,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(Z,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(be,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(pe,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(O,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(N,"&#0;"))),i}function md(i){return md[" "](i),i}md[" "]=m;function Zx(i,a){var c=rC;return Object.prototype.hasOwnProperty.call(c,i)?c[i]:c[i]=a(i)}var eC=Se("Opera"),hr=Se("Trident")||Se("MSIE"),k_=Se("Edge"),tC=k_||hr,x_=Se("Gecko")&&!(W(ce.toLowerCase(),"webkit")&&!Se("Edge"))&&!(Se("Trident")||Se("MSIE"))&&!Se("Edge"),nC=W(ce.toLowerCase(),"webkit")&&!Se("Edge");function C_(){var i=f.document;return i?i.documentMode:void 0}var Kc;e:{var gd="",vd=function(){var i=ce;if(x_)return/rv:([^\);]+)(\)|;)/.exec(i);if(k_)return/Edge\/([\d\.]+)/.exec(i);if(hr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(nC)return/WebKit\/(\S+)/.exec(i);if(eC)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(vd&&(gd=vd?vd[1]:""),hr){var yd=C_();if(yd!=null&&yd>parseFloat(gd)){Kc=String(yd);break e}}Kc=gd}var rC={};function O_(i){return Zx(i,function(){for(var a=0,c=te(String(Kc)).split("."),d=te(String(i)).split("."),v=Math.max(c.length,d.length),w=0;a==0&&w<v;w++){var b=c[w]||"",S=d[w]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],b[0].length==0&&S[0].length==0)break;a=de(b[1].length==0?0:parseInt(b[1],10),S[1].length==0?0:parseInt(S[1],10))||de(b[2].length==0,S[2].length==0)||de(b[2],S[2]),b=b[3],S=S[3]}while(a==0)}return 0<=a})}var _d;if(f.document&&hr){var N_=C_();_d=N_||parseInt(Kc,10)||void 0}else _d=void 0;var gi=_d;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var iC=!hr||9<=Number(gi);function Fa(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function R_(i,a){Ge(a,function(c,d){c&&typeof c=="object"&&c.ta&&(c=c.sa()),d=="style"?i.style.cssText=c:d=="class"?i.className=c:d=="for"?i.htmlFor=c:P_.hasOwnProperty(d)?i.setAttribute(P_[d],c):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?i.setAttribute(d,c):i[d]=c})}var P_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function oC(i,a,c){var d=arguments,v=document,w=String(d[0]),b=d[1];if(!iC&&b&&(b.name||b.type)){if(w=["<",w],b.name&&w.push(' name="',pd(b.name),'"'),b.type){w.push(' type="',pd(b.type),'"');var S={};Jt(S,b),delete S.type,b=S}w.push(">"),w=w.join("")}return w=Gc(v,w),b&&(typeof b=="string"?w.className=b:Array.isArray(b)?w.className=b.join(" "):R_(w,b)),2<d.length&&sC(v,w,d),w}function sC(i,a,c){function d(S){S&&a.appendChild(typeof S=="string"?i.createTextNode(S):S)}for(var v=2;v<c.length;v++){var w=c[v];if(!_(w)||E(w)&&0<w.nodeType)d(w);else{e:{if(w&&typeof w.length=="number"){if(E(w)){var b=typeof w.item=="function"||typeof w.item=="string";break e}if(I(w)){b=typeof w.item=="function";break e}}b=!1}K(b?se(w):w,d)}}}function Gc(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function D_(i){f.setTimeout(function(){throw i},0)}var wd;function aC(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Se("Presto")&&(i=function(){var v=Gc(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var w=v.contentWindow;v=w.document,v.open(),v.close();var b="callImmediate"+Math.random(),S=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;v=U(function(q){(S=="*"||q.origin==S)&&q.data==b&&this.port1.onmessage()},this),w.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(b,S)}}}),typeof i<"u"&&!Se("Trident")&&!Se("MSIE")){var a=new i,c={},d=c;return a.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var v=c.Hb;c.Hb=null,v()}},function(v){d.next={Hb:v},d=d.next,a.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function zc(i,a){Wc||uC(),bd||(Wc(),bd=!0),L_.add(i,a)}var Wc;function uC(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);Wc=function(){i.then(M_)}}else Wc=function(){var a=M_;!I(f.setImmediate)||f.Window&&f.Window.prototype&&!Se("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(wd||(wd=aC()),wd(a)):f.setImmediate(a)}}var bd=!1,L_=new dt;function M_(){for(var i;i=ge();){try{i.a.call(i.b)}catch(a){D_(a)}Pt(qn,i)}bd=!1}function Ke(i,a){if(this.a=ao,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=m)try{var c=this;i.call(a,function(d){uo(c,Va,d)},function(d){if(!(d instanceof gs))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}uo(c,Qr,d)})}catch(d){uo(this,Qr,d)}}var ao=0,Va=2,Qr=3;function F_(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}F_.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var V_=new $t(function(){return new F_},function(i){i.reset()});function Id(i,a,c){var d=V_.get();return d.g=i,d.b=a,d.f=c,d}function Ee(i){if(i instanceof Ke)return i;var a=new Ke(m);return uo(a,Va,i),a}function yt(i){return new Ke(function(a,c){c(i)})}function U_(i,a,c){$_(i,a,c,null)||zc(ue(a,i))}function cC(i){return new Ke(function(a,c){var d=i.length,v=[];if(d)for(var w=function(Y,Le){d--,v[Y]=Le,d==0&&a(v)},b=function(Y){c(Y)},S=0,q;S<i.length;S++)q=i[S],U_(q,ue(w,S),b);else a(v)})}function j_(i){return new Ke(function(a){var c=i.length,d=[];if(c)for(var v=function(S,q,Y){c--,d[S]=q?{Qb:!0,value:Y}:{Qb:!1,reason:Y},c==0&&a(d)},w=0,b;w<i.length;w++)b=i[w],U_(b,ue(v,w,!0),ue(v,w,!1));else a(d)})}Ke.prototype.then=function(i,a,c){return q_(this,I(i)?i:null,I(a)?a:null,c)},Ke.prototype.$goog_Thenable=!0,e=Ke.prototype,e.oa=function(i,a){return i=Id(i,i,a),i.c=!0,Ed(this,i),this},e.o=function(i,a){return q_(this,null,i,a)},e.cancel=function(i){if(this.a==ao){var a=new gs(i);zc(function(){B_(this,a)},this)}};function B_(i,a){if(i.a==ao)if(i.c){var c=i.c;if(c.b){for(var d=0,v=null,w=null,b=c.b;b&&(b.c||(d++,b.a==i&&(v=b),!(v&&1<d)));b=b.next)v||(w=b);v&&(c.a==ao&&d==1?B_(c,a):(w?(d=w,d.next==c.f&&(c.f=d),d.next=d.next.next):K_(c),G_(c,v,Qr,a)))}i.c=null}else uo(i,Qr,a)}function Ed(i,a){i.b||i.a!=Va&&i.a!=Qr||H_(i),i.f?i.f.next=a:i.b=a,i.f=a}function q_(i,a,c,d){var v=Id(null,null,null);return v.a=new Ke(function(w,b){v.g=a?function(S){try{var q=a.call(d,S);w(q)}catch(Y){b(Y)}}:w,v.b=c?function(S){try{var q=c.call(d,S);q===void 0&&S instanceof gs?b(S):w(q)}catch(Y){b(Y)}}:b}),v.a.c=i,Ed(i,v),v.a}e.$c=function(i){this.a=ao,uo(this,Va,i)},e.ad=function(i){this.a=ao,uo(this,Qr,i)};function uo(i,a,c){i.a==ao&&(i===c&&(a=Qr,c=new TypeError("Promise cannot resolve to itself")),i.a=1,$_(c,i.$c,i.ad,i)||(i.i=c,i.a=a,i.c=null,H_(i),a!=Qr||c instanceof gs||fC(i,c)))}function $_(i,a,c,d){if(i instanceof Ke)return Ed(i,Id(a||m,c||null,d)),!0;if(Ve(i))return i.then(a,c,d),!0;if(E(i))try{var v=i.then;if(I(v))return lC(i,v,a,c,d),!0}catch(w){return c.call(d,w),!0}return!1}function lC(i,a,c,d,v){function w(q){S||(S=!0,d.call(v,q))}function b(q){S||(S=!0,c.call(v,q))}var S=!1;try{a.call(i,b,w)}catch(q){w(q)}}function H_(i){i.h||(i.h=!0,zc(i.gc,i))}function K_(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=K_(this);)G_(this,i,this.a,this.i);this.h=!1};function G_(i,a,c,d){if(c==Qr&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,z_(a,c,d);else try{a.c?a.g.call(a.f):z_(a,c,d)}catch(v){W_.call(null,v)}Pt(V_,a)}function z_(i,a,c){a==Va?i.g.call(i.f,c):i.b&&i.b.call(i.f,c)}function fC(i,a){i.g=!0,zc(function(){i.g&&W_.call(null,a)})}var W_=D_;function gs(i){ye.call(this,i)}V(gs,ye),gs.prototype.name="cancel";function Xc(){this.ya=this.ya,this.pa=this.pa}var hC=0;Xc.prototype.ya=!1;function X_(i){!i.ya&&(i.ya=!0,i.Da(),hC!=0)&&T(i)}Xc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var dC=Object.freeze||function(i){return i},Y_=!hr||9<=Number(gi),pC=hr&&!O_("9"),mC=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",m,a),f.removeEventListener("test",m,a)}catch{}return i}();function On(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}On.prototype.preventDefault=function(){this.defaultPrevented=!0};function co(i,a){if(On.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var c=this.type=i.type,d=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if(x_){e:{try{md(a.nodeName);var v=!0;break e}catch{}v=!1}v||(a=null)}}else c=="mouseover"?a=i.fromElement:c=="mouseout"&&(a=i.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:gC[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}V(co,On);var gC=dC({2:"touch",3:"pen",4:"mouse"});co.prototype.preventDefault=function(){co.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,pC)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},co.prototype.g=function(){return this.a};var Ua="closure_listenable_"+(1e6*Math.random()|0),vC=0;function yC(i,a,c,d,v){this.listener=i,this.proxy=null,this.src=a,this.type=c,this.capture=!!d,this.Wa=v,this.key=++vC,this.wa=this.Qa=!1}function Yc(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function Qc(i){this.src=i,this.a={},this.b=0}Qc.prototype.add=function(i,a,c,d,v){var w=i.toString();i=this.a[w],i||(i=this.a[w]=[],this.b++);var b=Sd(i,a,d,v);return-1<b?(a=i[b],c||(a.Qa=!1)):(a=new yC(a,this.src,w,!!d,v),a.Qa=c,i.push(a)),a};function Td(i,a){var c=a.type;c in i.a&&j(i.a[c],a)&&(Yc(a),i.a[c].length==0&&(delete i.a[c],i.b--))}function Sd(i,a,c,d){for(var v=0;v<i.length;++v){var w=i[v];if(!w.wa&&w.listener==a&&w.capture==!!c&&w.Wa==d)return v}return-1}var Ad="closure_lm_"+(1e6*Math.random()|0),kd={};function rr(i,a,c,d,v){if(d&&d.once)xd(i,a,c,d,v);else if(Array.isArray(a))for(var w=0;w<a.length;w++)rr(i,a[w],c,d,v);else c=Od(c),i&&i[Ua]?n0(i,a,c,E(d)?!!d.capture:!!d,v):Q_(i,a,c,!1,d,v)}function Q_(i,a,c,d,v,w){if(!a)throw Error("Invalid event type");var b=E(v)?!!v.capture:!!v,S=Jc(i);if(S||(i[Ad]=S=new Qc(i)),c=S.add(a,c,d,b,w),!c.proxy)if(d=_C(),c.proxy=d,d.src=i,d.listener=c,i.addEventListener)mC||(v=b),v===void 0&&(v=!1),i.addEventListener(a.toString(),d,v);else if(i.attachEvent)i.attachEvent(Z_(a.toString()),d);else if(i.addListener&&i.removeListener)i.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function _C(){var i=wC,a=Y_?function(c){return i.call(a.src,a.listener,c)}:function(c){if(c=i.call(a.src,a.listener,c),!c)return c};return a}function xd(i,a,c,d,v){if(Array.isArray(a))for(var w=0;w<a.length;w++)xd(i,a[w],c,d,v);else c=Od(c),i&&i[Ua]?Nd(i,a,c,E(d)?!!d.capture:!!d,v):Q_(i,a,c,!0,d,v)}function Hn(i,a,c,d,v){if(Array.isArray(a))for(var w=0;w<a.length;w++)Hn(i,a[w],c,d,v);else d=E(d)?!!d.capture:!!d,c=Od(c),i&&i[Ua]?(i=i.v,a=String(a).toString(),a in i.a&&(w=i.a[a],c=Sd(w,c,d,v),-1<c&&(Yc(w[c]),Array.prototype.splice.call(w,c,1),w.length==0&&(delete i.a[a],i.b--)))):i&&(i=Jc(i))&&(a=i.a[a.toString()],i=-1,a&&(i=Sd(a,c,d,v)),(c=-1<i?a[i]:null)&&J_(c))}function J_(i){if(typeof i!="number"&&i&&!i.wa){var a=i.src;if(a&&a[Ua])Td(a.v,i);else{var c=i.type,d=i.proxy;a.removeEventListener?a.removeEventListener(c,d,i.capture):a.detachEvent?a.detachEvent(Z_(c),d):a.addListener&&a.removeListener&&a.removeListener(d),(c=Jc(a))?(Td(c,i),c.b==0&&(c.src=null,a[Ad]=null)):Yc(i)}}}function Z_(i){return i in kd?kd[i]:kd[i]="on"+i}function e0(i,a,c,d){var v=!0;if((i=Jc(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var w=a[i];w&&w.capture==c&&!w.wa&&(w=t0(w,d),v=v&&w!==!1)}return v}function t0(i,a){var c=i.listener,d=i.Wa||i.src;return i.Qa&&J_(i),c.call(d,a)}function wC(i,a){if(i.wa)return!0;if(!Y_){if(!a)e:{a=["window","event"];for(var c=f,d=0;d<a.length;d++)if(c=c[a[d]],c==null){a=null;break e}a=c}if(d=a,a=new co(d,this),c=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var v=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{v=!0}(v||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],v=a.b;v;v=v.parentNode)d.push(v);for(i=i.type,v=d.length-1;0<=v;v--){a.b=d[v];var w=e0(d[v],i,!0,a);c=c&&w}for(v=0;v<d.length;v++)a.b=d[v],w=e0(d[v],i,!1,a),c=c&&w}return c}return t0(i,new co(a,this))}function Jc(i){return i=i[Ad],i instanceof Qc?i:null}var Cd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Od(i){return I(i)?i:(i[Cd]||(i[Cd]=function(a){return i.handleEvent(a)}),i[Cd])}function gn(){Xc.call(this),this.v=new Qc(this),this.bc=this,this.hb=null}V(gn,Xc),gn.prototype[Ua]=!0,gn.prototype.addEventListener=function(i,a,c,d){rr(this,i,a,c,d)},gn.prototype.removeEventListener=function(i,a,c,d){Hn(this,i,a,c,d)},gn.prototype.dispatchEvent=function(i){var a,c=this.hb;if(c)for(a=[];c;c=c.hb)a.push(c);c=this.bc;var d=i.type||i;if(typeof i=="string")i=new On(i,c);else if(i instanceof On)i.target=i.target||c;else{var v=i;i=new On(d,c),Jt(i,v)}if(v=!0,a)for(var w=a.length-1;0<=w;w--){var b=i.b=a[w];v=Zc(b,d,!0,i)&&v}if(b=i.b=c,v=Zc(b,d,!0,i)&&v,v=Zc(b,d,!1,i)&&v,a)for(w=0;w<a.length;w++)b=i.b=a[w],v=Zc(b,d,!1,i)&&v;return v},gn.prototype.Da=function(){if(gn.bb.Da.call(this),this.v){var i=this.v,a;for(a in i.a){for(var c=i.a[a],d=0;d<c.length;d++)Yc(c[d]);delete i.a[a],i.b--}}this.hb=null};function n0(i,a,c,d,v){i.v.add(String(a),c,!1,d,v)}function Nd(i,a,c,d,v){i.v.add(String(a),c,!0,d,v)}function Zc(i,a,c,d){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var v=!0,w=0;w<a.length;++w){var b=a[w];if(b&&!b.wa&&b.capture==c){var S=b.listener,q=b.Wa||b.src;b.Qa&&Td(i.v,b),v=S.call(q,d)!==!1&&v}}return v&&!d.defaultPrevented}function Rd(i,a,c){if(I(i))c&&(i=U(i,c));else if(i&&typeof i.handleEvent=="function")i=U(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(i,a||0)}function vs(i){var a=null;return new Ke(function(c,d){a=Rd(function(){c(void 0)},i),a==-1&&d(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(a),c})}function r0(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(_(i)){for(var a=[],c=i.length,d=0;d<c;d++)a.push(i[d]);return a}a=[],c=0;for(d in i)a[c++]=i[d];return a}function i0(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(_(i)||typeof i=="string"){var a=[];i=i.length;for(var c=0;c<i;c++)a.push(c);return a}a=[],c=0;for(var d in i)a[c++]=d;return a}}function bC(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(_(i)||typeof i=="string")K(i,a,void 0);else for(var c=i0(i),d=r0(i),v=d.length,w=0;w<v;w++)a.call(void 0,d[w],c&&c[w],i)}function ys(i,a){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(i)if(i instanceof ys)for(c=i.Y(),d=0;d<c.length;d++)this.set(c[d],i.get(c[d]));else for(d in i)this.set(d,i[d])}e=ys.prototype,e.X=function(){Pd(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return Pd(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Pd(i){if(i.c!=i.a.length){for(var a=0,c=0;a<i.a.length;){var d=i.a[a];lo(i.b,d)&&(i.a[c++]=d),a++}i.a.length=c}if(i.c!=i.a.length){var v={};for(c=a=0;a<i.a.length;)d=i.a[a],lo(v,d)||(i.a[c++]=d,v[d]=1),a++;i.a.length=c}}e.get=function(i,a){return lo(this.b,i)?this.b[i]:a},e.set=function(i,a){lo(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var c=this.Y(),d=0;d<c.length;d++){var v=c[d],w=this.get(v);i.call(a,w,v,this)}};function lo(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var o0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function IC(i,a){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var d=i[c].indexOf("="),v=null;if(0<=d){var w=i[c].substring(0,d);v=i[c].substring(d+1)}else w=i[c];a(w,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function vi(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;i instanceof vi?(this.i=a!==void 0?a:i.i,ja(this,i.c),this.l=i.l,this.a=i.a,Ba(this,i.g),this.f=i.f,Dd(this,c0(i.b)),this.h=i.h):i&&(c=String(i).match(o0))?(this.i=!!a,ja(this,c[1]||"",!0),this.l=qa(c[2]||""),this.a=qa(c[3]||"",!0),Ba(this,c[4]),this.f=qa(c[5]||"",!0),Dd(this,c[6]||"",!0),this.h=qa(c[7]||"")):(this.i=!!a,this.b=new fo(null,this.i))}vi.prototype.toString=function(){var i=[],a=this.c;a&&i.push($a(a,s0,!0),":");var c=this.a;return(c||a=="file")&&(i.push("//"),(a=this.l)&&i.push($a(a,s0,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&i.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&i.push("/"),i.push($a(c,c.charAt(0)=="/"?SC:TC,!0))),(c=this.b.toString())&&i.push("?",c),(c=this.h)&&i.push("#",$a(c,kC)),i.join("")},vi.prototype.resolve=function(i){var a=new vi(this),c=!!i.c;c?ja(a,i.c):c=!!i.l,c?a.l=i.l:c=!!i.a,c?a.a=i.a:c=i.g!=null;var d=i.f;if(c)Ba(a,i.g);else if(c=!!i.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var v=a.f.lastIndexOf("/");v!=-1&&(d=a.f.substr(0,v+1)+d)}if(v=d,v==".."||v==".")d="";else if(W(v,"./")||W(v,"/.")){d=v.lastIndexOf("/",0)==0,v=v.split("/");for(var w=[],b=0;b<v.length;){var S=v[b++];S=="."?d&&b==v.length&&w.push(""):S==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&b==v.length&&w.push("")):(w.push(S),d=!0)}d=w.join("/")}else d=v}return c?a.f=d:c=i.b.toString()!=="",c?Dd(a,c0(i.b)):c=!!i.h,c&&(a.h=i.h),a};function ja(i,a,c){i.c=c?qa(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function Ba(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function Dd(i,a,c){a instanceof fo?(i.b=a,xC(i.b,i.i)):(c||(a=$a(a,AC)),i.b=new fo(a,i.i))}function xt(i,a,c){i.b.set(a,c)}function ir(i,a){return i.b.get(a)}function Nn(i){return i instanceof vi?new vi(i):new vi(i,void 0)}function el(i,a,c,d){var v=new vi(null,void 0);return i&&ja(v,i),a&&(v.a=a),c&&Ba(v,c),d&&(v.f=d),v}function qa(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function $a(i,a,c){return typeof i=="string"?(i=encodeURI(i).replace(a,EC),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function EC(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var s0=/[#\/\?@]/g,TC=/[#\?:]/g,SC=/[#\?]/g,AC=/[#\?@]/g,kC=/#/g;function fo(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function yi(i){i.a||(i.a=new ys,i.b=0,i.c&&IC(i.c,function(a,c){i.add(decodeURIComponent(a.replace(/\+/g," ")),c)}))}function a0(i){var a=i0(i);if(typeof a>"u")throw Error("Keys are undefined");var c=new fo(null,void 0);i=r0(i);for(var d=0;d<a.length;d++){var v=a[d],w=i[d];Array.isArray(w)?u0(c,v,w):c.add(v,w)}return c}e=fo.prototype,e.add=function(i,a){yi(this),this.c=null,i=_s(this,i);var c=this.a.get(i);return c||this.a.set(i,c=[]),c.push(a),this.b+=1,this};function Nr(i,a){yi(i),a=_s(i,a),lo(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,lo(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&Pd(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function Ld(i,a){return yi(i),a=_s(i,a),lo(i.a.b,a)}e.forEach=function(i,a){yi(this),this.a.forEach(function(c,d){K(c,function(v){i.call(a,v,d,this)},this)},this)},e.Y=function(){yi(this);for(var i=this.a.X(),a=this.a.Y(),c=[],d=0;d<a.length;d++)for(var v=i[d],w=0;w<v.length;w++)c.push(a[d]);return c},e.X=function(i){yi(this);var a=[];if(typeof i=="string")Ld(this,i)&&(a=Q(a,this.a.get(_s(this,i))));else{i=this.a.X();for(var c=0;c<i.length;c++)a=Q(a,i[c])}return a},e.set=function(i,a){return yi(this),this.c=null,i=_s(this,i),Ld(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.X(i),0<i.length?String(i[0]):a):a};function u0(i,a,c){Nr(i,a),0<c.length&&(i.c=null,i.a.set(_s(i,a),se(c)),i.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),c=0;c<a.length;c++){var d=a[c],v=encodeURIComponent(String(d));d=this.X(d);for(var w=0;w<d.length;w++){var b=v;d[w]!==""&&(b+="="+encodeURIComponent(String(d[w]))),i.push(b)}}return this.c=i.join("&")};function c0(i){var a=new fo;return a.c=i.c,i.a&&(a.a=new ys(i.a),a.b=i.b),a}function _s(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function xC(i,a){a&&!i.f&&(yi(i),i.c=null,i.a.forEach(function(c,d){var v=d.toLowerCase();d!=v&&(Nr(this,d),u0(this,v,c))},i)),i.f=a}function l0(i){var a=[];return Md(new CC,i,a),a.join("")}function CC(){}function Md(i,a,c){if(a==null)c.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var d=a;a=d.length,c.push("[");for(var v="",w=0;w<a;w++)c.push(v),Md(i,d[w],c),v=",";c.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{c.push("{"),v="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(w=a[d],typeof w!="function"&&(c.push(v),h0(d,c),c.push(":"),Md(i,w,c),v=","));c.push("}");return}}switch(typeof a){case"string":h0(a,c);break;case"number":c.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":c.push(String(a));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var f0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},OC=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function h0(i,a){a.push('"',i.replace(OC,function(c){var d=f0[c];return d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),f0[c]=d),d}),'"')}function Fd(){var i=Zt();return hr&&!!gi&&gi==11||/Edge\/\d+/.test(i)}function Ha(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function d0(i,a){a=a||f.window;var c="about:blank";i&&(c=Hc(b_(i)||E_)),a.location.href=c}function p0(i,a){var c=[],d;for(d in i)d in a?typeof i[d]!=typeof a[d]?c.push(d):typeof i[d]=="object"&&i[d]!=null&&a[d]!=null?0<p0(i[d],a[d]).length&&c.push(d):i[d]!==a[d]&&c.push(d):c.push(d);for(d in a)d in i||c.push(d);return c}function NC(){var i=Zt();return i=ws(i)!=y0?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!hr||!gi||9<gi}function m0(i){return i=(i||Zt()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function ho(i){i=i||f.window;try{i.close()}catch{}}function g0(i,a,c){var d=Math.floor(1e9*Math.random()).toString();a=a||500,c=c||600;var v=(window.screen.availHeight-c)/2,w=(window.screen.availWidth-a)/2;a={width:a,height:c,top:0<v?v:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Zt().toLowerCase(),d&&(a.target=d,W(c,"crios/")&&(a.target="_blank")),ws(Zt())==jd&&(i=i||"http://localhost",a.scrollbars=!0),c=i||"",(i=a)||(i={}),d=window,a=c instanceof Cn?c:b_(typeof c.href<"u"?c.href:String(c))||E_,c=i.target||c.target,v=[];for(b in i)switch(b){case"width":case"height":case"top":case"left":v.push(b+"="+i[b]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(b+"="+(i[b]?1:0))}var b=v.join(",");if((Se("iPhone")&&!Se("iPod")&&!Se("iPad")||Se("iPad")||Se("iPod"))&&d.navigator&&d.navigator.standalone&&c&&c!="_self"?(b=Gc(document,"A"),m_(b,"HTMLAnchorElement"),a=a instanceof Cn?a:I_(a),b.href=Hc(a),b.setAttribute("target",c),i.noreferrer&&b.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,d,1),b.dispatchEvent(i),b={}):i.noreferrer?(b=S_("",d,c,b),i=Hc(a),b&&(tC&&W(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),b.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+pd(i)+'">',i=(d=v_())?d.createHTML(i):i,i=new ms(i,null,T_),d=b.document)&&(d.write(Qx(i)),d.close())):(b=S_(a,d,c,b))&&i.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function RC(i){return new Ke(function(a){function c(){vs(2e3).then(function(){if(!i||i.closed)a();else return c()})}return c()})}var PC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DC=/^[^@]+@[^@]+$/;function tl(){var i=null;return new Ke(function(a){f.document.readyState=="complete"?a():(i=function(){a()},xd(window,"load",i))}).o(function(a){throw Hn(window,"load",i),a})}function LC(){return Vd(void 0)?tl().then(function(){return new Ke(function(i,a){var c=f.document,d=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(d),i()},!1)})}):yt(Error("Cordova must run in an Android or iOS file scheme."))}function Vd(i){return i=i||Zt(),!(Is()!=="file:"&&Is()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ud(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function dr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Rr(){return Ce.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ce.INTERNAL.hasOwnProperty("node")?"Node":dr()?"Worker":"Browser"}function v0(){var i=Rr();return i==="ReactNative"||i==="Node"}function MC(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var jd="Firefox",y0="Chrome";function ws(i){var a=i.toLowerCase();if(W(a,"opera/")||W(a,"opr/")||W(a,"opios/"))return"Opera";if(W(a,"iemobile"))return"IEMobile";if(W(a,"msie")||W(a,"trident/"))return"IE";if(W(a,"edge/"))return"Edge";if(W(a,"firefox/"))return jd;if(W(a,"silk/"))return"Silk";if(W(a,"blackberry"))return"Blackberry";if(W(a,"webos"))return"Webos";if(!W(a,"safari/")||W(a,"chrome/")||W(a,"crios/")||W(a,"android"))if(!W(a,"chrome/")&&!W(a,"crios/")||W(a,"edge/")){if(W(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return y0;else return"Safari";return"Other"}var _0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function bs(i,a){a=a||[];var c=[],d={},v;for(v in _0)d[_0[v]]=!0;for(v=0;v<a.length;v++)typeof d[a[v]]<"u"&&(delete d[a[v]],c.push(a[v]));return c.sort(),a=c,a.length||(a=["FirebaseCore-web"]),c=Rr(),c==="Browser"?(d=Zt(),c=ws(d)):c==="Worker"&&(d=Zt(),c=ws(d)+"-"+c),c+"/JsCore/"+i+"/"+a.join(",")}function Zt(){return f.navigator&&f.navigator.userAgent||""}function _t(i,a){i=i.split("."),a=a||f;for(var c=0;c<i.length&&typeof a=="object"&&a!=null;c++)a=a[i[c]];return c!=i.length&&(a=void 0),a}function Bd(){try{var i=f.localStorage,a=mo();if(i)return i.setItem(a,"1"),i.removeItem(a),Fd()?!!f.indexedDB:!0}catch{return dr()&&!!f.indexedDB}return!1}function po(){return(nl()||Is()==="chrome-extension:"||Vd())&&!v0()&&Bd()&&!dr()}function nl(){return Is()==="http:"||Is()==="https:"}function Is(){return f.location&&f.location.protocol||null}function Ka(i){return i=i||Zt(),!(m0(i)||ws(i)==jd)}function Ga(i){return typeof i>"u"?null:l0(i)}function w0(i){var a={},c;for(c in i)i.hasOwnProperty(c)&&i[c]!==null&&i[c]!==void 0&&(a[c]=i[c]);return a}function Es(i){if(i!==null)return JSON.parse(i)}function mo(i){return i||Math.floor(1e9*Math.random()).toString()}function b0(i){return i=i||Zt(),!(ws(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function I0(){var i=f.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var c=0;c<i.CP.length;c++)i.CP[c]=null}}function _i(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=Zt(),a=Rr(),this.b=m0(i)||a==="ReactNative"}_i.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(nl()||Is()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function qd(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function FC(){var i=f.document,a=null;return qd()||!i?Ee():new Ke(function(c){a=function(){qd()&&(i.removeEventListener("visibilitychange",a,!1),c())},i.addEventListener("visibilitychange",a,!1)}).o(function(c){throw i.removeEventListener("visibilitychange",a,!1),c})}function za(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch{}return null}function E0(){return!(!_t("fireauth.oauthhelper",f)&&!_t("fireauth.iframe",f))}function VC(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function UC(){var i=f.navigator;return i&&i.serviceWorker?Ee().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Ee(null)}var T0={};function $d(i){T0[i]||(T0[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var Hd;try{var Kd={};Object.defineProperty(Kd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kd,"abcd",{configurable:!0,enumerable:!0,value:2}),Hd=Kd.abcd==2}catch{Hd=!1}function ve(i,a,c){Hd?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:c}):i[a]=c}function vn(i,a){if(a)for(var c in a)a.hasOwnProperty(c)&&ve(i,c,a[c])}function Pr(i){var a={};return vn(a,i),a}function jC(i){var a={},c;for(c in i)i.hasOwnProperty(c)&&(a[c]=i[c]);return a}function BC(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var c=0;c<a.length;c++){var d=i[a[c]];if(d==null||d==="")return!1}return!0}function Gd(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var c in i)ve(a,c,Gd(i[c]))}return a}function zd(i){var a=i&&(i[Qd]?"phone":null);if(a&&i&&i[Yd]){ve(this,"uid",i[Yd]),ve(this,"displayName",i[S0]||null);var c=null;i[Xd]&&(c=new Date(i[Xd]).toUTCString()),ve(this,"enrollmentTime",c),ve(this,"factorId",a)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}zd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Wd(i){try{var a=new Wa(i)}catch{a=null}return a}var S0="displayName",Xd="enrolledAt",Yd="mfaEnrollmentId",Qd="phoneInfo";function Wa(i){zd.call(this,i),ve(this,"phoneNumber",i[Qd])}V(Wa,zd),Wa.prototype.w=function(){var i=Wa.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function qC(i){var a={},c=i[$C],d=i[KC],v=i[GC];if(i=Wd(i[HC]),!v||v!=rl&&v!=Xa&&!c||v==Xa&&!d||v==Jd&&!i)throw Error("Invalid checkActionCode response!");v==Xa?(a[k0]=c||null,a[x0]=c||null,a[A0]=d):(a[k0]=d||null,a[x0]=d||null,a[A0]=c||null),a[zC]=i||null,ve(this,XC,v),ve(this,WC,Gd(a))}var Jd="REVERT_SECOND_FACTOR_ADDITION",rl="EMAIL_SIGNIN",Xa="VERIFY_AND_CHANGE_EMAIL",$C="email",HC="mfaInfo",KC="newEmail",GC="requestType",A0="email",k0="fromEmail",zC="multiFactorInfo",x0="previousEmail",WC="data",XC="operation";function Zd(i){i=Nn(i);var a=ir(i,C0)||null,c=ir(i,O0)||null,d=ir(i,N0)||null;if(d=d&&ZC[d]||null,!a||!c||!d)throw new k("argument-error",C0+", "+O0+"and "+N0+" are required in a valid action code URL.");vn(this,{apiKey:a,operation:d,code:c,continueUrl:ir(i,YC)||null,languageCode:ir(i,QC)||null,tenantId:ir(i,JC)||null})}var C0="apiKey",O0="oobCode",YC="continueUrl",QC="languageCode",N0="mode",JC="tenantId",ZC={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Jd,signIn:rl,verifyAndChangeEmail:Xa,verifyEmail:"VERIFY_EMAIL"};function R0(i){try{return new Zd(i)}catch{return null}}function il(i){var a=i[eO];if(typeof a>"u")throw new k("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new k("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var c=i[P0];if(c&&typeof c=="object"){a=c[V0];var d=c[M0];if(c=c[F0],typeof a=="string"&&a.length){if(this.a=a,typeof d<"u"&&typeof d!="boolean")throw new k("argument-error",M0+" property must be a boolean when specified.");if(this.g=!!d,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new k("argument-error",F0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof a<"u")throw new k("argument-error",V0+" property must be a non empty string when specified.");if(typeof d<"u"||typeof c<"u")throw new k("missing-android-pkg-name")}}else if(typeof c<"u")throw new k("argument-error",P0+" property must be a non null object when specified.");if(this.f=null,(a=i[L0])&&typeof a=="object"){if(a=a[U0],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new k("argument-error",U0+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new k("argument-error",L0+" property must be a non null object when specified.");if(a=i[ep],typeof a<"u"&&typeof a!="boolean")throw new k("argument-error",ep+" property must be a boolean when specified.");if(this.c=!!a,i=i[D0],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new k("argument-error",D0+" property must be a non empty string when specified.");this.i=i||null}var P0="android",D0="dynamicLinkDomain",ep="handleCodeInApp",L0="iOS",eO="url",M0="installApp",F0="minimumVersion",V0="packageName",U0="bundleId";function ol(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var c in a)a[c]===null&&delete a[c];return a}function tO(i){return Ne(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var Ya=null;function nO(i){var a=[];return rO(i,function(c){a.push(c)}),a}function rO(i,a){function c(q){for(;d<i.length;){var Y=i.charAt(d++),Le=Ya[Y];if(Le!=null)return Le;if(!/^[\s\xa0]*$/.test(Y))throw Error("Unknown base64 encoding at char: "+Y)}return q}iO();for(var d=0;;){var v=c(-1),w=c(0),b=c(64),S=c(64);if(S===64&&v===-1)break;a(v<<2|w>>4),b!=64&&(a(w<<4&240|b>>2),S!=64&&a(b<<6&192|S))}}function iO(){if(!Ya){Ya={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=i.concat(a[c].split("")),v=0;v<d.length;v++){var w=d[v];Ya[w]===void 0&&(Ya[w]=v)}}}function sl(i){var a=j0(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}sl.prototype.T=function(){return this.f},sl.prototype.l=function(){return this.c},sl.prototype.toString=function(){return this.h};function al(i){try{return new sl(i)}catch{return null}}function j0(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,c=0;c<a;c++)i+=".";try{var d=nO(i);for(i=[],c=a=0;a<d.length;){var v=d[a++];if(128>v)i[c++]=String.fromCharCode(v);else if(191<v&&224>v){var w=d[a++];i[c++]=String.fromCharCode((v&31)<<6|w&63)}else if(239<v&&365>v){w=d[a++];var b=d[a++],S=d[a++],q=((v&7)<<18|(w&63)<<12|(b&63)<<6|S&63)-65536;i[c++]=String.fromCharCode(55296+(q>>10)),i[c++]=String.fromCharCode(56320+(q&1023))}else w=d[a++],b=d[a++],i[c++]=String.fromCharCode((v&15)<<12|(w&63)<<6|b&63)}return JSON.parse(i.join(""))}catch{}return null}var B0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ul=["client_id","response_type","scope","redirect_uri","state"],tp={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:ul},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:ul},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:ul},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:B0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function np(i){for(var a in tp)if(tp[a].fa==i)return tp[a];return null}function q0(i){var a={};a["facebook.com"]=H0,a["google.com"]=G0,a["github.com"]=K0,a["twitter.com"]=z0;var c=i&&i[$0];try{if(c)return a[c]?new a[c](i):new Dr(i);if(typeof i[rp]<"u")return new ip(i)}catch{}return null}var rp="idToken",$0="providerId";function ip(i){var a=i[$0];if(!a&&i[rp]){var c=al(i[rp]);c&&c.b&&(a=c.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),c=!1,typeof i.isNewUser<"u"?c=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),ve(this,"providerId",a),ve(this,"isNewUser",c)}function Dr(i){ip.call(this,i),i=Es(i.rawUserInfo||"{}"),ve(this,"profile",Gd(i||{}))}V(Dr,ip);function H0(i){if(Dr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}V(H0,Dr);function K0(i){if(Dr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");ve(this,"username",this.profile&&this.profile.login||null)}V(K0,Dr);function G0(i){if(Dr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}V(G0,Dr);function z0(i){if(Dr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ve(this,"username",i.screenName||null)}V(z0,Dr);function W0(i){var a=Nn(i),c=ir(a,"link"),d=ir(Nn(c),"link");return a=ir(a,"deep_link_id"),ir(Nn(a),"link")||a||d||c||i}function cl(i,a){if(!i&&!a)throw new k("internal-error","Internal assert: no raw session string available");if(i&&a)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?Qa:ll}var Qa="enroll",ll="signin";cl.prototype.Ha=function(){return this.a?Ee(this.a):Ee(this.b)},cl.prototype.w=function(){return this.type==Qa?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Ts(){}Ts.prototype.ka=function(){},Ts.prototype.b=function(){},Ts.prototype.c=function(){},Ts.prototype.w=function(){};function Ss(i,a){return i.then(function(c){if(c[gr]){var d=al(c[gr]);if(!d||a!=d.i)throw new k("user-mismatch");return c}throw new k("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==oe+"user-not-found"?new k("user-mismatch"):c})}function go(i,a){if(a)this.a=a;else throw new k("internal-error","failed to construct a credential");ve(this,"providerId",i),ve(this,"signInMethod",i)}go.prototype.ka=function(i){return xp(i,op(this))},go.prototype.b=function(i,a){var c=op(this);return c.idToken=a,Cp(i,c)},go.prototype.c=function(i,a){return Ss(Op(i,op(this)),a)};function op(i){return{pendingToken:i.a,requestUri:"http://localhost"}}go.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function oO(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new go(i.providerId,i.pendingToken)}catch{}return null}function Jr(i,a,c){if(this.a=null,a.idToken||a.accessToken)a.idToken&&ve(this,"idToken",a.idToken),a.accessToken&&ve(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&ve(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)ve(this,"accessToken",a.oauthToken),ve(this,"secret",a.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");ve(this,"providerId",i),ve(this,"signInMethod",c)}Jr.prototype.ka=function(i){return xp(i,sp(this))},Jr.prototype.b=function(i,a){var c=sp(this);return c.idToken=a,Cp(i,c)},Jr.prototype.c=function(i,a){var c=sp(this);return Ss(Op(i,c),a)};function sp(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:a0(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}Jr.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function sO(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new Jr(i.providerId,a,i.signInMethod)}catch{}}return null}function vo(i,a){this.Qc=a||[],vn(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(np(i)||{}).Ja||null,this.pb=null}vo.prototype.Ka=function(i){return this.Jb=st(i),this};function X0(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,i,[])}V(X0,vo);function Kn(i){vo.call(this,i,ul),this.a=[]}V(Kn,vo),Kn.prototype.Ca=function(i){return R(this.a,i)||this.a.push(i),this},Kn.prototype.Rb=function(){return se(this.a)},Kn.prototype.credential=function(i,a){var c;if(E(i)?c={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:c={idToken:i||null,accessToken:a||null},!c.idToken&&!c.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new Jr(this.providerId,c,this.providerId)};function yo(){Kn.call(this,"facebook.com")}V(yo,Kn),ve(yo,"PROVIDER_ID","facebook.com"),ve(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Y0(i){if(!i)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return E(i)&&(a=i.accessToken),new yo().credential({accessToken:a})}function _o(){Kn.call(this,"github.com")}V(_o,Kn),ve(_o,"PROVIDER_ID","github.com"),ve(_o,"GITHUB_SIGN_IN_METHOD","github.com");function Q0(i){if(!i)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return E(i)&&(a=i.accessToken),new _o().credential({accessToken:a})}function wo(){Kn.call(this,"google.com"),this.Ca("profile")}V(wo,Kn),ve(wo,"PROVIDER_ID","google.com"),ve(wo,"GOOGLE_SIGN_IN_METHOD","google.com");function J0(i,a){var c=i;return E(i)&&(c=i.idToken,a=i.accessToken),new wo().credential({idToken:c,accessToken:a})}function As(){vo.call(this,"twitter.com",B0)}V(As,vo),ve(As,"PROVIDER_ID","twitter.com"),ve(As,"TWITTER_SIGN_IN_METHOD","twitter.com");function Z0(i,a){var c=i;if(E(c)||(c={oauthToken:i,oauthTokenSecret:a}),!c.oauthToken||!c.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Jr("twitter.com",c,"twitter.com")}function wi(i,a,c){this.a=i,this.f=a,ve(this,"providerId","password"),ve(this,"signInMethod",c===or.EMAIL_LINK_SIGN_IN_METHOD?or.EMAIL_LINK_SIGN_IN_METHOD:or.EMAIL_PASSWORD_SIGN_IN_METHOD)}wi.prototype.ka=function(i){return this.signInMethod==or.EMAIL_LINK_SIGN_IN_METHOD?ze(i,HO,{email:this.a,oobCode:this.f}):ze(i,kw,{email:this.a,password:this.f})},wi.prototype.b=function(i,a){return this.signInMethod==or.EMAIL_LINK_SIGN_IN_METHOD?ze(i,KO,{idToken:a,email:this.a,oobCode:this.f}):ze(i,Aw,{idToken:a,email:this.a,password:this.f})},wi.prototype.c=function(i,a){return Ss(this.ka(i),a)},wi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function aO(i){return i&&i.email&&i.password?new wi(i.email,i.password,i.signInMethod):null}function or(){vn(this,{providerId:"password",isOAuthProvider:!1})}function ew(i,a){if(a=ap(a),!a)throw new k("argument-error","Invalid email link!");return new wi(i,a.code,or.EMAIL_LINK_SIGN_IN_METHOD)}function ap(i){return i=W0(i),(i=R0(i))&&i.operation===rl?i:null}vn(or,{PROVIDER_ID:"password"}),vn(or,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),vn(or,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function bi(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new k("internal-error");this.a=i,ve(this,"providerId","phone"),this.fa="phone",ve(this,"signInMethod","phone")}bi.prototype.ka=function(i){return i.gb(Ja(this))},bi.prototype.b=function(i,a){var c=Ja(this);return c.idToken=a,ze(i,fN,c)},bi.prototype.c=function(i,a){var c=Ja(this);return c.operation="REAUTH",i=ze(i,hN,c),Ss(i,a)},bi.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function uO(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){i[c]&&(a[c]=i[c])}),new bi(a)}return null}function Ja(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function Zr(i){try{this.a=i||Ce.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}vn(this,{providerId:"phone",isOAuthProvider:!1})}Zr.prototype.gb=function(i,a){var c=this.a.a;return Ee(a.verify()).then(function(d){if(typeof d!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var v=E(i)?i.session:null,w=E(i)?i.phoneNumber:i,b;return v&&v.type==Qa?b=v.Ha().then(function(S){return LO(c,{idToken:S,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:d}})}):v&&v.type==ll?b=v.Ha().then(function(S){return MO(c,{mfaPendingCredential:S,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):b=DO(c,{phoneNumber:w,recaptchaToken:d}),b.then(function(S){return typeof a.reset=="function"&&a.reset(),S},function(S){throw typeof a.reset=="function"&&a.reset(),S});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function tw(i,a){if(!i)throw new k("missing-verification-id");if(!a)throw new k("missing-verification-code");return new bi({fb:i,eb:a})}vn(Zr,{PROVIDER_ID:"phone"}),vn(Zr,{PHONE_SIGN_IN_METHOD:"phone"});function up(i){if(i.temporaryProof&&i.phoneNumber)return new bi({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var c=i&&i.oauthAccessToken,d=i&&i.oauthTokenSecret,v=i&&i.nonce,w=i&&i.oauthIdToken,b=i&&i.pendingToken;try{switch(a){case"google.com":return J0(w,c);case"facebook.com":return Y0(c);case"github.com":return Q0(c);case"twitter.com":return Z0(c,d);default:return c||d||w||b?b?a.indexOf("saml.")==0?new go(a,b):new Jr(a,{pendingToken:b,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new Kn(a).credential({idToken:w,accessToken:c,rawNonce:v}):null}}catch{return null}}function cp(i){if(!i.isOAuthProvider)throw new k("invalid-oauth-provider")}function pr(i,a,c,d,v,w,b){if(this.c=i,this.b=a||null,this.g=c||null,this.f=d||null,this.i=w||null,this.h=b||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}pr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},pr.prototype.T=function(){return this.h},pr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function nw(i){return i=i||{},i.type?new pr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Oe(i.error),i.postBody,i.tenantId):null}function cO(){this.b=null,this.a=[]}var lp=null;function lO(i){var a=lp;a.a.push(i),a.b||(a.b=function(c){for(var d=0;d<a.a.length;d++)a.a[d](c)},i=_t("universalLinks.subscribe",f),typeof i=="function"&&i(null,a.b))}function fp(i){var a="unauthorized-domain",c=void 0,d=Nn(i);i=d.a,d=d.c,d=="chrome-extension"?c=A_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):d=="http"||d=="https"?c=A_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",k.call(this,a,c)}V(fp,k);function Za(i,a,c){k.call(this,i,c),i=a||{},i.Kb&&ve(this,"email",i.Kb),i.ea&&ve(this,"phoneNumber",i.ea),i.credential&&ve(this,"credential",i.credential),i.$b&&ve(this,"tenantId",i.$b)}V(Za,k),Za.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&Jt(i,a),i},Za.prototype.toJSON=function(){return this.w()};function fl(i){if(i.code){var a=i.code||"";a.indexOf(oe)==0&&(a=a.substring(oe.length));var c={credential:up(i),$b:i.tenantId};if(i.email)c.Kb=i.email;else if(i.phoneNumber)c.ea=i.phoneNumber;else if(!c.credential)return new k(a,i.message||void 0);return new Za(a,c,i.message)}return null}function eu(){}eu.prototype.c=null;function rw(i){return i.c||(i.c=i.b())}var hp;function hl(){}V(hl,eu),hl.prototype.a=function(){var i=iw(this);return i?new ActiveXObject(i):new XMLHttpRequest},hl.prototype.b=function(){var i={};return iw(this)&&(i[0]=!0,i[1]=!0),i};function iw(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<a.length;c++){var d=a[c];try{return new ActiveXObject(d),i.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}hp=new hl;function dl(){}V(dl,eu),dl.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new ow;throw Error("Unsupported browser")},dl.prototype.b=function(){return{}};function ow(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=U(this.qc,this),this.a.onerror=U(this.Tb,this),this.a.onprogress=U(this.rc,this),this.a.ontimeout=U(this.vc,this)}e=ow.prototype,e.open=function(i,a,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,dp(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",dp(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,dp(this,1)};function dp(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function pp(i,a,c){this.reset(i,a,c,void 0,void 0)}pp.prototype.a=null,pp.prototype.reset=function(i,a,c,d,v){delete this.a};function mp(i){this.f=i,this.b=this.c=this.a=null}function tu(i,a){this.name=i,this.value=a}tu.prototype.toString=function(){return this.name};var sw=new tu("SEVERE",1e3),gp=new tu("WARNING",900),fO=new tu("CONFIG",700),hO=new tu("FINE",500);function aw(i){return i.c?i.c:i.a?aw(i.a):(Et("Root logger has no level set."),null)}mp.prototype.log=function(i,a,c){if(i.value>=aw(this).value)for(I(a)&&(a=a()),i=new pp(i,String(a),this.f),c&&(i.a=c),c=this;c;)c=c.a};var vp={},pl=null;function yp(i){pl||(pl=new mp(""),vp[""]=pl,pl.c=fO);var a;if(!(a=vp[i])){a=new mp(i);var c=i.lastIndexOf("."),d=i.substr(c+1);c=yp(i.substr(0,c)),c.b||(c.b={}),c.b[d]=a,a.a=c,vp[i]=a}return a}function sr(i,a){i&&i.log(hO,a,void 0)}function ml(i){this.f=i}V(ml,eu),ml.prototype.a=function(){return new gl(this.f)},ml.prototype.b=function(i){return function(){return i}}({});function gl(i){gn.call(this),this.u=i,this.h=void 0,this.readyState=_p,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=yp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}V(gl,gn);var _p=0;e=gl.prototype,e.open=function(i,a){if(this.readyState!=_p)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,ru(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,nu(this)),this.readyState=_p},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,ru(this)),this.a&&(this.readyState=3,ru(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,uw(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function uw(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?nu(this):ru(this),this.readyState==3&&uw(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,nu(this))},e.sc=function(i){this.a&&(this.response=i,nu(this))},e.Va=function(i){var a=this.i;a&&a.log(gp,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&nu(this)};function nu(i){i.readyState=4,i.g=null,i.c=null,i.m=null,ru(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(gp,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(gp,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),c=a.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=a.next();return i.join(`\r
`)};function ru(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(gl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function iu(i){gn.call(this),this.headers=new ys,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=cw,this.u=this.S=!1}V(iu,gn);var cw="";iu.prototype.b=yp("goog.net.XhrIo");var dO=/^https?$/i,pO=["POST","PUT"];function mO(i,a,c,d,v){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);c=c?c.toUpperCase():"GET",i.l=a,i.h="",i.P=c,i.J=!1,i.c=!0,i.a=i.D?i.D.a():hp.a(),i.C=i.D?rw(i.D):rw(hp),i.a.onreadystatechange=U(i.Wb,i);try{sr(i.b,ei(i,"Opening Xhr")),i.N=!0,i.a.open(c,String(a),!0),i.N=!1}catch(b){sr(i.b,ei(i,"Error opening Xhr: "+b.message)),lw(i,b);return}a=d||"";var w=new ys(i.headers);v&&bC(v,function(b,S){w.set(S,b)}),v=x(w.Y()),d=f.FormData&&a instanceof f.FormData,!R(pO,c)||v||d||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(b,S){this.a.setRequestHeader(S,b)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{dw(i),0<i.g&&(i.u=gO(i.a),sr(i.b,ei(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=U(i.Ma,i)):i.s=Rd(i.Ma,i.g,i)),sr(i.b,ei(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(b){sr(i.b,ei(i,"Send error: "+b.message)),lw(i,b)}}function gO(i){return hr&&O_(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function vO(i){return i.toLowerCase()=="content-type"}e=iu.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",sr(this.b,ei(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function lw(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,fw(i),vl(i)}function fw(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(sr(this.b,ei(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),vl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),vl(this,!0)),iu.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?hw(this):this.Jc())},e.Jc=function(){hw(this)};function hw(i){if(i.c&&typeof l<"u"){if(i.C[1]&&ou(i)==4&&yl(i)==2)sr(i.b,ei(i,"Local request error detected and ignored"));else if(i.i&&ou(i)==4)Rd(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),ou(i)==4){sr(i.b,ei(i,"Request complete")),i.c=!1;try{var a=yl(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var v;if(v=a===0){var w=String(i.l).match(o0)[1]||null;if(!w&&f.self&&f.self.location){var b=f.self.location.protocol;w=b.substr(0,b.length-1)}v=!dO.test(w?w.toLowerCase():"")}d=v}if(d)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var S=2<ou(i)?i.a.statusText:""}catch(q){sr(i.b,"Can not get status: "+q.message),S=""}i.h=S+" ["+yl(i)+"]",fw(i)}}finally{vl(i)}}}}function vl(i,a){if(i.a){dw(i);var c=i.a,d=i.C[0]?m:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{c.onreadystatechange=d}catch(v){(i=i.b)&&i.log(sw,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function dw(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function ou(i){return i.a?i.a.readyState:0}function yl(i){try{return 2<ou(i)?i.a.status:-1}catch{return-1}}function yO(i){try{return i.a?i.a.responseText:""}catch(a){return sr(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case cw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(sw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return sr(this.b,"Can not get response: "+a.message),null}};function ei(i,a){return a+" ["+i.P+" "+i.l+" "+yl(i)+"]"}function bo(i){var a=bO;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}bo.prototype.cancel=function(i){if(this.a)this.c instanceof bo&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new au,_l(this),su(this,!1,i))}},bo.prototype.m=function(i,a){this.i=!1,su(this,i,a)};function su(i,a,c){i.a=!0,i.c=c,i.f=!a,mw(i)}function _l(i){if(i.a){if(!i.v)throw new wl;i.v=!1}}function _O(i,a){wp(i,null,a,void 0)}function wp(i,a,c,d){i.g.push([a,c,d]),i.a&&mw(i)}bo.prototype.then=function(i,a,c){var d,v,w=new Ke(function(b,S){d=b,v=S});return wp(this,d,function(b){b instanceof au?w.cancel():v(b)}),w.then(i,a,c)},bo.prototype.$goog_Thenable=!0;function pw(i){return A(i.g,function(a){return I(a[1])})}function mw(i){if(i.h&&i.a&&pw(i)){var a=i.h,c=bl[a];c&&(f.clearTimeout(c.a),delete bl[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var d=c=!1;i.g.length&&!i.i;){var v=i.g.shift(),w=v[0],b=v[1];if(v=v[2],w=i.f?b:w)try{var S=w.call(v||i.s,a);S!==void 0&&(i.f=i.f&&(S==a||S instanceof Error),i.c=a=S),(Ve(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(d=!0,i.i=!0)}catch(q){a=q,i.f=!0,pw(i)||(c=!0)}}i.c=a,d&&(S=U(i.m,i,!0),d=U(i.m,i,!1),a instanceof bo?(wp(a,S,d),a.C=!0):a.then(S,d)),c&&(a=new gw(a),bl[a.a]=a,i.h=a.a)}function wl(){ye.call(this)}V(wl,ye),wl.prototype.message="Deferred has already fired",wl.prototype.name="AlreadyCalledError";function au(){ye.call(this)}V(au,ye),au.prototype.message="Deferred was canceled",au.prototype.name="CanceledError";function gw(i){this.a=f.setTimeout(U(this.c,this),0),this.b=i}gw.prototype.c=function(){throw delete bl[this.a],this.b};var bl={};function bp(i){var a={},c=a.document||document,d=y_(i).toString(),v=Gc(document,"SCRIPT"),w={Xb:v,Ma:void 0},b=new bo(w),S=null,q=a.timeout!=null?a.timeout:5e3;return 0<q&&(S=window.setTimeout(function(){Il(v,!0);var Y=new Ip(EO,"Timeout reached for loading script "+d);_l(b),su(b,!1,Y)},q),w.Ma=S),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(Il(v,a.xd||!1,S),_l(b),su(b,!0,null))},v.onerror=function(){Il(v,!0,S);var Y=new Ip(IO,"Error while loading script "+d);_l(b),su(b,!1,Y)},w=a.attributes||{},Jt(w,{type:"text/javascript",charset:"UTF-8"}),R_(v,w),Jx(v,i),wO(c).appendChild(v),b}function wO(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function bO(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&Il(i,!0,this.Ma)}}function Il(i,a,c){c!=null&&f.clearTimeout(c),i.onload=m,i.onerror=m,i.onreadystatechange=m,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var IO=0,EO=1;function Ip(i,a){var c="Jsloader error (code #"+i+")";a&&(c+=": "+a),ye.call(this,c),this.code=i}V(Ip,ye);function El(i){this.f=i}V(El,eu),El.prototype.a=function(){return new this.f},El.prototype.b=function(){return{}};function mr(i,a,c){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||TO,this.g=st(i.secureTokenHeaders||SO),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||AO,this.a=st(i.firebaseHeaders||kO),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Rr()=="Node",c=f.XMLHttpRequest||c&&Ce.INTERNAL.node&&Ce.INTERNAL.node.XMLHttpRequest,!c&&!dr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,dr()?this.f=new ml(self):v0()?this.f=new El(c):this.f=new dl,this.b=null}var Ep,gr="idToken",TO=new _i(3e4,6e4),SO={"Content-Type":"application/x-www-form-urlencoded"},AO=new _i(3e4,6e4),kO={"Content-Type":"application/json"};function vw(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function Tl(i,a){a&&(i.l=Tp("https://securetoken.googleapis.com/v1/token",a),i.h=Tp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=Tp("https://identitytoolkit.googleapis.com/v2/",a))}function Tp(i,a){return i=Nn(i),a=Nn(a.url),i.f=i.a+i.f,ja(i,a.c),i.a=a.a,Ba(i,a.g),i.toString()}function yw(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}mr.prototype.T=function(){return this.b};function _w(i,a,c,d,v,w,b){NC()||dr()?i=U(i.u,i):(Ep||(Ep=new Ke(function(S,q){CO(S,q)})),i=U(i.s,i)),i(a,c,d,v,w,b)}mr.prototype.u=function(i,a,c,d,v,w){if(dr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new iu(this.f);if(w){b.g=Math.max(0,w);var S=setTimeout(function(){b.dispatchEvent("timeout")},w)}n0(b,"complete",function(){S&&clearTimeout(S);var q=null;try{q=JSON.parse(yO(this))||null}catch{q=null}a&&a(q)}),Nd(b,"ready",function(){S&&clearTimeout(S),X_(this)}),Nd(b,"timeout",function(){S&&clearTimeout(S),X_(this),a&&a(null)}),mO(b,i,c,d,v)};var xO=new Or(qc,"https://apis.google.com/js/client.js?onload=%{onload}"),ww="__fcb"+Math.floor(1e6*Math.random()).toString();function CO(i,a){if(((window.gapi||{}).client||{}).request)i();else{f[ww]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var c=dd(xO,{onload:ww});_O(bp(c),function(){a(Error("CORS_UNSUPPORTED"))})}}mr.prototype.s=function(i,a,c,d,v){var w=this;Ep.then(function(){window.gapi.client.setApiKey(w.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:c,body:d,headers:v,authType:"none",callback:function(S){window.gapi.auth.setToken(b),a&&a(S)}})}).o(function(b){a&&a({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function OO(i,a){return new Ke(function(c,d){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?_w(i,i.l+"?key="+encodeURIComponent(i.c),function(v){v?v.error?d(Rp(v)):v.access_token&&v.refresh_token?c(v):d(new k("internal-error")):d(new k("network-request-failed"))},"POST",a0(a).toString(),i.g,i.m.get()):d(new k("internal-error"))})}function bw(i,a,c,d,v,w,b){var S=Nn(a+c);xt(S,"key",i.c),b&&xt(S,"cb",Date.now().toString());var q=d=="GET";if(q)for(var Y in v)v.hasOwnProperty(Y)&&xt(S,Y,v[Y]);return new Ke(function(Le,it){_w(i,S.toString(),function(et){et?et.error?it(Rp(et,w||{})):Le(et):it(new k("network-request-failed"))},d,q?void 0:l0(w0(v)),i.a,i.v.get())})}function Io(i){if(i=i.email,typeof i!="string"||!DC.test(i))throw new k("invalid-email")}function Iw(i){"email"in i&&Io(i)}function NO(i,a){return ze(i,BO,{identifier:a,continueUri:nl()?Ha():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function RO(i){return ze(i,ZO,{}).then(function(a){return a.authorizedDomains||[]})}function Rn(i){if(!i[gr])throw i.mfaPendingCredential?new k("multi-factor-auth-required",null,st(i)):new k("internal-error")}function Sp(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new k("internal-error")}else{if(!i.sessionInfo)throw new k("missing-verification-id");if(!i.code)throw new k("missing-verification-code")}}mr.prototype.Ab=function(){return ze(this,rN,{})},mr.prototype.Cb=function(i,a){return ze(this,Sw,{idToken:i,email:a})},mr.prototype.Db=function(i,a){return ze(this,Aw,{idToken:i,password:a})};var PO={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=mr.prototype,e.Eb=function(i,a){var c={idToken:i},d=[];return Ge(PO,function(v,w){var b=a[w];b===null?d.push(v):w in a&&(c[w]=b)}),d.length&&(c.deleteAttribute=d),ze(this,Sw,c)},e.wb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},Jt(i,a),ze(this,JO,i)},e.xb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},Jt(i,a),ze(this,XO,i)},e.vb=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},Jt(i,a),ze(this,YO,i)},e.Fb=function(i,a,c){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},Jt(i,c),ze(this,QO,i)};function DO(i,a){return ze(i,nN,a)}e.gb=function(i){return ze(this,lN,i)};function LO(i,a){return ze(i,iN,a).then(function(c){return c.phoneSessionInfo.sessionInfo})}function Ew(i){if(!i.phoneVerificationInfo)throw new k("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new k("missing-verification-code")}function MO(i,a){return ze(i,oN,a).then(function(c){return c.phoneResponseInfo.sessionInfo})}function FO(i,a,c){return ze(i,$O,{idToken:a,deleteProvider:c})}function Ap(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new k("internal-error")}function kp(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new fo(i.postBody),Ld(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function Tw(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=fl(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=fl(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=fl(i)):i.errorMessage&&(a=xw(i.errorMessage)),a)throw a;Rn(i)}function xp(i,a){return a.returnIdpCredential=!0,ze(i,sN,a)}function Cp(i,a){return a.returnIdpCredential=!0,ze(i,uN,a)}function Op(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,ze(i,aN,a)}function Np(i){if(!i.oobCode)throw new k("invalid-action-code")}e.ob=function(i,a){return ze(this,tN,{oobCode:i,newPassword:a})},e.Sa=function(i){return ze(this,UO,{oobCode:i})},e.kb=function(i){return ze(this,VO,{oobCode:i})};var VO={endpoint:"setAccountInfo",A:Np,Z:"email",B:!0},UO={endpoint:"resetPassword",A:Np,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},jO={endpoint:"signupNewUser",A:function(i){if(Io(i),!i.password)throw new k("weak-password")},G:Rn,V:!0,B:!0},BO={endpoint:"createAuthUri",B:!0},qO={endpoint:"deleteAccount",O:["idToken"]},$O={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new k("internal-error")}},HO={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Io,G:Rn,V:!0,B:!0},KO={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Io,G:Rn,V:!0},GO={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Ew,G:Rn,B:!0,Na:!0},zO={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Ew,G:Rn,B:!0,Na:!0},WO={endpoint:"getAccountInfo"},XO={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new k("internal-error");Io(i)},Z:"email",B:!0},YO={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},QO={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},JO={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new k("internal-error");Io(i)},Z:"email",B:!0},ZO={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},eN={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new k("internal-error")}},tN={endpoint:"resetPassword",A:Np,Z:"email",B:!0},nN={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Sw={endpoint:"setAccountInfo",O:["idToken"],A:Iw,V:!0},Aw={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(Iw(i),!i.password)throw new k("weak-password")},G:Rn,V:!0},rN={endpoint:"signupNewUser",G:Rn,V:!0,B:!0},iN={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new k("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},oN={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},sN={endpoint:"verifyAssertion",A:Ap,Za:kp,G:Tw,V:!0,B:!0},aN={endpoint:"verifyAssertion",A:Ap,Za:kp,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(i.errorMessage)throw xw(i.errorMessage);Rn(i)},V:!0,B:!0},uN={endpoint:"verifyAssertion",A:function(i){if(Ap(i),!i.idToken)throw new k("internal-error")},Za:kp,G:Tw,V:!0},cN={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new k("invalid-custom-token")},G:Rn,V:!0,B:!0},kw={endpoint:"verifyPassword",A:function(i){if(Io(i),!i.password)throw new k("wrong-password")},G:Rn,V:!0,B:!0},lN={endpoint:"verifyPhoneNumber",A:Sp,G:Rn,B:!0},fN={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new k("internal-error");Sp(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",fl(i);Rn(i)}},hN={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Sp,G:Rn,B:!0},dN={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[gr]^!!i.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function ze(i,a,c){if(!BC(c,a.O))return yt(new k("internal-error"));var d=!!a.Na,v=a.Vb||"POST",w;return Ee(c).then(a.A).then(function(){return a.V&&(c.returnSecureToken=!0),a.B&&i.b&&typeof c.tenantId>"u"&&(c.tenantId=i.b),d?bw(i,i.i,a.endpoint,v,c,a.Ib,a.mb||!1):bw(i,i.h,a.endpoint,v,c,a.Ib,a.mb||!1)}).then(function(b){return w=b,a.Za?a.Za(c,w):w}).then(a.G).then(function(){if(!a.Z)return w;if(!(a.Z in w))throw new k("internal-error");return w[a.Z]})}function xw(i){return Rp({error:{errors:[{message:i}],code:400,message:i}})}function Rp(i,a){var c=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new k(d[c]):null)return c;c=i.error&&i.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Jt(d,a||{}),a=(a=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var v in d)if(c.indexOf(v)===0)return new k(d[v],a);return!a&&i&&(a=Ga(i)),new k("internal-error",a)}function pN(i){this.b=i,this.a=null,this.sb=mN(this)}function mN(i){return bN().then(function(){return new Ke(function(a,c){_t("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function v(){clearTimeout(w),a()}i.a=d,i.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){c(Error("Network Error"))},wN.get());d.ping(v).then(v,function(){c(Error("Network Error"))})})})})}function gN(i,a){return i.sb.then(function(){return new Ke(function(c){i.a.send(a.type,a,c,_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function vN(i,a){i.sb.then(function(){i.a.register("authEvent",a,_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var yN=new Or(qc,"https://apis.google.com/js/api.js?onload=%{onload}"),_N=new _i(3e4,6e4),wN=new _i(5e3,15e3),Sl=null;function bN(){return Sl||(Sl=new Ke(function(i,a){function c(){I0(),_t("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){I0(),a(Error("Network Error"))},timeout:_N.get()})}if(_t("gapi.iframes.Iframe"))i();else if(_t("gapi.load"))c();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[d]=function(){_t("gapi.load")?c():a(Error("Network Error"))},d=dd(yN,{onload:d}),Ee(bp(d)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw Sl=null,i}))}function Cw(i,a,c,d){this.l=i,this.h=a,this.i=c,this.g=d,this.f=null,this.g?(i=Nn(this.g.url),i=el(i.c,i.a,i.g,"/emulator/auth/iframe")):i=el("https",this.l,null,"/__/auth/iframe"),this.a=i,xt(this.a,"apiKey",this.h),xt(this.a,"appName",this.i),this.b=null,this.c=[]}Cw.prototype.toString=function(){return this.f?xt(this.a,"v",this.f):Nr(this.a.b,"v"),this.b?xt(this.a,"eid",this.b):Nr(this.a.b,"eid"),this.c.length?xt(this.a,"fw",this.c.join(",")):Nr(this.a.b,"fw"),this.a.toString()};function Pp(i,a,c,d,v,w){this.u=i,this.s=a,this.c=c,this.m=d,this.v=w,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}Pp.prototype.zb=function(i){return this.h=i,this},Pp.prototype.toString=function(){if(this.v){var i=Nn(this.v.url);i=el(i.c,i.a,i.g,"/emulator/auth/handler")}else i=el("https",this.u,null,"/__/auth/handler");if(xt(i,"apiKey",this.s),xt(i,"appName",this.c),xt(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var c=Ce.app(this.c).auth().la()}catch{c=null}a.pb=c,xt(i,"providerId",this.a.providerId),c=this.a,a=w0(c.Jb);for(var d in a)a[d]=a[d].toString();d=c.Qc,a=st(a);for(var v=0;v<d.length;v++){var w=d[v];w in a&&delete a[w]}c.qb&&c.pb&&!a[c.qb]&&(a[c.qb]=c.pb),vt(a)||xt(i,"customParameters",Ga(a))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&xt(i,"scopes",c.join(","))),this.l?xt(i,"redirectUrl",this.l):Nr(i.b,"redirectUrl"),this.g?xt(i,"eventId",this.g):Nr(i.b,"eventId"),this.i?xt(i,"v",this.i):Nr(i.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!ir(i,b)&&xt(i,b,this.b[b]);return this.h?xt(i,"tid",this.h):Nr(i.b,"tid"),this.f?xt(i,"eid",this.f):Nr(i.b,"eid"),b=Dp(this.c),b.length&&xt(i,"fw",b.join(",")),i.toString()};function Dp(i){try{return Ce.app(i).auth().Ga()}catch{return[]}}function Ow(i,a,c,d,v,w){this.s=i,this.g=a,this.b=c,this.f=w,this.c=d||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Nw(i){var a=Ha();return RO(i).then(function(c){e:{var d=Nn(a),v=d.c;d=d.a;for(var w=0;w<c.length;w++){var b=c[w],S=d,q=v;if(b.indexOf("chrome-extension://")==0?S=Nn(b).a==S&&q=="chrome-extension":q!="http"&&q!="https"?S=!1:PC.test(b)?S=S==b:(b=b.split(".").join("\\."),S=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(S)),S){c=!0;break e}}c=!1}if(!c)throw new fp(Ha())})}function Rw(i){return i.m||(i.m=tl().then(function(){if(!i.u){var a=i.c,c=i.i,d=Dp(i.b),v=new Cw(i.s,i.g,i.b,i.f);v.f=a,v.b=c,v.c=se(d||[]),i.u=v.toString()}i.v=new pN(i.u),IN(i)})),i.m}e=Ow.prototype,e.Pb=function(i,a,c){var d=new k("popup-closed-by-user"),v=new k("web-storage-unsupported"),w=this,b=!1;return this.ma().then(function(){EN(w).then(function(S){S||(i&&ho(i),a(v),b=!0)})}).o(function(){}).then(function(){if(!b)return RC(i)}).then(function(){if(!b)return vs(c).then(function(){a(d)})})},e.Yb=function(){var i=Zt();return!Ka(i)&&!b0(i)},e.Ub=function(){return!1},e.Nb=function(i,a,c,d,v,w,b,S){if(!i)return yt(new k("popup-blocked"));if(b&&!Ka())return this.ma().o(function(Y){ho(i),v(Y)}),d(),Ee();this.a||(this.a=Nw(Pw(this)));var q=this;return this.a.then(function(){var Y=q.ma().o(function(Le){throw ho(i),v(Le),Le});return d(),Y}).then(function(){if(cp(c),!b){var Y=uu(q.s,q.g,q.b,a,c,null,w,q.c,void 0,q.i,S,q.f);d0(Y,i)}}).o(function(Y){throw Y.code=="auth/network-request-failed"&&(q.a=null),Y})};function Pw(i){return i.l||(i.C=i.c?bs(i.c,Dp(i.b)):null,i.l=new mr(i.g,He(i.i),i.C),i.f&&Tl(i.l,i.f)),i.l}e.Ob=function(i,a,c,d){this.a||(this.a=Nw(Pw(this)));var v=this;return this.a.then(function(){cp(a);var w=uu(v.s,v.g,v.b,i,a,Ha(),c,v.c,void 0,v.i,d,v.f);d0(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(v.a=null),w})},e.ma=function(){var i=this;return Rw(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function uu(i,a,c,d,v,w,b,S,q,Y,Le,it){return i=new Pp(i,a,c,d,v,it),i.l=w,i.g=b,i.i=S,i.b=st(q||null),i.f=Y,i.zb(Le).toString()}function IN(i){if(!i.v)throw Error("IfcHandler must be initialized!");vN(i.v,function(a){var c={};if(a&&a.authEvent){var d=!1;for(a=nw(a.authEvent),c=0;c<i.h.length;c++)d=i.h[c](a)||d;return c={},c.status=d?"ACK":"ERROR",Ee(c)}return c.status="ERROR",Ee(c)})}function EN(i){var a={type:"webStorageSupport"};return Rw(i).then(function(){return gN(i.v,a)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){$(this.h,function(a){return a==i})};function Dw(i){if(this.a=i||Ce.INTERNAL.reactNative&&Ce.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Dw.prototype,e.get=function(i){return Ee(this.a.getItem(i)).then(function(a){return a&&Es(a)})},e.set=function(i,a){return Ee(this.a.setItem(i,Ga(a)))},e.U=function(i){return Ee(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function Lw(i){this.b=i,this.a={},this.f=U(this.c,this)}var Mw=[];function TN(){var i=dr()?self:null;if(K(Mw,function(c){c.b==i&&(a=c)}),!a){var a=new Lw(i);Mw.push(a)}return a}Lw.prototype.c=function(i){var a=i.data.eventType,c=i.data.eventId,d=this.a[a];if(d&&0<d.length){i.ports[0].postMessage({status:"ack",eventId:c,eventType:a,response:null});var v=[];K(d,function(w){v.push(Ee().then(function(){return w(i.origin,i.data.data)}))}),j_(v).then(function(w){var b=[];K(w,function(S){b.push({fulfilled:S.Qb,value:S.value,reason:S.reason?S.reason.message:void 0})}),K(b,function(S){for(var q in S)typeof S[q]>"u"&&delete S[q]}),i.ports[0].postMessage({status:"done",eventId:c,eventType:a,response:b})})}};function Fw(i,a,c){vt(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]>"u"&&(i.a[a]=[]),i.a[a].push(c)}function Vw(i){this.a=i}Vw.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function Uw(i){this.c=i,this.b=!1,this.a=[]}function jw(i,a,c,d){var v,w=c||{},b,S,q,Y=null;if(i.b)return yt(Error("connection_unavailable"));var Le=d?800:50,it=typeof MessageChannel<"u"?new MessageChannel:null;return new Ke(function(et,Wt){it?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),it.port1.start(),S=setTimeout(function(){Wt(Error("unsupported_event"))},Le),b=function(ti){ti.data.eventId===v&&(ti.data.status==="ack"?(clearTimeout(S),q=setTimeout(function(){Wt(Error("timeout"))},3e3)):ti.data.status==="done"?(clearTimeout(q),typeof ti.data.response<"u"?et(ti.data.response):Wt(Error("unknown_error"))):(clearTimeout(S),clearTimeout(q),Wt(Error("invalid_response"))))},Y={messageChannel:it,onMessage:b},i.a.push(Y),it.port1.addEventListener("message",b),i.c.postMessage({eventType:a,eventId:v,data:w},[it.port2])):Wt(Error("connection_unavailable"))}).then(function(et){return Lp(i,Y),et}).o(function(et){throw Lp(i,Y),et})}function Lp(i,a){if(a){var c=a.messageChannel,d=a.onMessage;c&&(c.port1.removeEventListener("message",d),c.port1.close()),$(i.a,function(v){return v==a})}}Uw.prototype.close=function(){for(;0<this.a.length;)Lp(this,this.a[0]);this.b=!0};function Bw(){if(!Vp())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;dr()&&self?(this.v=TN(),Fw(this.v,"keyChanged",function(a,c){return Hw(i).then(function(d){return 0<d.length&&K(i.a,function(v){v(d)}),{keyProcessed:R(d,c.key)}})}),Fw(this.v,"ping",function(){return Ee(["keyChanged"])})):UC().then(function(a){(i.h=a)&&(i.g=new Uw(new Vw(a)),jw(i.g,"ping",null,!0).then(function(c){c[0].fulfilled&&R(c[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Mp;function SN(i){return new Ke(function(a,c){var d=i.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){a()},d.onerror=function(v){c(Error(v.target.error))}})}function qw(i){return new Ke(function(a,c){var d=i.m.open("firebaseLocalStorageDb",1);d.onerror=function(v){try{v.preventDefault()}catch{}c(Error(v.target.error))},d.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){c(w)}},d.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?a(v):SN(i).then(function(){return qw(i)}).then(function(w){a(w)}).o(function(w){c(w)})}})}function Fp(i){return i.i||(i.i=qw(i)),i.i}function Al(i,a){function c(v,w){Fp(i).then(a).then(v).o(function(b){if(3<++d)w(b);else return Fp(i).then(function(S){return S.close(),i.i=void 0,c(v,w)}).o(function(S){w(S)})})}var d=0;return new Ke(c)}function Vp(){try{return!!f.indexedDB}catch{return!1}}function cu(i){return i.objectStore("firebaseLocalStorage")}function lu(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function ks(i){return new Ke(function(a,c){i.onsuccess=function(d){d&&d.target?a(d.target.result):a()},i.onerror=function(d){c(d.target.error)}})}e=Bw.prototype,e.set=function(i,a){var c=this,d=!1;return Al(this,function(v){return v=cu(lu(v,!0)),ks(v.get(i))}).then(function(v){return Al(c,function(w){if(w=cu(lu(w,!0)),v)return v.value=a,ks(w.put(v));c.b++,d=!0;var b={};return b.fbase_key=i,b.value=a,ks(w.add(b))})}).then(function(){return c.c[i]=a,$w(c,i)}).oa(function(){d&&c.b--})};function $w(i,a){return i.g&&i.h&&VC()===i.h?jw(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):Ee()}e.get=function(i){return Al(this,function(a){return ks(cu(lu(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,c=!1;return Al(this,function(d){return c=!0,a.b++,ks(cu(lu(d,!0)).delete(i))}).then(function(){return delete a.c[i],$w(a,i)}).oa(function(){c&&a.b--})};function Hw(i){return Fp(i).then(function(a){var c=cu(lu(a,!1));return c.getAll?ks(c.getAll()):new Ke(function(d,v){var w=[],b=c.openCursor();b.onsuccess=function(S){(S=S.target.result)?(w.push(S.value),S.continue()):d(w)},b.onerror=function(S){v(S.target.error)}})}).then(function(a){var c={},d=[];if(i.b==0){for(d=0;d<a.length;d++)c[a[d].fbase_key]=a[d].value;d=p0(i.c,c),i.c=c}return d})}e.ca=function(i){this.a.length==0&&AN(this),this.a.push(i)},e.ia=function(i){$(this.a,function(a){return a==i}),this.a.length==0&&Kw(this)};function AN(i){function a(){i.f=setTimeout(function(){i.l=Hw(i).then(function(c){0<c.length&&K(i.a,function(d){d(c)})}).then(function(){a()}).o(function(c){c.message!="STOP_EVENT"&&a()})},800)}Kw(i),a()}function Kw(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function Gw(i){var a=this,c=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Ee().then(function(){if(Vp()){var d=mo(),v="__sak"+d;return Mp||(Mp=new Bw),c=Mp,c.set(v,d).then(function(){return c.get(v)}).then(function(w){if(w!==d)throw Error("indexedDB not supported!");return c.U(v)}).then(function(){return c}).o(function(){return a.c})}return a.c}).then(function(d){return a.type=d.type,d.ca(function(v){K(a.a,function(w){w(v)})}),d})}e=Gw.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(c){return c.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){$(this.a,function(a){return a==i})};function fu(){this.a={},this.type="inMemory"}e=fu.prototype,e.get=function(i){return Ee(this.a[i])},e.set=function(i,a){return this.a[i]=a,Ee()},e.U=function(i){return delete this.a[i],Ee()},e.ca=function(){},e.ia=function(){};function kl(){if(!kN())throw Rr()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=zw()||Ce.INTERNAL.node.localStorage,this.type="localStorage"}function zw(){try{var i=f.localStorage,a=mo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function kN(){var i=Rr()=="Node";if(i=zw()||i&&Ce.INTERNAL.node&&Ce.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=kl.prototype,e.get=function(i){var a=this;return Ee().then(function(){var c=a.a.getItem(i);return Es(c)})},e.set=function(i,a){var c=this;return Ee().then(function(){var d=Ga(a);d===null?c.U(i):c.a.setItem(i,d)})},e.U=function(i){var a=this;return Ee().then(function(){a.a.removeItem(i)})},e.ca=function(i){f.window&&rr(f.window,"storage",i)},e.ia=function(i){f.window&&Hn(f.window,"storage",i)};function Up(){this.type="nullStorage"}e=Up.prototype,e.get=function(){return Ee(null)},e.set=function(){return Ee()},e.U=function(){return Ee()},e.ca=function(){},e.ia=function(){};function jp(){if(!xN())throw Rr()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Ww()||Ce.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ww(){try{var i=f.sessionStorage,a=mo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function xN(){var i=Rr()=="Node";if(i=Ww()||i&&Ce.INTERNAL.node&&Ce.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=jp.prototype,e.get=function(i){var a=this;return Ee().then(function(){var c=a.a.getItem(i);return Es(c)})},e.set=function(i,a){var c=this;return Ee().then(function(){var d=Ga(a);d===null?c.U(i):c.a.setItem(i,d)})},e.U=function(i){var a=this;return Ee().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function CN(){var i={};i.Browser=ON,i.Node=NN,i.ReactNative=RN,i.Worker=PN,this.a=i[Rr()]}var Bp,ON={F:kl,cb:jp},NN={F:kl,cb:jp},RN={F:Dw,cb:Up},PN={F:kl,cb:Up},xs={rd:"local",NONE:"none",td:"session"};function DN(i){var a=new k("invalid-persistence-type"),c=new k("unsupported-persistence-type");e:{for(d in xs)if(xs[d]==i){var d=!0;break e}d=!1}if(!d||typeof i!="string")throw a;switch(Rr()){case"ReactNative":if(i==="session")throw c;break;case"Node":if(i!=="none")throw c;break;case"Worker":if(i==="session"||!Vp()&&i!=="none")throw c;break;default:if(!Bd()&&i!=="none")throw c}}function Xw(){var i=!!(!b0(Zt())&&Ud()),a=Ka(),c=Bd();this.m=i,this.h=a,this.l=c,this.a={},Bp||(Bp=new CN),i=Bp;try{this.g=!Fd()&&E0()||!f.indexedDB?new i.a.F:new Gw(dr()?new fu:new i.a.F)}catch{this.g=new fu,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new fu}this.v=new fu,this.f=U(this.Zb,this),this.b={}}var qp;function hu(){return qp||(qp=new Xw),qp}function Eo(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function Cs(i,a){return"firebase:"+i.name+(a?":"+a:"")}function LN(i,a,c){var d=Cs(a,c),v=Eo(i,a.F);return i.get(a,c).then(function(w){var b=null;try{b=Es(f.localStorage.getItem(d))}catch{}if(b&&!w)return f.localStorage.removeItem(d),i.set(a,b,c);b&&w&&v.type!="localStorage"&&f.localStorage.removeItem(d)})}e=Xw.prototype,e.get=function(i,a){return Eo(this,i.F).get(Cs(i,a))};function Os(i,a,c){return c=Cs(a,c),a.F=="local"&&(i.b[c]=null),Eo(i,a.F).U(c)}e.set=function(i,a,c){var d=Cs(i,c),v=this,w=Eo(this,i.F);return w.set(d,a).then(function(){return w.get(d)}).then(function(b){i.F=="local"&&(v.b[d]=b)})},e.addListener=function(i,a,c){i=Cs(i,a),this.l&&(this.b[i]=f.localStorage.getItem(i)),vt(this.a)&&(Eo(this,"local").ca(this.f),this.h||(Fd()||!E0())&&f.indexedDB||!this.l||MN(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(c)},e.removeListener=function(i,a,c){i=Cs(i,a),this.a[i]&&($(this.a[i],function(d){return d==c}),this.a[i].length==0&&delete this.a[i]),vt(this.a)&&(Eo(this,"local").ia(this.f),$p(this))};function MN(i){$p(i),i.c=setInterval(function(){for(var a in i.a){var c=f.localStorage.getItem(a),d=i.b[a];c!=d&&(i.b[a]=c,c=new co({type:"storage",key:a,target:window,oldValue:d,newValue:c,a:!0}),i.Zb(c))}},1e3)}function $p(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var c in this.a){var d=this.b[c];typeof d>"u"&&(d=null);var v=f.localStorage.getItem(c);v!==d&&(this.b[c]=v,this.nb(c))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a<"u"?Eo(this,"local").ia(this.f):$p(this),this.m){if(c=f.localStorage.getItem(a),d=i.a.newValue,d!==c)d!==null?f.localStorage.setItem(a,d):f.localStorage.removeItem(a);else if(this.b[a]===d&&typeof i.a.a>"u")return}var w=this;c=function(){(typeof i.a.a<"u"||w.b[a]!==f.localStorage.getItem(a))&&(w.b[a]=f.localStorage.getItem(a),w.nb(a))},hr&&gi&&gi==10&&f.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(c,10):c()}}else K(i,U(this.nb,this))},e.nb=function(i){this.a[i]&&K(this.a[i],function(a){a()})};function FN(i){this.a=i,this.b=hu()}var Hp={name:"authEvent",F:"local"};function VN(i){return i.b.get(Hp,i.a).then(function(a){return nw(a)})}function UN(){this.a=hu()}function jN(){this.b=-1}function xl(i,a){this.b=Yw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),Cl===void 0&&(f.Int32Array?Cl=new Int32Array(Zw):Cl=Zw),this.reset()}var Cl;V(xl,jN);for(var Yw=64,BN=Yw-1,Qw=[],Kp=0;Kp<BN;Kp++)Qw[Kp]=0;var Jw=Q(128,Qw);xl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):se(this.h)};function Gp(i){for(var a=i.f,c=i.l,d=0,v=0;v<a.length;)c[d++]=a[v]<<24|a[v+1]<<16|a[v+2]<<8|a[v+3],v=4*d;for(a=16;64>a;a++){v=c[a-15]|0,d=c[a-2]|0;var w=(c[a-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,b=(c[a-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[a]=w+b|0}d=i.a[0]|0,v=i.a[1]|0;var S=i.a[2]|0,q=i.a[3]|0,Y=i.a[4]|0,Le=i.a[5]|0,it=i.a[6]|0;for(w=i.a[7]|0,a=0;64>a;a++){var et=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&v^d&S^v&S)|0;b=Y&Le^~Y&it,w=w+((Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7))|0,b=b+(Cl[a]|0)|0,b=w+(b+(c[a]|0)|0)|0,w=it,it=Le,Le=Y,Y=q+b|0,q=S,S=v,v=d,d=b+et|0}i.a[0]=i.a[0]+d|0,i.a[1]=i.a[1]+v|0,i.a[2]=i.a[2]+S|0,i.a[3]=i.a[3]+q|0,i.a[4]=i.a[4]+Y|0,i.a[5]=i.a[5]+Le|0,i.a[6]=i.a[6]+it|0,i.a[7]=i.a[7]+w|0}function zp(i,a,c){c===void 0&&(c=a.length);var d=0,v=i.c;if(typeof a=="string")for(;d<c;)i.f[v++]=a.charCodeAt(d++),v==i.b&&(Gp(i),v=0);else if(_(a))for(;d<c;){var w=a[d++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");i.f[v++]=w,v==i.b&&(Gp(i),v=0)}else throw Error("message must be string or array");i.c=v,i.g+=c}var Zw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function eb(){xl.call(this,8,qN)}V(eb,xl);var qN=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function tb(i,a,c,d,v,w){this.v=i,this.i=a,this.l=c,this.m=d||null,this.u=v||null,this.s=w,this.h=a+":"+c,this.C=new UN,this.g=new FN(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ol(i){return new k("invalid-cordova-configuration",i)}e=tb.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=LC().then(function(){if(typeof _t("universalLinks.subscribe",f)!="function")throw Ol("cordova-universal-links-plugin-fix is not installed");if(typeof _t("BuildInfo.packageName",f)>"u")throw Ol("cordova-plugin-buildinfo is not installed");if(typeof _t("cordova.plugins.browsertab.openUrl",f)!="function")throw Ol("cordova-plugin-browsertab is not installed");if(typeof _t("cordova.InAppBrowser.open",f)!="function")throw Ol("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function $N(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function HN(i){var a=new eb;zp(a,i),i=[];var c=8*a.g;56>a.c?zp(a,Jw,56-a.c):zp(a,Jw,a.b-(a.c-56));for(var d=63;56<=d;d--)a.f[d]=c&255,c/=256;for(Gp(a),d=c=0;d<a.i;d++)for(var v=24;0<=v;v-=8)i[c++]=a.a[d]>>v&255;return tO(i)}e.Pb=function(i,a){return a(new k("operation-not-supported-in-this-environment")),Ee()},e.Nb=function(){return yt(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,a,c,d){if(this.c)return yt(new k("redirect-operation-pending"));var v=this,w=f.document,b=null,S=null,q=null,Y=null;return this.c=Ee().then(function(){return cp(a),rb(v)}).then(function(){return KN(v,i,a,c,d)}).then(function(){return new Ke(function(Le,it){S=function(){var et=_t("cordova.plugins.browsertab.close",f);return Le(),typeof et=="function"&&et(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(S),q=function(){b||(b=vs(2e3).then(function(){it(new k("redirect-cancelled-by-user"))}))},Y=function(){qd()&&q()},w.addEventListener("resume",q,!1),Zt().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",Y,!1)}).o(function(Le){return Wp(v).then(function(){throw Le})})}).oa(function(){q&&w.removeEventListener("resume",q,!1),Y&&w.removeEventListener("visibilitychange",Y,!1),b&&b.cancel(),S&&v.Ta(S),v.c=null})};function KN(i,a,c,d,v){var w=$N(),b=new pr(a,d,null,w,new k("no-auth-event"),null,v),S=_t("BuildInfo.packageName",f);if(typeof S!="string")throw new k("invalid-cordova-configuration");var q=_t("BuildInfo.displayName",f),Y={};if(Zt().toLowerCase().match(/iphone|ipad|ipod/))Y.ibi=S;else if(Zt().toLowerCase().match(/android/))Y.apn=S;else return yt(new k("operation-not-supported-in-this-environment"));q&&(Y.appDisplayName=q),w=HN(w),Y.sessionId=w;var Le=uu(i.v,i.i,i.l,a,c,null,d,i.m,Y,i.u,v,i.s);return i.ma().then(function(){var it=i.h;return i.C.a.set(Hp,b.w(),it)}).then(function(){var it=_t("cordova.plugins.browsertab.isAvailable",f);if(typeof it!="function")throw new k("invalid-cordova-configuration");var et=null;it(function(Wt){if(Wt){if(et=_t("cordova.plugins.browsertab.openUrl",f),typeof et!="function")throw new k("invalid-cordova-configuration");et(Le)}else{if(et=_t("cordova.InAppBrowser.open",f),typeof et!="function")throw new k("invalid-cordova-configuration");Wt=Zt(),i.a=et(Le,Wt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Wt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function nb(i,a){for(var c=0;c<i.b.length;c++)try{i.b[c](a)}catch{}}function rb(i){return i.f||(i.f=i.ma().then(function(){return new Ke(function(a){function c(d){return a(d),i.Ta(c),!1}i.Ea(c),GN(i)})})),i.f}function Wp(i){var a=null;return VN(i.g).then(function(c){return a=c,c=i.g,Os(c.b,Hp,c.a)}).then(function(){return a})}function GN(i){function a(b){d=!0,v&&v.cancel(),Wp(i).then(function(S){var q=c;if(S&&b&&b.url){var Y=null;q=W0(b.url),q.indexOf("/__/auth/callback")!=-1&&(Y=Nn(q),Y=Es(ir(Y,"firebaseError")||null),Y=(Y=typeof Y=="object"?Oe(Y):null)?new pr(S.c,S.b,null,null,Y,null,S.T()):new pr(S.c,S.b,q,S.f,null,null,S.T())),q=Y||c}nb(i,q)})}var c=new pr("unknown",null,null,null,new k("no-auth-event")),d=!1,v=vs(500).then(function(){return Wp(i).then(function(){d||nb(i,c)})}),w=f.handleOpenURL;f.handleOpenURL=function(b){if(b.toLowerCase().indexOf(_t("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:b}),typeof w=="function")try{w(b)}catch(S){console.error(S)}},lp||(lp=new cO),lO(a)}e.Ea=function(i){this.b.push(i),rb(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new pr("unknown",null,null,null,new k("no-auth-event")),i(a))})},e.Ta=function(i){$(this.b,function(a){return a==i})};function zN(i){this.a=i,this.b=hu()}var Xp={name:"pendingRedirect",F:"session"};function WN(i){return i.b.set(Xp,"pending",i.a)}function Yp(i){return Os(i.b,Xp,i.a)}function XN(i){return i.b.get(Xp,i.a).then(function(a){return a=="pending"})}function Nl(i,a,c,d){this.i={},this.u=0,this.D=i,this.v=a,this.m=c,this.J=d,this.h=[],this.f=!1,this.l=U(this.s,this),this.b=new Pl,this.C=new db,this.g=new zN(lb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=ib(this.D,this.v,this.m,le,this.J)}function ib(i,a,c,d,v){var w=Ce.SDK_VERSION||null;return Vd()?new tb(i,a,c,w,d,v):new Ow(i,a,c,w,d,v)}Nl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=ib(this.D,this.v,this.m,null,this.J),this.i={}};function ob(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(c){throw i.a==a&&i.reset(),c})}function sb(i){i.a.Yb()&&ob(i).o(function(a){var c=new pr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Jp(a)&&i.s(c)}),i.a.Ub()||fb(i.b)}function Rl(i,a){R(i.h,a)||i.h.push(a),i.f||XN(i.g).then(function(c){c?Yp(i.g).then(function(){ob(i).o(function(d){var v=new pr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Jp(d)&&i.s(v)})}):sb(i)}).o(function(){sb(i)})}function Qp(i,a){$(i.h,function(c){return c==a})}Nl.prototype.s=function(i){if(!i)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.Gb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,d),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return fb(this.b),a};var YN=new _i(2e3,1e4),QN=new _i(3e4,6e4);Nl.prototype.ra=function(){return this.b.ra()};function ab(i,a,c,d,v,w,b){return i.a.Nb(a,c,d,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},v,w,b)}function Jp(i){return!!(i&&i.code=="auth/cordova-not-ready")}function ub(i,a,c,d,v){var w;return WN(i.g).then(function(){return i.a.Ob(a,c,d,v).o(function(b){if(Jp(b))throw new k("operation-not-supported-in-this-environment");return w=b,Yp(i.g).then(function(){throw w})}).then(function(){return i.a.ac()?new Ke(function(){}):Yp(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function cb(i,a,c,d,v){return i.a.Pb(d,function(w){a.na(c,null,w,v)},YN.get())}var Zp={};function lb(i,a,c){return i=i+":"+a,c&&(i=i+":"+c.url),i}function em(i,a,c,d){var v=lb(a,c,d);return Zp[v]||(Zp[v]=new Nl(i,a,c,d)),Zp[v]}function Pl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Pl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Pl.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var c=i.c,d=i.b,v=i.a&&i.a.code=="auth/web-storage-unsupported",w=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!w),c!="unknown"||v||w?i.a?(To(this,!0,null,i.a),Ee()):a.Fa(c,d)?JN(this,i,a):yt(new k("invalid-auth-event")):(To(this,!1,null,null),Ee())}else yt(new k("invalid-auth-event"))};function fb(i){i.g||(i.g=!0,To(i,!1,null,null))}function Dl(i){i.g&&!i.i&&To(i,!1,null,null)}function JN(i,a,c){c=c.Fa(a.c,a.b);var d=a.g,v=a.f,w=a.i,b=a.T(),S=!!a.c.match(/Redirect$/);c(d,v,b,w).then(function(q){To(i,S,q,null)}).o(function(q){To(i,S,null,q)})}function ZN(i,a){if(i.b=function(){return yt(a)},i.c.length)for(var c=0;c<i.c.length;c++)i.c[c](a)}function hb(i,a){if(i.b=function(){return Ee(a)},i.f.length)for(var c=0;c<i.f.length;c++)i.f[c](a)}function To(i,a,c,d){a?d?ZN(i,d):hb(i,c):hb(i,{user:null}),i.f=[],i.c=[]}Pl.prototype.ra=function(){var i=this;return new Ke(function(a,c){i.b?i.b().then(a,c):(i.f.push(a),i.c.push(c),eR(i))})};function eR(i){var a=new k("timeout");i.a&&i.a.cancel(),i.a=vs(QN.get()).then(function(){i.b||(i.g=!0,To(i,!0,null,a))})}function db(){}db.prototype.h=function(i,a){if(i){var c=i.c,d=i.b;i.a?(a.na(i.c,null,i.a,i.b),Ee()):a.Fa(c,d)?tR(i,a):yt(new k("invalid-auth-event"))}else yt(new k("invalid-auth-event"))};function tR(i,a){var c=i.b,d=i.c;a.Fa(d,c)(i.g,i.f,i.T(),i.i).then(function(v){a.na(d,v,null,c)}).o(function(v){a.na(d,null,v,c)})}function pb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function tm(i,a){this.a=a,ve(this,"verificationId",i)}tm.prototype.confirm=function(i){return i=tw(this.verificationId,i),this.a(i)};function nm(i,a,c,d){return new Zr(i).gb(a,c).then(function(v){return new tm(v,d)})}function nR(i){var a=j0(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");vn(this,{token:i,expirationTime:za(1e3*a.exp),authTime:za(1e3*a.auth_time),issuedAtTime:za(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function rm(i,a,c){var d=a&&a[gb];if(!d)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=st(a),this.g=c,this.c=new cl(null,d),this.b=[];var v=this;K(a[mb]||[],function(w){(w=Wd(w))&&v.b.push(w)}),ve(this,"auth",this.a),ve(this,"session",this.c),ve(this,"hints",this.b)}var mb="mfaInfo",gb="mfaPendingCredential";rm.prototype.Rc=function(i){var a=this;return i.tb(this.a.a,this.c).then(function(c){var d=st(a.f);return delete d[mb],delete d[gb],Jt(d,c),a.g(d)})};function im(i,a,c,d){k.call(this,"multi-factor-auth-required",d,a),this.b=new rm(i,a,c),ve(this,"resolver",this.b)}V(im,k);function vb(i,a,c){if(i&&E(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new im(a,i.serverResponse,c,i.message)}catch{}return null}function yb(){}yb.prototype.tb=function(i,a,c){return a.type==Qa?rR(this,i,a,c):iR(this,i,a)};function rR(i,a,c,d){return c.Ha().then(function(v){return v={idToken:v},typeof d<"u"&&(v.displayName=d),Jt(v,{phoneVerificationInfo:Ja(i.a)}),ze(a,GO,v)})}function iR(i,a,c){return c.Ha().then(function(d){return d={mfaPendingCredential:d},Jt(d,{phoneVerificationInfo:Ja(i.a)}),ze(a,zO,d)})}function om(i){ve(this,"factorId",i.fa),this.a=i}V(om,yb);function _b(i){if(om.call(this,i),this.a.fa!=Zr.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}V(_b,om);function Ns(i,a){On.call(this,i);for(var c in a)this[c]=a[c]}V(Ns,On);function sm(i,a){this.a=i,this.b=[],this.c=U(this.yc,this),rr(this.a,"userReloaded",this.c);var c=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&K(a.multiFactor.enrolledFactors,function(d){var v=null,w={};if(d){d.uid&&(w[Yd]=d.uid),d.displayName&&(w[S0]=d.displayName),d.enrollmentTime&&(w[Xd]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(w[Qd]=d.phoneNumber);try{v=new Wa(w)}catch{}d=v}else d=null;d&&c.push(d)}),Ll(this,c)}function oR(i){var a=[];return K(i.mfaInfo||[],function(c){(c=Wd(c))&&a.push(c)}),a}e=sm.prototype,e.yc=function(i){Ll(this,oR(i.hd))};function Ll(i,a){i.b=a,ve(i,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(i){return new cl(i,null)})},e.fc=function(i,a){var c=this,d=this.a.a;return this.Sb().then(function(v){return i.tb(d,v,a)}).then(function(v){return Lr(c.a,v),c.a.reload()})},e.bd=function(i){var a=this,c=typeof i=="string"?i:i.uid,d=this.a.a;return this.a.I().then(function(v){return ze(d,dN,{idToken:v,mfaEnrollmentId:c})}).then(function(v){var w=fe(a.b,function(b){return b.uid!=c});return Ll(a,w),Lr(a.a,v),a.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Ne(this.b,function(i){return i.w()})}}};function am(i,a,c){if(this.h=i,this.i=a,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}am.prototype.start=function(){this.a=this.c,um(this,!0)};function sR(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function um(i,a){i.stop(),i.b=vs(sR(i,a)).then(function(){return FC()}).then(function(){return i.h()}).then(function(){um(i,!0)}).o(function(c){i.i(c)&&um(i,!1)})}am.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function cm(i){this.f=i,this.b=this.a=null,this.c=Date.now()}cm.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function wb(i,a){typeof a>"u"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function bb(i,a){i.b=al(a[gr]||""),i.a=a.refreshToken,a=a.expiresIn,wb(i,typeof a<"u"?Number(a):void 0)}function aR(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function uR(i,a){return OO(i.f,a).then(function(c){return i.b=al(c.access_token),i.a=c.refresh_token,wb(i,c.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(i.a=null),c})}cm.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?yt(new k("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?uR(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b.toString(),refreshToken:this.a})};function Ml(i,a){this.a=i||null,this.b=a||null,vn(this,{lastSignInTime:za(a||null),creationTime:za(i||null)})}function cR(i){return new Ml(i.a,i.b)}Ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function lR(i,a,c,d,v,w){vn(this,{uid:i,displayName:d||null,photoURL:v||null,email:c||null,phoneNumber:w||null,providerId:a})}function Gn(i,a,c){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var d=Ce.SDK_VERSION?bs(Ce.SDK_VERSION):null;this.a=new mr(this.l,He(le),d),(this.u=i.emulatorConfig||null)&&Tl(this.a,this.u),this.h=new cm(this.a),gm(this,a[gr]),bb(this.h,a),ve(this,"refreshToken",this.h.a),Eb(this,c||{}),gn.call(this),this.P=!1,this.s&&po()&&(this.b=em(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=fR(this),this.ba=U(this.ib,this);var v=this;this.za=null,this.Pa=function(w){v.xa(w.h)},this.qa=null,this.Ba=function(w){lm(v,w.c)},this.$=null,this.aa=[],this.Oa=function(w){du(v,w.f)},this.ja=null,this.S=new sm(this,c),ve(this,"multiFactor",this.S)}V(Gn,gn),Gn.prototype.xa=function(i){this.za=i,vw(this.a,i)};function lm(i,a){i.u=a,Tl(i.a,a),i.b&&(a=i.b,i.b=em(i.s,i.l,i.m,i.u),i.P&&(Qp(a,i),Rl(i.b,i)))}Gn.prototype.la=function(){return this.za};function fm(i,a){i.qa&&Hn(i.qa,"languageCodeChanged",i.Pa),(i.qa=a)&&rr(a,"languageCodeChanged",i.Pa)}function hm(i,a){i.$&&Hn(i.$,"emulatorConfigChanged",i.Ba),(i.$=a)&&rr(a,"emulatorConfigChanged",i.Ba)}function du(i,a){i.aa=a,yw(i.a,Ce.SDK_VERSION?bs(Ce.SDK_VERSION,i.aa):null)}Gn.prototype.Ga=function(){return se(this.aa)};function dm(i,a){i.ja&&Hn(i.ja,"frameworkChanged",i.Oa),(i.ja=a)&&rr(a,"frameworkChanged",i.Oa)}Gn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function pm(i){try{return Ce.app(i.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function fR(i){return new am(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.h.c-Date.now()-3e5;return 0<a?a:0})}function Ib(i){i.J||i.D.b||(i.D.start(),Hn(i,"tokenChanged",i.ba),rr(i,"tokenChanged",i.ba))}function mm(i){Hn(i,"tokenChanged",i.ba),i.D.stop()}function gm(i,a){i.Aa=a,ve(i,"_lat",a)}function hR(i,a){$(i.W,function(c){return c==a})}function So(i){for(var a=[],c=0;c<i.W.length;c++)a.push(i.W[c](i));return j_(a).then(function(){return i})}function pu(i){i.b&&!i.P&&(i.P=!0,Rl(i.b,i))}function Eb(i,a){vn(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new Ml(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}ve(Gn.prototype,"providerId","firebase");function Tb(){}function vm(i){return Ee().then(function(){if(i.J)throw new k("app-deleted")})}function ym(i){return Ne(i.providerData,function(a){return a.providerId})}function _m(i,a){a&&(Sb(i,a.providerId),i.providerData.push(a))}function Sb(i,a){$(i.providerData,function(c){return c.providerId==a})}function Ii(i,a,c){(a!="uid"||c)&&i.hasOwnProperty(a)&&ve(i,a,c)}function Fl(i,a){i!=a&&(vn(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?ve(i,"metadata",cR(a.metadata)):ve(i,"metadata",new Ml),K(a.providerData,function(c){_m(i,c)}),aR(i.h,a.h),ve(i,"refreshToken",i.h.a),Ll(i.S,a.S.b))}e=Gn.prototype,e.reload=function(){var i=this;return Ht(this,vm(this).then(function(){return wm(i).then(function(){return So(i)}).then(Tb)}))};function wm(i){return i.I().then(function(a){var c=i.isAnonymous;return dR(i,a).then(function(){return c||Ii(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new nR(a)})},e.I=function(i){var a=this;return Ht(this,vm(this).then(function(){return a.h.getToken(i)}).then(function(c){if(!c)throw new k("internal-error");return c.accessToken!=a.Aa&&(gm(a,c.accessToken),a.dispatchEvent(new Ns("tokenChanged"))),Ii(a,"refreshToken",c.refreshToken),c.accessToken}))};function Lr(i,a){a[gr]&&i.Aa!=a[gr]&&(bb(i.h,a),i.dispatchEvent(new Ns("tokenChanged")),gm(i,a[gr]),Ii(i,"refreshToken",i.h.a))}function dR(i,a){return ze(i.a,WO,{idToken:a}).then(U(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new k("internal-error");i=i[0],Eb(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=pR(i),c=0;c<a.length;c++)_m(this,a[c]);Ii(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Ns("userReloaded",{hd:i}))};function pR(i){return(i=i.providerUserInfo)&&i.length?Ne(i,function(a){return new lR(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return $d("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var a=this,c=null;return Ht(this,i.c(this.a,this.uid).then(function(d){return Lr(a,d),c=mu(a,d,"reauthenticate"),a.i=null,a.reload()}).then(function(){return c}),!0)};function Vl(i,a){return wm(i).then(function(){if(R(ym(i),a))return So(i).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(i){return $d("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var a=this,c=null;return Ht(this,Vl(this,i.providerId).then(function(){return a.I()}).then(function(d){return i.b(a.a,d)}).then(function(d){return c=mu(a,d,"link"),Ab(a,d)}).then(function(){return c}))},e.Dc=function(i,a){var c=this;return Ht(this,Vl(this,"phone").then(function(){return nm(pm(c),i,a,U(c.rb,c))}))},e.Mc=function(i,a){var c=this;return Ht(this,Ee().then(function(){return nm(pm(c),i,a,U(c.ub,c))}),!0)};function mu(i,a,c){var d=up(a);return a=q0(a),Pr({user:i,credential:d,additionalUserInfo:a,operationType:c})}function Ab(i,a){return Lr(i,a),i.reload().then(function(){return i})}e.Cb=function(i){var a=this;return Ht(this,this.I().then(function(c){return a.a.Cb(c,i)}).then(function(c){return Lr(a,c),a.reload()}))},e.ed=function(i){var a=this;return Ht(this,this.I().then(function(c){return i.b(a.a,c)}).then(function(c){return Lr(a,c),a.reload()}))},e.Db=function(i){var a=this;return Ht(this,this.I().then(function(c){return a.a.Db(c,i)}).then(function(c){return Lr(a,c),a.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return vm(this);var a=this;return Ht(this,this.I().then(function(c){return a.a.Eb(c,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(c){return Lr(a,c),Ii(a,"displayName",c.displayName||null),Ii(a,"photoURL",c.photoUrl||null),K(a.providerData,function(d){d.providerId==="password"&&(ve(d,"displayName",a.displayName),ve(d,"photoURL",a.photoURL))}),So(a)}).then(Tb))},e.cd=function(i){var a=this;return Ht(this,wm(this).then(function(c){return R(ym(a),i)?FO(a.a,c,[i]).then(function(d){var v={};return K(d.providerUserInfo||[],function(w){v[w.providerId]=!0}),K(ym(a),function(w){v[w]||Sb(a,w)}),v[Zr.PROVIDER_ID]||ve(a,"phoneNumber",null),So(a)}):So(a).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var i=this;return Ht(this,this.I().then(function(a){return ze(i.a,qO,{idToken:a})}).then(function(){i.dispatchEvent(new Ns("userDeleted"))})).then(function(){for(var a=0;a<i.N.length;a++)i.N[a].cancel("app-deleted");fm(i,null),hm(i,null),dm(i,null),i.N=[],i.J=!0,mm(i),ve(i,"refreshToken",null),i.b&&Qp(i.b,i)})},e.Gb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,c,d){i!="linkViaPopup"&&i!="reauthViaPopup"||d!=(this.g||null)||(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?U(this.Lb,this):i=="reauthViaPopup"&&a==(this.g||null)?U(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==a?U(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?U(this.Mb,this):null},e.Ec=function(i){var a=this;return kb(this,"linkViaPopup",i,function(){return Vl(a,i.providerId).then(function(){return So(a)})},!1)},e.Nc=function(i){return kb(this,"reauthViaPopup",i,function(){return Ee()},!0)};function kb(i,a,c,d,v){if(!po())return yt(new k("operation-not-supported-in-this-environment"));if(i.i&&!v)return yt(i.i);var w=np(c.providerId),b=mo(i.uid+":::"),S=null;(!Ka()||Ud())&&i.s&&c.isOAuthProvider&&(S=uu(i.s,i.l,i.m,a,c,null,b,Ce.SDK_VERSION||null,null,null,i.tenantId,i.u));var q=g0(S,w&&w.va,w&&w.ua);return d=d().then(function(){if(Cb(i),!v)return i.I().then(function(){})}).then(function(){return ab(i.b,q,a,c,b,!!S,i.tenantId)}).then(function(){return new Ke(function(Y,Le){i.na(a,null,new k("cancelled-popup-request"),i.g||null),i.f=Y,i.C=Le,i.g=b,i.c=cb(i.b,i,a,q,b)})}).then(function(Y){return q&&ho(q),Y?Pr(Y):null}).o(function(Y){throw q&&ho(q),Y}),Ht(i,d,v)}e.Fc=function(i){var a=this;return xb(this,"linkViaRedirect",i,function(){return Vl(a,i.providerId)},!1)},e.Oc=function(i){return xb(this,"reauthViaRedirect",i,function(){return Ee()},!0)};function xb(i,a,c,d,v){if(!po())return yt(new k("operation-not-supported-in-this-environment"));if(i.i&&!v)return yt(i.i);var w=null,b=mo(i.uid+":::");return d=d().then(function(){if(Cb(i),!v)return i.I().then(function(){})}).then(function(){return i.ga=b,So(i)}).then(function(S){return i.ha&&(S=i.ha,S=S.b.set(bm,i.w(),S.a)),S}).then(function(){return ub(i.b,a,c,b,i.tenantId)}).o(function(S){if(w=S,i.ha)return Nb(i.ha);throw w}).then(function(){if(w)throw w}),Ht(i,d,v)}function Cb(i){if(!i.b||!i.P)throw i.b&&!i.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(i,a,c,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return c=this.I().then(function(b){return Cp(v.a,{requestUri:i,postBody:d,sessionId:a,idToken:b})}).then(function(b){return w=mu(v,b,"link"),Ab(v,b)}).then(function(){return w}),Ht(this,c)},e.Mb=function(i,a,c,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null,b=Ee().then(function(){return Ss(Op(v.a,{requestUri:i,sessionId:a,postBody:d,tenantId:c}),v.uid)}).then(function(S){return w=mu(v,S,"reauthenticate"),Lr(v,S),v.i=null,v.reload()}).then(function(){return w});return Ht(this,b,!0)},e.vb=function(i){var a=this,c=null;return Ht(this,this.I().then(function(d){return c=d,typeof i>"u"||vt(i)?{}:ol(new il(i))}).then(function(d){return a.a.vb(c,d)}).then(function(d){if(a.email!=d)return a.reload()}).then(function(){}))},e.Fb=function(i,a){var c=this,d=null;return Ht(this,this.I().then(function(v){return d=v,typeof a>"u"||vt(a)?{}:ol(new il(a))}).then(function(v){return c.a.Fb(d,i,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))};function Ht(i,a,c){var d=mR(i,a,c);return i.N.push(d),d.oa(function(){j(i.N,d)}),d.o(function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=vb(v.w(),pm(i),U(i.jc,i))),w||v})}e.jc=function(i){var a=null,c=this;return i=Ss(Ee(i),c.uid).then(function(d){return a=mu(c,d,"reauthenticate"),Lr(c,d),c.i=null,c.reload()}).then(function(){return a}),Ht(this,i,!0)};function mR(i,a,c){return i.i&&!c?(a.cancel(),yt(i.i)):a.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new Ns("userInvalidated")),i.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Jt(i,this.metadata.w()),K(this.providerData,function(a){i.providerData.push(jC(a))}),Jt(i,this.S.w()),i};function Ob(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},c={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){c[gr]=i.stsTokenManager.accessToken,c.refreshToken=i.stsTokenManager.refreshToken||null;var d=i.stsTokenManager.expirationTime;d&&(c.expiresIn=(d-Date.now())/1e3)}else return null;var v=new Gn(a,c,i);return i.providerData&&K(i.providerData,function(w){w&&_m(v,Pr(w))}),i.redirectEventId&&(v.ga=i.redirectEventId),v}function gR(i,a,c,d){var v=new Gn(i,a);return c&&(v.ha=c),d&&du(v,d),v.reload().then(function(){return v})}function vR(i,a,c,d){var v=i.h,w={};return w[gr]=v.b&&v.b.toString(),w.refreshToken=v.a,a=new Gn(a||{apiKey:i.l,authDomain:i.s,appName:i.m},w),c&&(a.ha=c),d&&du(a,d),Fl(a,i),a}function yR(i){this.a=i,this.b=hu()}var bm={name:"redirectUser",F:"session"};function Nb(i){return Os(i.b,bm,i.a)}function _R(i,a){return i.b.get(bm,i.a).then(function(c){return c&&a&&(c.authDomain=a),Ob(c||{})})}function Im(i){this.a=i,this.b=hu(),this.c=null,this.f=wR(this),this.b.addListener(Mr("local"),this.a,U(this.g,this))}Im.prototype.g=function(){var i=this,a=Mr("local");Rs(this,function(){return Ee().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(c){if(c)return Em(i,"local").then(function(){i.c=a})})})};function Em(i,a){var c=[],d;for(d in xs)xs[d]!==a&&c.push(Os(i.b,Mr(xs[d]),i.a));return c.push(Os(i.b,Tm,i.a)),cC(c)}function wR(i){var a=Mr("local"),c=Mr("session"),d=Mr("none");return LN(i.b,a,i.a).then(function(){return i.b.get(c,i.a)}).then(function(v){return v?c:i.b.get(d,i.a).then(function(w){return w?d:i.b.get(a,i.a).then(function(b){return b?a:i.b.get(Tm,i.a).then(function(S){return S?Mr(S):a})})})}).then(function(v){return i.c=v,Em(i,v.F)}).o(function(){i.c||(i.c=a)})}var Tm={name:"persistence",F:"session"};function Mr(i){return{name:"authUser",F:i}}Im.prototype.yb=function(i){var a=null,c=this;return DN(i),Rs(this,function(){return i!=c.c.F?c.b.get(c.c,c.a).then(function(d){return a=d,Em(c,i)}).then(function(){if(c.c=Mr(i),a)return c.b.set(c.c,a,c.a)}):Ee()})};function bR(i){return Rs(i,function(){return i.b.set(Tm,i.c.F,i.a)})}function Rb(i,a){return Rs(i,function(){return i.b.set(i.c,a.w(),i.a)})}function Pb(i){return Rs(i,function(){return Os(i.b,i.c,i.a)})}function Db(i,a,c){return Rs(i,function(){return i.b.get(i.c,i.a).then(function(d){return d&&a&&(d.authDomain=a),d&&c&&(d.emulatorConfig=c),Ob(d||{})})})}function Rs(i,a){return i.f=i.f.then(a,a),i.f}function vr(i){if(this.l=!1,ve(this,"settings",new pb),ve(this,"app",i),at(this).options&&at(this).options.apiKey)i=Ce.SDK_VERSION?bs(Ce.SDK_VERSION):null,this.a=new mr(at(this).options&&at(this).options.apiKey,He(le),i);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Ce.INTERNAL.createSubscribe(U(this.zc,this)),this.W=void 0,this.ib=Ce.INTERNAL.createSubscribe(U(this.Ac,this)),Ps(this,null),this.i=new Im(at(this).options.apiKey+":"+at(this).name),this.D=new yR(at(this).options.apiKey+":"+at(this).name),this.$=At(this,kR(this)),this.h=At(this,xR(this)),this.ba=!1,this.ja=U(this.Zc,this),this.Ba=U(this.da,this),this.qa=U(this.mc,this),this.za=U(this.wc,this),this.Aa=U(this.xc,this),this.b=null,TR(this),this.INTERNAL={},this.INTERNAL.delete=U(this.delete,this),this.INTERNAL.logFramework=U(this.Gc,this),this.u=0,gn.call(this),ER(this),this.J=[],this.R=null}V(vr,gn);function Lb(i){On.call(this,"languageCodeChanged"),this.h=i}V(Lb,On);function Mb(i){On.call(this,"emulatorConfigChanged"),this.c=i}V(Mb,On);function Fb(i){On.call(this,"frameworkChanged"),this.f=i}V(Fb,On),e=vr.prototype,e.yb=function(i){return i=this.i.yb(i),At(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,vw(this.a,this.aa),this.dispatchEvent(new Lb(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.R){if(!/^https?:\/\//.test(i))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,IR(a),this.R={url:i,ec:a},this.settings.jb=!0,Tl(this.a,this.R),this.dispatchEvent(new Mb(this.R))}};function IR(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&tl().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),yw(this.a,Ce.SDK_VERSION?bs(Ce.SDK_VERSION,this.J):null),this.dispatchEvent(new Fb(this.J))},e.Ga=function(){return se(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function ER(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var a=Nn(this.R.url);a=Pr({protocol:a.c,host:a.a,port:a.g,options:Pr({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:at(this).options.apiKey,authDomain:at(this).options.authDomain,appName:at(this).name,currentUser:Be(this)&&Be(this).w()}};function Sm(i){return i.Oa||yt(new k("auth-domain-config-required"))}function TR(i){var a=at(i).options.authDomain,c=at(i).options.apiKey;a&&po()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=em(a,c,at(i).name,i.R),Rl(i.b,i),Be(i)&&pu(Be(i)),i.m){pu(i.m);var d=i.m;d.xa(i.la()),fm(d,i),d=i.m,du(d,i.J),dm(d,i),d=i.m,lm(d,i.R),hm(d,i),i.m=null}return i.b}}))}e.Gb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,c,d){i=="signInViaPopup"&&this.g==d&&(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?U(this.ic,this):null},e.ic=function(i,a,c,d){var v=this,w={requestUri:i,postBody:d,sessionId:a,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return Ao(v,xp(v.a,w))})},e.Xc=function(i){if(!po())return yt(new k("operation-not-supported-in-this-environment"));var a=this,c=np(i.providerId),d=mo(),v=null;(!Ka()||Ud())&&at(this).options.authDomain&&i.isOAuthProvider&&(v=uu(at(this).options.authDomain,at(this).options.apiKey,at(this).name,"signInViaPopup",i,null,d,Ce.SDK_VERSION||null,null,null,this.T(),this.R));var w=g0(v,c&&c.va,c&&c.ua);return c=Sm(this).then(function(b){return ab(b,w,"signInViaPopup",i,d,!!v,a.T())}).then(function(){return new Ke(function(b,S){a.na("signInViaPopup",null,new k("cancelled-popup-request"),a.g),a.f=b,a.C=S,a.g=d,a.c=cb(a.b,a,"signInViaPopup",w,d)})}).then(function(b){return w&&ho(w),b?Pr(b):null}).o(function(b){throw w&&ho(w),b}),At(this,c)},e.Yc=function(i){if(!po())return yt(new k("operation-not-supported-in-this-environment"));var a=this,c=Sm(this).then(function(){return bR(a.i)}).then(function(){return ub(a.b,"signInViaRedirect",i,void 0,a.T())});return At(this,c)};function Vb(i){if(!po())return yt(new k("operation-not-supported-in-this-environment"));var a=Sm(i).then(function(){return i.b.ra()}).then(function(c){return c?Pr(c):null});return At(i,a)}e.ra=function(){var i=this;return Vb(this).then(function(a){return i.b&&Dl(i.b.b),a}).o(function(a){throw i.b&&Dl(i.b.b),a})},e.dd=function(i){if(!i)return yt(new k("null-user"));if(this.S!=i.tenantId)return yt(new k("tenant-id-mismatch"));var a=this,c={};c.apiKey=at(this).options.apiKey,c.authDomain=at(this).options.authDomain,c.appName=at(this).name;var d=vR(i,c,a.D,a.Ga());return At(this,this.h.then(function(){if(at(a).options.apiKey!=i.l)return d.reload()}).then(function(){return Be(a)&&i.uid==Be(a).uid?(Fl(Be(a),i),a.da(i)):(Ps(a,d),pu(d),a.da(d))}).then(function(){gu(a)}))};function SR(i,a){var c={};return c.apiKey=at(i).options.apiKey,c.authDomain=at(i).options.authDomain,c.appName=at(i).name,i.R&&(c.emulatorConfig=i.R),i.$.then(function(){return gR(c,a,i.D,i.Ga())}).then(function(d){return Be(i)&&d.uid==Be(i).uid?(Fl(Be(i),d),i.da(d)):(Ps(i,d),pu(d),i.da(d))}).then(function(){gu(i)})}function Ps(i,a){Be(i)&&(hR(Be(i),i.Ba),Hn(Be(i),"tokenChanged",i.qa),Hn(Be(i),"userDeleted",i.za),Hn(Be(i),"userInvalidated",i.Aa),mm(Be(i))),a&&(a.W.push(i.Ba),rr(a,"tokenChanged",i.qa),rr(a,"userDeleted",i.za),rr(a,"userInvalidated",i.Aa),0<i.u&&Ib(a)),ve(i,"currentUser",a),a&&(a.xa(i.la()),fm(a,i),du(a,i.J),dm(a,i),lm(a,i.R),hm(a,i))}e.Bb=function(){var i=this,a=this.h.then(function(){return i.b&&Dl(i.b.b),Be(i)?(Ps(i,null),Pb(i.i).then(function(){gu(i)})):Ee()});return At(this,a)};function AR(i){var a=_R(i.D,at(i).options.authDomain).then(function(c){return(i.m=c)&&(c.ha=i.D),Nb(i.D)});return At(i,a)}function kR(i){var a=at(i).options.authDomain,c=AR(i).then(function(){return Db(i.i,a,i.R)}).then(function(d){return d?(d.ha=i.D,i.m&&(i.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return Rb(i.i,d).then(function(){return d})}).o(function(v){return v.code=="auth/network-request-failed"?d:Pb(i.i)})):null}).then(function(d){Ps(i,d||null)});return At(i,c)}function xR(i){return i.$.then(function(){return Vb(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(Mr("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return Db(this.i,at(this).options.authDomain).then(function(a){if(!i.l){var c;if(c=Be(i)&&a){c=Be(i).uid;var d=a.uid;c=c==null||c===""||d===void 0||d===null||d===""?!1:c==d}if(c)return Fl(Be(i),a),Be(i).I();(Be(i)||a)&&(Ps(i,a),a&&(pu(a),a.ha=i.D),i.b&&Rl(i.b,i),gu(i))}})},e.da=function(i){return Rb(this.i,i)},e.mc=function(){gu(this),this.da(Be(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Ao(i,a){var c=null,d=null;return At(i,a.then(function(v){return c=up(v),d=q0(v),SR(i,v)},function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=vb(v.w(),i,U(i.kc,i))),w||v}).then(function(){return Pr({user:Be(i),credential:c,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return Ao(a,Ee(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next(Be(a))})},e.Ac=function(i){var a=this;CR(this,function(){i.next(Be(a))})},e.Ic=function(i,a,c){var d=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(Be(d)):typeof i.next=="function"&&i.next(Be(d))}),this.Pa(i,a,c)},e.Hc=function(i,a,c){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof i=="function"?i(Be(d)):typeof i.next=="function"&&i.next(Be(d))}),this.ib(i,a,c)},e.nc=function(i){var a=this,c=this.h.then(function(){return Be(a)?Be(a).I(i).then(function(d){return{accessToken:d}}):null});return At(this,c)},e.Tc=function(i){var a=this;return this.h.then(function(){return Ao(a,ze(a.a,cN,{token:i}))}).then(function(c){var d=c.user;return Ii(d,"isAnonymous",!1),a.da(d),c})},e.Uc=function(i,a){var c=this;return this.h.then(function(){return Ao(c,ze(c.a,kw,{email:i,password:a}))})},e.dc=function(i,a){var c=this;return this.h.then(function(){return Ao(c,ze(c.a,jO,{email:i,password:a}))})},e.ab=function(i){var a=this;return this.h.then(function(){return Ao(a,i.ka(a.a))})},e.Sc=function(i){return $d("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var a=Be(i);if(a&&a.isAnonymous){var c=Pr({providerId:null,isNewUser:!1});return Pr({user:a,credential:null,additionalUserInfo:c,operationType:"signIn"})}return Ao(i,i.a.Ab()).then(function(d){var v=d.user;return Ii(v,"isAnonymous",!0),i.da(v),d})})};function at(i){return i.app}function Be(i){return i.currentUser}e.getUid=function(){return Be(this)&&Be(this).uid||null};function Ul(i){return Be(i)&&Be(i)._lat||null}function gu(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](Ul(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),a=0;a<i.N.length;a++)i.N[a]&&i.N[a](Ul(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&Be(this)&&Ib(Be(this))},e.Pc=function(i){var a=this;K(this.s,function(c){c==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&Be(this)&&mm(Be(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),At(this,this.h.then(function(){a.l||R(a.s,i)&&i(Ul(a))}))},e.removeAuthTokenListener=function(i){$(this.s,function(a){return a==i})};function CR(i,a){i.N.push(a),At(i,i.h.then(function(){!i.l&&R(i.N,a)&&i.W!==i.getUid()&&(i.W=i.getUid(),a(Ul(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(Mr("local"),i.a,this.ja)),this.b&&(Qp(this.b,this),Dl(this.b.b)),Promise.resolve()};function At(i,a){return i.P.push(a),a.oa(function(){j(i.P,a)}),a}e.hc=function(i){return At(this,NO(this.a,i))},e.Bc=function(i){return!!ap(i)},e.xb=function(i,a){var c=this;return At(this,Ee().then(function(){var d=new il(a);if(!d.c)throw new k("argument-error",ep+" must be true when sending sign in link to email");return ol(d)}).then(function(d){return c.a.xb(i,d)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(a){return a.data.email})},e.ob=function(i,a){return At(this,this.a.ob(i,a).then(function(){}))},e.Sa=function(i){return At(this,this.a.Sa(i).then(function(a){return new qC(a)}))},e.kb=function(i){return At(this,this.a.kb(i).then(function(){}))},e.wb=function(i,a){var c=this;return At(this,Ee().then(function(){return typeof a>"u"||vt(a)?{}:ol(new il(a))}).then(function(d){return c.a.wb(i,d)}).then(function(){}))},e.Wc=function(i,a){return At(this,nm(this,i,a,U(this.ab,this)))},e.Vc=function(i,a){var c=this;return At(this,Ee().then(function(){var d=a||Ha(),v=ew(i,d);if(d=ap(d),!d)throw new k("argument-error","Invalid email link!");if(d.tenantId!==c.T())throw new k("tenant-id-mismatch");return c.ab(v)}))};function vu(){}vu.prototype.render=function(){},vu.prototype.reset=function(){},vu.prototype.getResponse=function(){},vu.prototype.execute=function(){};function Ds(){this.a={},this.b=1e12}var Am=null;Ds.prototype.render=function(i,a){return this.a[this.b.toString()]=new jl(i,a),this.b++},Ds.prototype.reset=function(i){var a=km(this,i);i=Ub(i),a&&i&&(a.delete(),delete this.a[i])},Ds.prototype.getResponse=function(i){return(i=km(this,i))?i.getResponse():null},Ds.prototype.execute=function(i){(i=km(this,i))&&i.execute()};function km(i,a){return(a=Ub(a))&&i.a[a]||null}function Ub(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function jl(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Fa(i);var c=this;this.i=function(){c.execute()},this.h?this.execute():rr(this.f,"click",this.i)}jl.prototype.getResponse=function(){return xm(this),this.b},jl.prototype.execute=function(){xm(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=MC();var a=i.c.callback,c=i.c["expired-callback"];if(a)try{a(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,c)try{c()}catch{}i.h&&i.execute()},6e4)},500))},jl.prototype.delete=function(){xm(this),this.g=!0,clearTimeout(this.a),this.a=null,Hn(this.f,"click",this.i)};function xm(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function Cm(){}ve(Cm,"FACTOR_ID","phone");function Om(){}Om.prototype.g=function(){return Am||(Am=new Ds),Ee(Am)},Om.prototype.c=function(){};var Nm=null;function Rm(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var OR=new Or(qc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),NR=new _i(3e4,6e4);Rm.prototype.g=function(i){var a=this;return new Ke(function(c,d){var v=setTimeout(function(){d(new k("network-request-failed"))},NR.get());if(!f.grecaptcha||i!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=i;var b=f.grecaptcha.render;f.grecaptcha.render=function(S,q){return S=b(S,q),a.b++,S},clearTimeout(v),c(f.grecaptcha)}else clearTimeout(v),d(new k("internal-error"));delete f[a.a]};var w=dd(OR,{onload:a.a,hl:i||""});Ee(bp(w)).o(function(){clearTimeout(v),d(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),c(f.grecaptcha)})},Rm.prototype.c=function(){this.b--};var Pm=null;function Dm(i,a,c,d,v,w,b){if(ve(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,b?(Nm||(Nm=new Om),b=Nm):(Pm||(Pm=new Rm),b=Pm),this.m=b,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[qb])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[RR]==="invisible",!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Fa(a)||!this.i&&Fa(a).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new mr(i,w||null,v||null),this.u=d||function(){return null};var S=this;this.l=[];var q=this.a[jb];this.a[jb]=function(Le){if($b(S,Le),typeof q=="function")q(Le);else if(typeof q=="string"){var it=_t(q,f);typeof it=="function"&&it(Le)}};var Y=this.a[Bb];this.a[Bb]=function(){if($b(S,null),typeof Y=="function")Y();else if(typeof Y=="string"){var Le=_t(Y,f);typeof Le=="function"&&Le()}}}var jb="callback",Bb="expired-callback",qb="sitekey",RR="size";function $b(i,a){for(var c=0;c<i.l.length;c++)try{i.l[c](a)}catch{}}function PR(i,a){$(i.l,function(c){return c==a})}function Lm(i,a){return i.h.push(a),a.oa(function(){j(i.h,a)}),a}e=Dm.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=Lm(this,Ee().then(function(){if(nl()&&!dr())return tl();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,ze(i.s,eN,{})}).then(function(a){i.a[qb]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){Bl(this);var i=this;return Lm(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var c=Fa(a);a=oC("DIV"),c.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){Bl(this);var i=this;return Lm(this,this.render().then(function(a){return new Ke(function(c){var d=i.g.getResponse(a);if(d)c(d);else{var v=function(w){w&&(PR(i,v),c(w))};i.l.push(v),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){Bl(this),this.c!==null&&this.g.reset(this.c)};function Bl(i){if(i.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Bl(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Fa(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function Mm(i,a,c){var d=!1;try{this.b=c||Ce.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new k("invalid-api-key");var v=this,w=null;try{w=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=Ce.SDK_VERSION?bs(Ce.SDK_VERSION,w):null,Dm.call(this,c,i,a,function(){try{var b=v.b.auth().la()}catch{b=null}return b},w,He(le),d)}V(Mm,Dm);function Hb(i,a,c,d){e:{c=Array.prototype.slice.call(c);for(var v=0,w=!1,b=0;b<a.length;b++)if(a[b].optional)w=!0;else{if(w)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(w=a.length,c.length<v||w<c.length)d="Expected "+(v==w?v==1?"1 argument":v+" arguments":v+"-"+w+" arguments")+" but got "+c.length+".";else{for(v=0;v<c.length;v++)if(w=a[v].optional&&c[v]===void 0,!a[v].M(c[v])&&!w){if(a=a[v],0>v||v>=Kb.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");c=Kb[v],d=(d?"":c+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}d=null}}if(d)throw new k("argument-error",i+" failed: "+d)}var Kb="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function me(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(c){return typeof c=="string"}}}function Fm(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(c){return typeof c=="boolean"}}}function Dt(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:E}}function Ls(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(c){return typeof c=="function"}}}function Fr(i,a){return{name:i||"",K:"null",optional:!!a,M:function(c){return c===null}}}function DR(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function LR(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof vr)}}}function MR(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof Ce.app.App)}}}function Ei(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var c=!i||a.providerId===i;return!(!a.ka||!c)}}}function Gb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function Ms(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Vm(i,a){return E(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function zb(i){return E(i)&&typeof i.uid=="string"}function ql(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Ct(i,a,c,d){return{name:c||"",K:i.K+" or "+a.K,optional:!!d,M:function(v){return i.M(v)||a.M(v)}}}function Tt(i,a){for(var c in a){var d=a[c].name;i[d]=Xb(d,i[c],a[c].j)}}function Wb(i,a){for(var c in a){var d=a[c].name;d!==c&&Object.defineProperty(i,d,{get:ue(function(v){return this[v]},c),set:ue(function(v,w,b,S){Hb(v,[b],[S],!0),this[w]=S},d,c,a[c].lb),enumerable:!0})}}function Ot(i,a,c,d){i[a]=Xb(a,c,d)}function Xb(i,a,c){function d(){var b=Array.prototype.slice.call(arguments);return Hb(v,c,b),a.apply(this,b)}if(!c)return a;var v=FR(i),w;for(w in a)d[w]=a[w];for(w in a.prototype)d.prototype[w]=a.prototype[w];return d}function FR(i){return i=i.split("."),i[i.length-1]}Tt(vr.prototype,{kb:{name:"applyActionCode",j:[me("code")]},Sa:{name:"checkActionCode",j:[me("code")]},ob:{name:"confirmPasswordReset",j:[me("code"),me("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[me("email"),me("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[me("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[me("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ct(Dt(),Ls(),"nextOrObserver"),Ls("opt_error",!0),Ls("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ct(Dt(),Ls(),"nextOrObserver"),Ls("opt_error",!0),Ls("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[me("email"),Ct(Dt("opt_actionCodeSettings",!0),Fr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[me("email"),Dt("actionCodeSettings")]},yb:{name:"setPersistence",j:[me("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ei()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ei()]},Tc:{name:"signInWithCustomToken",j:[me("token")]},Uc:{name:"signInWithEmailAndPassword",j:[me("email"),me("password")]},Vc:{name:"signInWithEmailLink",j:[me("email"),me("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[me("phoneNumber"),ql()]},Xc:{name:"signInWithPopup",j:[Ms()]},Yc:{name:"signInWithRedirect",j:[Ms()]},dd:{name:"updateCurrentUser",j:[Ct(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof Gn)}}}(),Fr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[me(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[me("url"),Dt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[me("code")]}}),Wb(vr.prototype,{lc:{name:"languageCode",lb:Ct(me(),Fr(),"languageCode")},ti:{name:"tenantId",lb:Ct(me(),Fr(),"tenantId")}}),vr.Persistence=xs,vr.Persistence.LOCAL="local",vr.Persistence.SESSION="session",vr.Persistence.NONE="none",Tt(Gn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Fm("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Fm("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ei()]},rb:{name:"linkWithCredential",j:[Ei()]},Dc:{name:"linkWithPhoneNumber",j:[me("phoneNumber"),ql()]},Ec:{name:"linkWithPopup",j:[Ms()]},Fc:{name:"linkWithRedirect",j:[Ms()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ei()]},ub:{name:"reauthenticateWithCredential",j:[Ei()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[me("phoneNumber"),ql()]},Nc:{name:"reauthenticateWithPopup",j:[Ms()]},Oc:{name:"reauthenticateWithRedirect",j:[Ms()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ct(Dt("opt_actionCodeSettings",!0),Fr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[me(null,!0)]},cd:{name:"unlink",j:[me("provider")]},Cb:{name:"updateEmail",j:[me("email")]},Db:{name:"updatePassword",j:[me("password")]},ed:{name:"updatePhoneNumber",j:[Ei("phone")]},Eb:{name:"updateProfile",j:[Dt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[me("email"),Ct(Dt("opt_actionCodeSettings",!0),Fr(null,!0),"opt_actionCodeSettings",!0)]}}),Tt(Ds.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(vu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(Ke.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Wb(pb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Fm("appVerificationDisabledForTesting")}}),Tt(tm.prototype,{confirm:{name:"confirm",j:[me("verificationCode")]}}),Ot(Ts,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,c=[sO,aO,uO,oO],d=0;d<c.length;d++)if(a=c[d](i))return a;return null},[Ct(me(),Dt(),"json")]),Ot(or,"credential",function(i,a){return new wi(i,a)},[me("email"),me("password")]),Tt(wi.prototype,{w:{name:"toJSON",j:[me(null,!0)]}}),Tt(yo.prototype,{Ca:{name:"addScope",j:[me("scope")]},Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Ot(yo,"credential",Y0,[Ct(me(),Dt(),"token")]),Ot(or,"credentialWithLink",ew,[me("email"),me("emailLink")]),Tt(_o.prototype,{Ca:{name:"addScope",j:[me("scope")]},Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Ot(_o,"credential",Q0,[Ct(me(),Dt(),"token")]),Tt(wo.prototype,{Ca:{name:"addScope",j:[me("scope")]},Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Ot(wo,"credential",J0,[Ct(me(),Ct(Dt(),Fr()),"idToken"),Ct(me(),Fr(),"accessToken",!0)]),Tt(As.prototype,{Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Ot(As,"credential",Z0,[Ct(me(),Dt(),"token"),me("secret",!0)]),Tt(Kn.prototype,{Ca:{name:"addScope",j:[me("scope")]},credential:{name:"credential",j:[Ct(me(),Ct(Dt(),Fr()),"optionsOrIdToken"),Ct(me(),Fr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Tt(Jr.prototype,{w:{name:"toJSON",j:[me(null,!0)]}}),Tt(go.prototype,{w:{name:"toJSON",j:[me(null,!0)]}}),Ot(Zr,"credential",tw,[me("verificationId"),me("verificationCode")]),Tt(Zr.prototype,{gb:{name:"verifyPhoneNumber",j:[Ct(me(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(c){return c?c.session&&c.phoneNumber?Vm(c.session,Qa)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Vm(c.session,ll)&&zb(c.multiFactorHint):c.session&&c.multiFactorUid?Vm(c.session,ll)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),ql()]}}),Tt(bi.prototype,{w:{name:"toJSON",j:[me(null,!0)]}}),Tt(k.prototype,{toJSON:{name:"toJSON",j:[me(null,!0)]}}),Tt(Za.prototype,{toJSON:{name:"toJSON",j:[me(null,!0)]}}),Tt(fp.prototype,{toJSON:{name:"toJSON",j:[me(null,!0)]}}),Tt(im.prototype,{toJSON:{name:"toJSON",j:[me(null,!0)]}}),Tt(rm.prototype,{Rc:{name:"resolveSignIn",j:[Gb()]}}),Tt(sm.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Gb(),me("displayName",!0)]},bd:{name:"unenroll",j:[Ct({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:zb},me(),"multiFactorInfoIdentifier")]}}),Tt(Mm.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ot(Zd,"parseLink",R0,[me("link")]),Ot(Cm,"assertion",function(i){return new _b(i)},[Ei("phone")]),function(){if(typeof Ce<"u"&&Ce.INTERNAL&&Ce.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:rl,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Jd,VERIFY_AND_CHANGE_EMAIL:Xa,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:vr,AuthCredential:Ts,Error:k};Ot(i,"EmailAuthProvider",or,[]),Ot(i,"FacebookAuthProvider",yo,[]),Ot(i,"GithubAuthProvider",_o,[]),Ot(i,"GoogleAuthProvider",wo,[]),Ot(i,"TwitterAuthProvider",As,[]),Ot(i,"OAuthProvider",Kn,[me("providerId")]),Ot(i,"SAMLAuthProvider",X0,[me("providerId")]),Ot(i,"PhoneAuthProvider",Zr,[LR()]),Ot(i,"RecaptchaVerifier",Mm,[Ct(me(),DR(),"recaptchaContainer"),Dt("recaptchaParameters",!0),MR()]),Ot(i,"ActionCodeURL",Zd,[]),Ot(i,"PhoneMultiFactorGenerator",Cm,[]),Ce.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new vr(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),Ce.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:U(a.getUid,a),getToken:U(a.nc,a),addAuthTokenListener:U(a.cc,a),removeAuthTokenListener:U(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ce.registerVersion("@firebase/auth","0.16.8"),Ce.INTERNAL.extendNamespace({User:Gn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lg=function(e,t){return Lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Lg(e,t)};function EM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Lg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function o1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var TM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,zv=zv||{},Me=TM||self;function Of(){}function Mg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function bc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function SM(e){return Object.prototype.hasOwnProperty.call(e,Ym)&&e[Ym]||(e[Ym]=++AM)}var Ym="closure_uid_"+(1e9*Math.random()>>>0),AM=0;function kM(e,t,n){return e.call.apply(e.bind,arguments)}function xM(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function rn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rn=kM:rn=xM,rn.apply(null,arguments)}function Yl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function sn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return t.prototype[o].apply(r,u)}}function eo(){this.s=this.s,this.o=this.o}var CM=0;eo.prototype.s=!1;eo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),CM!=0)&&SM(this)};eo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var s1=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},a1=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function OM(e){e:{for(var t=bF,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function UI(e){return Array.prototype.concat.apply([],arguments)}function Wv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nf(e){return/^[\s\xa0]*$/.test(e)}var jI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Tn(e,t){return e.indexOf(t)!=-1}function Qm(e,t){return e<t?-1:e>t?1:0}var Sn;e:{var BI=Me.navigator;if(BI){var qI=BI.userAgent;if(qI){Sn=qI;break e}}Sn=""}function Xv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function u1(e){var t={};for(var n in e)t[n]=e[n];return t}var $I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function c1(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<$I.length;s++)n=$I[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Yv(e){return Yv[" "](e),e}Yv[" "]=Of;function NM(e){var t=DM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var RM=Tn(Sn,"Opera"),ia=Tn(Sn,"Trident")||Tn(Sn,"MSIE"),l1=Tn(Sn,"Edge"),Fg=l1||ia,f1=Tn(Sn,"Gecko")&&!(Tn(Sn.toLowerCase(),"webkit")&&!Tn(Sn,"Edge"))&&!(Tn(Sn,"Trident")||Tn(Sn,"MSIE"))&&!Tn(Sn,"Edge"),PM=Tn(Sn.toLowerCase(),"webkit")&&!Tn(Sn,"Edge");function h1(){var e=Me.document;return e?e.documentMode:void 0}var Rf;e:{var Jm="",Zm=function(){var e=Sn;if(f1)return/rv:([^\);]+)(\)|;)/.exec(e);if(l1)return/Edge\/([\d\.]+)/.exec(e);if(ia)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(PM)return/WebKit\/(\S+)/.exec(e);if(RM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Zm&&(Jm=Zm?Zm[1]:""),ia){var eg=h1();if(eg!=null&&eg>parseFloat(Jm)){Rf=String(eg);break e}}Rf=Jm}var DM={};function LM(){return NM(function(){for(var e=0,t=jI(String(Rf)).split("."),n=jI("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=Qm(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||Qm(s[2].length==0,u[2].length==0)||Qm(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var Vg;if(Me.document&&ia){var HI=h1();Vg=HI||parseInt(Rf,10)||void 0}else Vg=void 0;var MM=Vg,FM=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Me.addEventListener("test",Of,t),Me.removeEventListener("test",Of,t)}catch{}return e}();function dn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}dn.prototype.h=function(){this.defaultPrevented=!0};function Qu(e,t){if(dn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(f1){e:{try{Yv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:VM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Qu.Z.h.call(this)}}sn(Qu,dn);var VM={2:"touch",3:"pen",4:"mouse"};Qu.prototype.h=function(){Qu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ic="closure_listenable_"+(1e6*Math.random()|0),UM=0;function jM(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++UM,this.ca=this.fa=!1}function kh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function xh(e){this.src=e,this.g={},this.h=0}xh.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=jg(e,t,r,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new jM(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function Ug(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=s1(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(kh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function jg(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var Qv="closure_lm_"+(1e6*Math.random()|0),tg={};function d1(e,t,n,r,o){if(r&&r.once)return m1(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)d1(e,t[s],n,r,o);return null}return n=ey(n),e&&e[Ic]?e.N(t,n,bc(r)?!!r.capture:!!r,o):p1(e,t,n,!1,r,o)}function p1(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=bc(o)?!!o.capture:!!o,l=Zv(e);if(l||(e[Qv]=l=new xh(e)),n=l.add(t,n,r,u,s),n.proxy)return n;if(r=BM(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)FM||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(v1(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function BM(){function e(n){return t.call(e.src,e.listener,n)}var t=qM;return e}function m1(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)m1(e,t[s],n,r,o);return null}return n=ey(n),e&&e[Ic]?e.O(t,n,bc(r)?!!r.capture:!!r,o):p1(e,t,n,!0,r,o)}function g1(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)g1(e,t[s],n,r,o);else r=bc(r)?!!r.capture:!!r,n=ey(n),e&&e[Ic]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=jg(s,n,r,o),-1<n&&(kh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Zv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=jg(t,n,r,o)),(n=-1<e?t[e]:null)&&Jv(n))}function Jv(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Ic])Ug(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(v1(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Zv(t))?(Ug(n,e),n.h==0&&(n.src=null,t[Qv]=null)):kh(e)}}}function v1(e){return e in tg?tg[e]:tg[e]="on"+e}function qM(e,t){if(e.ca)e=!0;else{t=new Qu(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Jv(e),e=n.call(r,t)}return e}function Zv(e){return e=e[Qv],e instanceof xh?e:null}var ng="__closure_events_fn_"+(1e9*Math.random()>>>0);function ey(e){return typeof e=="function"?e:(e[ng]||(e[ng]=function(t){return e.handleEvent(t)}),e[ng])}function Qt(){eo.call(this),this.i=new xh(this),this.P=this,this.I=null}sn(Qt,eo);Qt.prototype[Ic]=!0;Qt.prototype.removeEventListener=function(e,t,n,r){g1(this,e,t,n,r)};function on(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new dn(t,e);else if(t instanceof dn)t.target=t.target||e;else{var o=t;t=new dn(r,e),c1(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=Ql(u,r,!0,t)&&o}if(u=t.g=e,o=Ql(u,r,!0,t)&&o,o=Ql(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=Ql(u,r,!1,t)&&o}Qt.prototype.M=function(){if(Qt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)kh(n[r]);delete e.g[t],e.h--}}this.I=null};Qt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Qt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ql(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var l=u.listener,f=u.ia||u.src;u.fa&&Ug(e.i,u),o=l.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var ty=Me.JSON.stringify;function $M(){var e=_1,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var HM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=y1.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),y1=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new KM},function(e){return e.reset()}),KM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function GM(e){Me.setTimeout(function(){throw e},0)}function ny(e,t){Bg||zM(),qg||(Bg(),qg=!0),_1.add(e,t)}var Bg;function zM(){var e=Me.Promise.resolve(void 0);Bg=function(){e.then(WM)}}var qg=!1,_1=new HM;function WM(){for(var e;e=$M();){try{e.h.call(e.g)}catch(n){GM(n)}var t=y1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qg=!1}function Ch(e,t){Qt.call(this),this.h=e||1,this.g=t||Me,this.j=rn(this.kb,this),this.l=Date.now()}sn(Ch,Qt);he=Ch.prototype;he.da=!1;he.S=null;he.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),on(this,"tick"),this.da&&(ry(this),this.start()))}};he.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ry(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}he.M=function(){Ch.Z.M.call(this),ry(this),delete this.g};function iy(e,t,n){if(typeof e=="function")n&&(e=rn(e,n));else if(e&&typeof e.handleEvent=="function")e=rn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Me.setTimeout(e,t||0)}function w1(e){e.g=iy(function(){e.g=null,e.i&&(e.i=!1,w1(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var XM=function(e){EM(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:w1(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(eo);function Ju(e){eo.call(this),this.h=e,this.g={}}sn(Ju,eo);var KI=[];function b1(e,t,n,r){Array.isArray(n)||(n&&(KI[0]=n.toString()),n=KI);for(var o=0;o<n.length;o++){var s=d1(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function I1(e){Xv(e.g,function(t,n){this.g.hasOwnProperty(n)&&Jv(t)},e),e.g={}}Ju.prototype.M=function(){Ju.Z.M.call(this),I1(this)};Ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Oh(){this.g=!0}Oh.prototype.Aa=function(){this.g=!1};function YM(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var u="",l=s.split("&"),f=0;f<l.length;f++){var p=l[f].split("=");if(1<p.length){var g=p[0];p=p[1];var h=g.split("_");u=2<=h.length&&h[1]=="type"?u+(g+"="+p+"&"):u+(g+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function QM(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function Gs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+ZM(e,n)+(r?" "+r:"")})}function JM(e,t){e.info(function(){return"TIMEOUT: "+t})}Oh.prototype.info=function(){};function ZM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return ty(n)}catch{return t}}var ss={},GI=null;function Nh(){return GI=GI||new Qt}ss.Ma="serverreachability";function E1(e){dn.call(this,ss.Ma,e)}sn(E1,dn);function Zu(e){var t=Nh();on(t,new E1(t))}ss.STAT_EVENT="statevent";function T1(e,t){dn.call(this,ss.STAT_EVENT,e),this.stat=t}sn(T1,dn);function An(e){var t=Nh();on(t,new T1(t,e))}ss.Na="timingevent";function S1(e,t){dn.call(this,ss.Na,e),this.size=t}sn(S1,dn);function Ec(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){e()},t)}var Rh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},A1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function oy(){}oy.prototype.h=null;function zI(e){return e.h||(e.h=e.i())}function k1(){}var Tc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sy(){dn.call(this,"d")}sn(sy,dn);function ay(){dn.call(this,"c")}sn(ay,dn);var $g;function Ph(){}sn(Ph,oy);Ph.prototype.g=function(){return new XMLHttpRequest};Ph.prototype.i=function(){return{}};$g=new Ph;function Sc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ju(this),this.P=eF,e=Fg?125:void 0,this.W=new Ch(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new x1}function x1(){this.i=null,this.g="",this.h=!1}var eF=45e3,Hg={},Pf={};he=Sc.prototype;he.setTimeout=function(e){this.P=e};function Kg(e,t,n){e.K=1,e.v=Lh(hi(t)),e.s=n,e.U=!0,C1(e,null)}function C1(e,t){e.F=Date.now(),Ac(e),e.A=hi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),M1(n.h,"t",r),e.C=0,n=e.l.H,e.h=new x1,e.g=nA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new XM(rn(e.Ia,e,e.g),e.O)),b1(e.V,e.g,"readystatechange",e.gb),t=e.H?u1(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Zu(),YM(e.j,e.u,e.A,e.m,e.X,e.s)}he.gb=function(e){e=e.target;var t=this.L;t&&oi(e)==3?t.l():this.Ia(e)};he.Ia=function(e){try{if(e==this.g)e:{var t=oi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||Fg||this.g&&(this.h.h||this.g.ga()||QI(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Zu(3):Zu(2)),Dh(this);var o=this.g.ba();this.N=o;t:if(O1(this)){var s=QI(this.g);e="";var u=s.length,l=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jo(this),Du(this);var f="";break t}this.h.i=new Me.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,QM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var p,g=this.g;if((p=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nf(p)){var h=p;break t}}h=null}if(o=h)Gs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gg(this,o);else{this.i=!1,this.o=3,An(12),jo(this),Du(this);break e}}this.U?(N1(this,t,f),Fg&&this.i&&t==3&&(b1(this.V,this.W,"tick",this.fb),this.W.start())):(Gs(this.j,this.m,f,null),Gg(this,f)),t==4&&jo(this),this.i&&!this.I&&(t==4?J1(this.l,this):(this.i=!1,Ac(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,An(12)):(this.o=0,An(13)),jo(this),Du(this)}}}catch{}finally{}};function O1(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function N1(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=tF(e,n),o==Pf){t==4&&(e.o=4,An(14),r=!1),Gs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Hg){e.o=4,An(15),Gs(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Gs(e.j,e.m,o,null),Gg(e,o);O1(e)&&o!=Pf&&o!=Hg&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,An(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gy(t),t.L=!0,An(11))):(Gs(e.j,e.m,n,"[Invalid Chunked Response]"),jo(e),Du(e))}he.fb=function(){if(this.g){var e=oi(this.g),t=this.g.ga();this.C<t.length&&(Dh(this),N1(this,e,t),this.i&&e!=4&&Ac(this))}};function tF(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Pf:(n=Number(t.substring(n,r)),isNaN(n)?Hg:(r+=1,r+n>t.length?Pf:(t=t.substr(r,n),e.C=r+n,t)))}he.cancel=function(){this.I=!0,jo(this)};function Ac(e){e.Y=Date.now()+e.P,R1(e,e.P)}function R1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ec(rn(e.eb,e),t)}function Dh(e){e.B&&(Me.clearTimeout(e.B),e.B=null)}he.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(JM(this.j,this.A),this.K!=2&&(Zu(),An(17)),jo(this),this.o=2,Du(this)):R1(this,this.Y-e)};function Du(e){e.l.G==0||e.I||J1(e.l,e)}function jo(e){Dh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,ry(e.W),I1(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Gg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||zg(n.i,e))){if(n.I=e.N,!e.J&&zg(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Ff(n),Vh(n);else break e;my(n),An(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ec(rn(n.ab,n),6e3));if(1>=U1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Bo(n,11)}else if((e.J||n.g==e)&&Ff(n),!Nf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var p=e.g;if(p){var g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var h=r.i;!h.g&&(Tn(g,"spdy")||Tn(g,"quic")||Tn(g,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ly(h,h.h),h.h=null))}if(r.D){var m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,bt(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=tA(r,r.H?r.la:null,r.W),y.J){j1(r.i,y);var _=y,I=r.K;I&&_.setTimeout(I),_.B&&(Dh(_),Ac(_)),r.g=y}else Y1(r);0<n.l.length&&Uh(n)}else s[0]!="stop"&&s[0]!="close"||Bo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Bo(n,7):py(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Zu(4)}catch{}}function nF(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Mg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function uy(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Mg(e)||typeof e=="string")a1(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Mg(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=nF(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function Aa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Aa)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}he=Aa.prototype;he.R=function(){cy(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};he.T=function(){return cy(this),this.g.concat()};function cy(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Zo(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],Zo(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}he.get=function(e,t){return Zo(this.h,e)?this.h[e]:t};he.set=function(e,t){Zo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};he.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function Zo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rF(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function es(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof es){this.g=t!==void 0?t:e.g,Df(this,e.j),this.s=e.s,Lf(this,e.i),Mf(this,e.m),this.l=e.l,t=e.h;var n=new ec;n.i=t.i,t.g&&(n.g=new Aa(t.g),n.h=t.h),WI(this,n),this.o=e.o}else e&&(n=String(e).match(P1))?(this.g=!!t,Df(this,n[1]||"",!0),this.s=Lu(n[2]||""),Lf(this,n[3]||"",!0),Mf(this,n[4]),this.l=Lu(n[5]||"",!0),WI(this,n[6]||"",!0),this.o=Lu(n[7]||"")):(this.g=!!t,this.h=new ec(null,this.g))}es.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xu(t,XI,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(xu(t,XI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(xu(n,n.charAt(0)=="/"?uF:aF,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xu(n,lF)),e.join("")};function hi(e){return new es(e)}function Df(e,t,n){e.j=n?Lu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lf(e,t,n){e.i=n?Lu(t,!0):t}function Mf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function WI(e,t,n){t instanceof ec?(e.h=t,fF(e.h,e.g)):(n||(t=xu(t,cF)),e.h=new ec(t,e.g))}function bt(e,t,n){e.h.set(t,n)}function Lh(e){return bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function iF(e){return e instanceof es?hi(e):new es(e,void 0)}function oF(e,t,n,r){var o=new es(null,void 0);return e&&Df(o,e),t&&Lf(o,t),n&&Mf(o,n),r&&(o.l=r),o}function Lu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xu(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,sF),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sF(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var XI=/[#\/\?@]/g,aF=/[#\?:]/g,uF=/[#\?]/g,cF=/[#\?@]/g,lF=/#/g;function ec(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function to(e){e.g||(e.g=new Aa,e.h=0,e.i&&rF(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}he=ec.prototype;he.add=function(e,t){to(this),this.i=null,e=ka(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function D1(e,t){to(e),t=ka(e,t),Zo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Zo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&cy(e)))}function L1(e,t){return to(e),t=ka(e,t),Zo(e.g.h,t)}he.forEach=function(e,t){to(this),this.g.forEach(function(n,r){a1(n,function(o){e.call(t,o,r,this)},this)},this)};he.T=function(){to(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};he.R=function(e){to(this);var t=[];if(typeof e=="string")L1(this,e)&&(t=UI(t,this.g.get(ka(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=UI(t,e[n])}return t};he.set=function(e,t){return to(this),this.i=null,e=ka(this,e),L1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};he.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function M1(e,t,n){D1(e,t),0<n.length&&(e.i=null,e.g.set(ka(e,t),Wv(n)),e.h+=n.length)}he.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.i=e.join("&")};function ka(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function fF(e,t){t&&!e.j&&(to(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(D1(this,r),M1(this,o,n))},e)),e.j=t}var hF=function(){function e(t,n){this.h=t,this.g=n}return e}();function F1(e){this.l=e||dF,Me.PerformanceNavigationTiming?(e=Me.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Me.g&&Me.g.Ea&&Me.g.Ea()&&Me.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dF=10;function V1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function U1(e){return e.h?1:e.g?e.g.size:0}function zg(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ly(e,t){e.g?e.g.add(t):e.h=t}function j1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}F1.prototype.cancel=function(){var e,t;if(this.i=B1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=o1(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function B1(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=o1(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return Wv(e.i)}function fy(){}fy.prototype.stringify=function(e){return Me.JSON.stringify(e,void 0)};fy.prototype.parse=function(e){return Me.JSON.parse(e,void 0)};function pF(){this.g=new fy}function mF(e,t,n){var r=n||"";try{uy(e,function(o,s){var u=o;bc(o)&&(u=ty(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function gF(e,t){var n=new Oh;if(Me.Image){var r=new Image;r.onload=Yl(Jl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yl(Jl,n,r,"TestLoadImage: error",!1,t),r.onabort=Yl(Jl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yl(Jl,n,r,"TestLoadImage: timeout",!1,t),Me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Jl(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function kc(e){this.l=e.$b||null,this.j=e.ib||!1}sn(kc,oy);kc.prototype.g=function(){return new Mh(this.l,this.j)};kc.prototype.i=function(e){return function(){return e}}({});function Mh(e,t){Qt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=hy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn(Mh,Qt);var hy=0;he=Mh.prototype;he.open=function(e,t){if(this.readyState!=hy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tc(this)};he.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Me).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xc(this)),this.readyState=hy};he.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tc(this)),this.g&&(this.readyState=3,tc(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;q1(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function q1(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}he.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xc(this):tc(this),this.readyState==3&&q1(this)}};he.Ua=function(e){this.g&&(this.response=this.responseText=e,xc(this))};he.Ta=function(e){this.g&&(this.response=e,xc(this))};he.ha=function(){this.g&&xc(this)};function xc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tc(e)}he.setRequestHeader=function(e,t){this.v.append(e,t)};he.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};he.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function tc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Mh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var vF=Me.JSON.parse;function Bt(e){Qt.call(this),this.headers=new Aa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$1,this.K=this.L=!1}sn(Bt,Qt);var $1="",yF=/^https?$/i,_F=["POST","PUT"];he=Bt.prototype;he.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$g.g(),this.C=this.u?zI(this.u):zI($g),this.g.onreadystatechange=rn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){YI(this,s);return}e=n||"";var o=new Aa(this.headers);r&&uy(r,function(s,u){o.set(u,s)}),r=OM(o.T()),n=Me.FormData&&e instanceof Me.FormData,!(0<=s1(_F,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{G1(this),0<this.B&&((this.K=wF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.pa,this)):this.A=iy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){YI(this,s)}};function wF(e){return ia&&LM()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function bF(e){return e.toLowerCase()=="content-type"}he.pa=function(){typeof zv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,on(this,"timeout"),this.abort(8))};function YI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,H1(e),Fh(e)}function H1(e){e.D||(e.D=!0,on(e,"complete"),on(e,"error"))}he.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,on(this,"complete"),on(this,"abort"),Fh(this))};he.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fh(this,!0)),Bt.Z.M.call(this)};he.Fa=function(){this.s||(this.F||this.v||this.l?K1(this):this.cb())};he.cb=function(){K1(this)};function K1(e){if(e.h&&typeof zv<"u"&&(!e.C[1]||oi(e)!=4||e.ba()!=2)){if(e.v&&oi(e)==4)iy(e.Fa,0,e);else if(on(e,"readystatechange"),oi(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(P1)[1]||null;if(!s&&Me.self&&Me.self.location){var u=Me.self.location.protocol;s=u.substr(0,u.length-1)}o=!yF.test(s?s.toLowerCase():"")}r=o}if(r)on(e,"complete"),on(e,"success");else{e.m=6;try{var l=2<oi(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",H1(e)}}finally{Fh(e)}}}}function Fh(e,t){if(e.g){G1(e);var n=e.g,r=e.C[0]?Of:null;e.g=null,e.C=null,t||on(e,"ready");try{n.onreadystatechange=r}catch{}}}function G1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Me.clearTimeout(e.A),e.A=null)}function oi(e){return e.g?e.g.readyState:0}he.ba=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}};he.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};he.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),vF(t)}};function QI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case $1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}he.Da=function(){return this.m};he.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function IF(e){var t="";return Xv(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function dy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=IF(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):bt(e,t,n))}function wu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function z1(e){this.za=0,this.l=[],this.h=new Oh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wu("baseRetryDelayMs",5e3,e),this.$a=wu("retryDelaySeedMs",1e4,e),this.Ya=wu("forwardChannelMaxRetries",2,e),this.ra=wu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new F1(e&&e.concurrentRequestLimit),this.Ca=new pF,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}he=z1.prototype;he.ma=8;he.G=1;function py(e){if(W1(e),e.G==3){var t=e.V++,n=hi(e.F);bt(n,"SID",e.J),bt(n,"RID",t),bt(n,"TYPE","terminate"),Cc(e,n),t=new Sc(e,e.h,t,void 0),t.K=2,t.v=Lh(hi(n)),n=!1,Me.navigator&&Me.navigator.sendBeacon&&(n=Me.navigator.sendBeacon(t.v.toString(),"")),!n&&Me.Image&&(new Image().src=t.v,n=!0),n||(t.g=nA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ac(t)}eA(e)}he.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Vh(e){e.g&&(gy(e),e.g.cancel(),e.g=null)}function W1(e){Vh(e),e.u&&(Me.clearTimeout(e.u),e.u=null),Ff(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Me.clearTimeout(e.m),e.m=null)}function rg(e,t){e.l.push(new hF(e.Za++,t)),e.G==3&&Uh(e)}function Uh(e){V1(e.i)||e.m||(e.m=!0,ny(e.Ha,e),e.C=0)}function EF(e,t){return U1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Ec(rn(e.Ha,e,t),Z1(e,e.C)),e.C++,!0)}he.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Sc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=u1(n),c1(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=X1(this,t,r),o=hi(this.F),bt(o,"RID",e),bt(o,"CVER",22),this.D&&bt(o,"X-HTTP-Session-Id",this.D),Cc(this,o),this.o&&n&&dy(o,this.o,n),ly(this.i,t),this.Ra&&bt(o,"TYPE","init"),this.ja?(bt(o,"$req",r),bt(o,"SID","null"),t.$=!0,Kg(t,o,null)):Kg(t,o,r),this.G=2}}else this.G==3&&(e?JI(this,e):this.l.length==0||V1(this.i)||JI(this))};function JI(e,t){var n;t?n=t.m:n=e.V++;var r=hi(e.F);bt(r,"SID",e.J),bt(r,"RID",n),bt(r,"AID",e.U),Cc(e,r),e.o&&e.s&&dy(r,e.o,e.s),n=new Sc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=X1(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ly(e.i,n),Kg(n,r,t)}function Cc(e,t){e.j&&uy({},function(n,r){bt(t,r,n)})}function X1(e,t,n){n=Math.min(e.l.length,n);var r=e.j?rn(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var p=o[f].h,g=o[f].g;if(p-=s,0>p)s=Math.max(0,o[f].h-100),l=!1;else try{mF(g,u,"req"+p+"_")}catch{r&&r(g)}}if(l){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Y1(e){e.g||e.u||(e.Y=1,ny(e.Ga,e),e.A=0)}function my(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Ec(rn(e.Ga,e),Z1(e,e.A)),e.A++,!0)}he.Ga=function(){if(this.u=null,Q1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ec(rn(this.bb,this),e)}};he.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,An(10),Vh(this),Q1(this))};function gy(e){e.B!=null&&(Me.clearTimeout(e.B),e.B=null)}function Q1(e){e.g=new Sc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=hi(e.oa);bt(t,"RID","rpc"),bt(t,"SID",e.J),bt(t,"CI",e.N?"0":"1"),bt(t,"AID",e.U),Cc(e,t),bt(t,"TYPE","xmlhttp"),e.o&&e.s&&dy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Lh(hi(t)),n.s=null,n.U=!0,C1(n,e)}he.ab=function(){this.v!=null&&(this.v=null,Vh(this),my(this),An(19))};function Ff(e){e.v!=null&&(Me.clearTimeout(e.v),e.v=null)}function J1(e,t){var n=null;if(e.g==t){Ff(e),gy(e),e.g=null;var r=2}else if(zg(e.i,t))n=t.D,j1(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=Nh(),on(r,new S1(r,n)),Uh(e)}else Y1(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&EF(e,t)||r==2&&my(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Bo(e,5);break;case 4:Bo(e,10);break;case 3:Bo(e,6);break;default:Bo(e,2)}}}function Z1(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Bo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=rn(e.jb,e);n||(n=new es("//www.google.com/images/cleardot.gif"),Me.location&&Me.location.protocol=="http"||Df(n,"https"),Lh(n)),gF(n.toString(),r)}else An(2);e.G=0,e.j&&e.j.va(t),eA(e),W1(e)}he.jb=function(e){e?(this.h.info("Successfully pinged google.com"),An(2)):(this.h.info("Failed to ping google.com"),An(1))};function eA(e){e.G=0,e.I=-1,e.j&&((B1(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Wv(e.l),e.l.length=0),e.j.ua())}function tA(e,t,n){var r=iF(n);if(r.i!="")t&&Lf(r,t+"."+r.i),Mf(r,r.m);else{var o=Me.location;r=oF(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Xv(e.aa,function(s,u){bt(r,u,s)}),t=e.D,n=e.sa,t&&n&&bt(r,t,n),bt(r,"VER",e.ma),Cc(e,r),r}function nA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Bt(new kc({ib:!0})):new Bt(e.qa),t.L=e.H,t}function rA(){}he=rA.prototype;he.xa=function(){};he.wa=function(){};he.va=function(){};he.ua=function(){};he.Oa=function(){};function Vf(){if(ia&&!(10<=Number(MM)))throw Error("Environmental error: no available transport.")}Vf.prototype.g=function(e,t){return new tr(e,t)};function tr(e,t){Qt.call(this),this.g=new z1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Nf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new xa(this)}sn(tr,Qt);tr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ny(rn(e.hb,e,t))),An(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=tA(e,null,e.W),Uh(e)};tr.prototype.close=function(){py(this.g)};tr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,rg(this.g,t)}else this.v?(t={},t.__data__=ty(e),rg(this.g,t)):rg(this.g,e)};tr.prototype.M=function(){this.g.j=null,delete this.j,py(this.g),delete this.g,tr.Z.M.call(this)};function iA(e){sy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}sn(iA,sy);function oA(){ay.call(this),this.status=1}sn(oA,ay);function xa(e){this.g=e}sn(xa,rA);xa.prototype.xa=function(){on(this.g,"a")};xa.prototype.wa=function(e){on(this.g,new iA(e))};xa.prototype.va=function(e){on(this.g,new oA)};xa.prototype.ua=function(){on(this.g,"b")};Vf.prototype.createWebChannel=Vf.prototype.g;tr.prototype.send=tr.prototype.u;tr.prototype.open=tr.prototype.m;tr.prototype.close=tr.prototype.close;Rh.NO_ERROR=0;Rh.TIMEOUT=8;Rh.HTTP_ERROR=6;A1.COMPLETE="complete";k1.EventType=Tc;Tc.OPEN="a";Tc.CLOSE="b";Tc.ERROR="c";Tc.MESSAGE="d";Qt.prototype.listen=Qt.prototype.N;Bt.prototype.listenOnce=Bt.prototype.O;Bt.prototype.getLastError=Bt.prototype.La;Bt.prototype.getLastErrorCode=Bt.prototype.Da;Bt.prototype.getStatus=Bt.prototype.ba;Bt.prototype.getResponseJson=Bt.prototype.Qa;Bt.prototype.getResponseText=Bt.prototype.ga;Bt.prototype.send=Bt.prototype.ea;var TF=function(){return new Vf},SF=function(){return Nh()},ig=Rh,AF=A1,kF=ss,ZI={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xF=kc,Zl=k1,CF=Bt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Qn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},J=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Te(t,e),t}(Error),Sr=new t1("@firebase/firestore");function Wg(){return Sr.logLevel}function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Sr.logLevel<=tt.DEBUG){var r=t.map(vy);Sr.debug.apply(Sr,wt(["Firestore (8.10.1): "+e],r))}}function Vt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Sr.logLevel<=tt.ERROR){var r=t.map(vy);Sr.error.apply(Sr,wt(["Firestore (8.10.1): "+e],r))}}function Uf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Sr.logLevel<=tt.WARN){var r=t.map(vy);Sr.warn.apply(Sr,wt(["Firestore (8.10.1): "+e],r))}}function vy(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Vt(t),new Error(t)}function Pe(e,t){e||we()}function ae(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sA=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=OF(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function We(e,t){return e<t?-1:e>t?1:0}function oa(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function aA(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new J(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?We(this.nanoseconds,t.nanoseconds):We(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),$e=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Fn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function as(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function uA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cA=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&we(),r===void 0?r=t.length-n:r>t.length-n&&we(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),nt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var l=u[s];if(l.indexOf("//")>=0)throw new J(M.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(cA),NF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return NF.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new J(M.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new J(M.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new J(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(u(),s++)}if(u(),l)throw new J(M.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(cA),sa=function(){function e(t){this.fields=t,t.sort(xr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return oa(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Un=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return We(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Un.EMPTY_BYTE_STRING=new Un("");var RF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(e){if(Pe(!!e),typeof e=="string"){var t=0,n=RF.exec(e);if(Pe(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Mt(e.seconds),nanos:Mt(e.nanos)}}function Mt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function aa(e){return typeof e=="string"?Un.fromBase64String(e):Un.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lA(e){var t=e.mapValue.fields.__previous_value__;return yy(t)?lA(t):t}function nc(e){var t=Qi(e.mapValue.fields.__local_write_time__.timestampValue);return new Fn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(e){return e==null}function jf(e){return e===0&&1/e==-1/0}function fA(e){return typeof e=="number"&&Number.isInteger(e)&&!jf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(nt.fromString(t))},e.fromName=function(t){return new e(nt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&nt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return nt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new nt(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yy(e)?4:10:we()}function Xr(e,t){var n=ts(e);if(n!==ts(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nc(e).isEqual(nc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=Qi(r.timestampValue),u=Qi(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return aa(r.bytesValue).isEqual(aa(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Mt(r.geoPointValue.latitude)===Mt(o.geoPointValue.latitude)&&Mt(r.geoPointValue.longitude)===Mt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Mt(r.integerValue)===Mt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=Mt(r.doubleValue),u=Mt(o.doubleValue);return s===u?jf(s)===jf(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return oa(e.arrayValue.values||[],t.arrayValue.values||[],Xr);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(eE(s)!==eE(u))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(u[l]===void 0||!Xr(s[l],u[l])))return!1;return!0}(e,t);default:return we()}}function rc(e,t){return(e.values||[]).find(function(n){return Xr(n,t)})!==void 0}function ua(e,t){var n=ts(e),r=ts(t);if(n!==r)return We(n,r);switch(n){case 0:return 0;case 1:return We(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=Mt(o.integerValue||o.doubleValue),l=Mt(s.integerValue||s.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(e,t);case 3:return tE(e.timestampValue,t.timestampValue);case 4:return tE(nc(e),nc(t));case 5:return We(e.stringValue,t.stringValue);case 6:return function(o,s){var u=aa(o),l=aa(s);return u.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),l=s.split("/"),f=0;f<u.length&&f<l.length;f++){var p=We(u[f],l[f]);if(p!==0)return p}return We(u.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=We(Mt(o.latitude),Mt(s.latitude));return u!==0?u:We(Mt(o.longitude),Mt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],l=s.values||[],f=0;f<u.length&&f<l.length;++f){var p=ua(u[f],l[f]);if(p)return p}return We(u.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},l=Object.keys(u),f=s.fields||{},p=Object.keys(f);l.sort(),p.sort();for(var g=0;g<l.length&&g<p.length;++g){var h=We(l[g],p[g]);if(h!==0)return h;var m=ua(u[l[g]],f[p[g]]);if(m!==0)return m}return We(l.length,p.length)}(e.mapValue,t.mapValue);default:throw we()}}function tE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return We(e,t);var n=Qi(e),r=Qi(t),o=We(n.seconds,r.seconds);return o!==0?o:We(n.nanos,r.nanos)}function _y(e){return Xg(e)}function Xg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=Qi(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?aa(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ie.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,l=r.values||[];u<l.length;u++)s?s=!1:o+=",",o+=Xg(l[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,l=Object.keys(r.fields||{}).sort();u<l.length;u++){var f=l[u];s?s=!1:o+=",",o+=f+":"+Xg(r.fields[f])}return o+"}"}(e.mapValue):we();var t,n}function Bf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Yg(e){return!!e&&"integerValue"in e}function wy(e){return!!e&&"arrayValue"in e}function nE(e){return!!e&&"nullValue"in e}function rE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gf(e){return!!e&&"mapValue"in e}function Mu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return as(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Mu(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Mu(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!gf(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mu(n)},e.prototype.setAll=function(t){var n=this,r=xr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!r.isImmediateParentOf(f)){var p=n.getFieldsMap(r);n.applyChanges(p,o,s),o={},s=[],r=f.popLast()}l?o[f.lastSegment()]=Mu(l):s.push(f.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());gf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Xr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];gf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){as(n,function(l,f){return t[l]=f});for(var o=0,s=r;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(Mu(this.value))},e}();function hA(e){var t=[];return as(e.fields,function(n,r){var o=new xr([n]);if(gf(r)){var s=hA(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,l=s;u<l.length;u++){var f=l[u];t.push(o.child(f))}}else t.push(o)}),new sa(t)}var pn=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,$e.min(),Yn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Yn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Yn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),PF=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new PF(e,t,n,r,o,s,u)}function Oc(e){var t=ae(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+_y(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),us(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=$f(t.startAt)),t.endAt&&(n+="|ub:",n+=$f(t.endAt)),t.h=n}return t.h}function jh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!BF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!Xr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sE(e.startAt,t.startAt)&&sE(e.endAt,t.endAt)}function qf(e){return Ie.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Jn=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return Te(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new DF(n,r,o):r==="array-contains"?new FF(n,o):r==="in"?new VF(n,o):r==="not-in"?new UF(n,o):r==="array-contains-any"?new jF(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new LF(n,o):new MF(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(ua(r,this.value)):r!==null&&ts(this.value)===ts(r)&&this.m(ua(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return we()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),DF=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Ie.fromName(o.referenceValue),s}return Te(t,e),t.prototype.matches=function(n){var r=Ie.comparator(n.key,this.key);return this.m(r)},t}(Jn),LF=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=dA("in",r),o}return Te(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Jn),MF=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=dA("not-in",r),o}return Te(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Jn);function dA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Ie.fromName(r.referenceValue)})}var FF=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Te(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return wy(r)&&rc(r.arrayValue,this.value)},t}(Jn),VF=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Te(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&rc(this.value.arrayValue,r)},t}(Jn),UF=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Te(t,e),t.prototype.matches=function(n){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!rc(this.value.arrayValue,r)},t}(Jn),jF=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Te(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!wy(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return rc(r.value.arrayValue,s)})},t}(Jn),ic=function(e,t){this.position=e,this.before=t};function $f(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return _y(t)}).join(",")}var Js=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function BF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function oE(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?Ie.comparator(Ie.fromName(u.referenceValue),n.key):ua(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function sE(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi=function(e,t,n,r,o,s,u,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function pA(e,t,n,r,o,s,u,l){return new pi(e,t,n,r,o,s,u,l)}function Nc(e){return new pi(e)}function vf(e){return!us(e.limit)&&e.limitType==="F"}function Hf(e){return!us(e.limit)&&e.limitType==="L"}function by(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Iy(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Ey(e){return e.collectionGroup!==null}function ca(e){var t=ae(e);if(t.p===null){t.p=[];var n=Iy(t),r=by(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Js(n)),t.p.push(new Js(xr.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var l=u[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Js(xr.keyField(),f))}}}return t.p}function Yr(e){var t=ae(e);if(!t.T)if(t.limitType==="F")t.T=iE(t.path,t.collectionGroup,ca(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=ca(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new Js(s.field,u))}var l=t.endAt?new ic(t.endAt.position,!t.endAt.before):null,f=t.startAt?new ic(t.startAt.position,!t.startAt.before):null;t.T=iE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function mA(e,t,n){return new pi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rc(e,t){return jh(Yr(e),Yr(t))&&e.limitType===t.limitType}function gA(e){return Oc(Yr(e))+"|lt:"+e.limitType}function Qg(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+_y(o.value);var o}).join(", ")+"]"),us(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+$f(t.startAt)),t.endAt&&(n+=", endAt: "+$f(t.endAt)),"Target("+n+")"}(Yr(e))+"; limitType="+e.limitType+")"}function Pc(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ie.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!oE(n.startAt,ca(n),r))&&(!n.endAt||!oE(n.endAt,ca(n),r))}(e,t)}function vA(e){return function(t,n){for(var r=!1,o=0,s=ca(e);o<s.length;o++){var u=s[o],l=qF(u,t,n);if(l!==0)return l;r=r||u.field.isKeyField()}return 0}}function qF(e,t,n){var r=e.field.isKeyField()?Ie.comparator(t.key,n.key):function(o,s,u){var l=s.data.field(o),f=u.data.field(o);return l!==null&&f!==null?ua(l,f):we()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(t)?"-0":t}}function _A(e){return{integerValue:""+e}}function wA(e,t){return fA(t)?_A(t):yA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bh=function(){this._=void 0};function $F(e,t,n){return e instanceof la?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof ns?IA(e,t):e instanceof rs?EA(e,t):function(r,o){var s=bA(r,o),u=aE(s)+aE(r.A);return Yg(s)&&Yg(r.A)?_A(u):yA(r.R,u)}(e,t)}function HF(e,t,n){return e instanceof ns?IA(e,t):e instanceof rs?EA(e,t):n}function bA(e,t){return e instanceof fa?Yg(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var la=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t}(Bh),ns=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Te(t,e),t}(Bh);function IA(e,t){for(var n=TA(t),r=function(u){n.some(function(l){return Xr(l,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var rs=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Te(t,e),t}(Bh);function EA(e,t){for(var n=TA(t),r=function(u){n=n.filter(function(l){return!Xr(l,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var fa=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return Te(t,e),t}(Bh);function aE(e){return Mt(e.integerValue||e.doubleValue)}function TA(e){return wy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dc=function(e,t){this.field=e,this.transform=t},KF=function(e,t){this.version=e,this.transformResults=t},hn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function yf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var qh=function(){};function GF(e,t,n){e instanceof Lc?function(r,o,s){var u=r.value.clone(),l=lE(r.fieldTransforms,o,s.transformResults);u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof no?function(r,o,s){if(yf(r.precondition,o)){var u=lE(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(SA(r)),l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Jg(e,t,n){e instanceof Lc?function(r,o,s){if(yf(r.precondition,o)){var u=r.value.clone(),l=fE(r.fieldTransforms,s,o);u.setAll(l),o.convertToFoundDocument(cE(o),u).setHasLocalMutations()}}(e,t,n):e instanceof no?function(r,o,s){if(yf(r.precondition,o)){var u=fE(r.fieldTransforms,s,o),l=o.data;l.setAll(SA(r)),l.setAll(u),o.convertToFoundDocument(cE(o),l).setHasLocalMutations()}}(e,t,n):function(r,o){yf(r.precondition,o)&&o.convertToNoDocument($e.min())}(e,t)}function zF(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),l=bA(s.transform,u||null);l!=null&&(n==null&&(n=Yn.empty()),n.set(s.field,l))}return n||null}function uE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&oa(n,r,function(o,s){return function(u,l){return u.field.isEqual(l.field)&&function(f,p){return f instanceof ns&&p instanceof ns||f instanceof rs&&p instanceof rs?oa(f.elements,p.elements,Xr):f instanceof fa&&p instanceof fa?Xr(f.A,p.A):f instanceof la&&p instanceof la}(u.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function cE(e){return e.isFoundDocument()?e.version:$e.min()}var Lc=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return Te(t,e),t}(qh),no=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=s,l.fieldTransforms=u,l.type=1,l}return Te(t,e),t}(qh);function SA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function lE(e,t,n){var r=new Map;Pe(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,l=t.data.field(s.field);r.set(s.field,HF(u,l,n[o]))}return r}function fE(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],l=u.transform,f=n.data.field(u.field);r.set(u.field,$F(l,f,t))}return r}var Lt,Ye,Mc=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Te(t,e),t}(qh),Ty=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Te(t,e),t}(qh),WF=function(e){this.count=e};function AA(e){switch(e){case M.OK:return we();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return we()}}function kA(e){if(e===void 0)return Vt("GRPC error has no .code"),M.UNKNOWN;switch(e){case Lt.OK:return M.OK;case Lt.CANCELLED:return M.CANCELLED;case Lt.UNKNOWN:return M.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return M.INTERNAL;case Lt.UNAVAILABLE:return M.UNAVAILABLE;case Lt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Lt.NOT_FOUND:return M.NOT_FOUND;case Lt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Lt.ABORTED:return M.ABORTED;case Lt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Lt.DATA_LOSS:return M.DATA_LOSS;default:return we()}}(Ye=Lt||(Lt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn=function(){function e(t,n){this.comparator=t,this.root=n||Mi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new ef(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new ef(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new ef(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new ef(this.root,t,this.comparator,!0)},e}(),ef=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Mi=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();var t=this.left.check();if(t!==this.right.check())throw we();return t+(this.isRed()?0:1)},e}();Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw we()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new Mi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt=function(){function e(t){this.comparator=t,this.data=new mn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new hE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new hE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),hE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),XF=new mn(Ie.comparator);function Ar(){return XF}var YF=new mn(Ie.comparator);function Zg(){return YF}var QF=new mn(Ie.comparator);function JF(){return QF}var ZF=new zt(Ie.comparator);function ft(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=ZF,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var eV=new zt(We);function $h(){return eV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sy=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Ay.createSynthesizedTargetChangeForCurrentChange(t,n)),new e($e.min(),r,$h(),Ar(),ft())},e}(),Ay=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Un.EMPTY_BYTE_STRING,n,ft(),ft(),ft())},e}(),_f=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},xA=function(e,t){this.targetId=e,this.V=t},CA=function(e,t,n,r){n===void 0&&(n=Un.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},dE=function(){function e(){this.S=0,this.D=mE(),this.C=Un.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=ft(),n=ft(),r=ft();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:we()}}),new Ay(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=mE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),tV=function(){function e(t){this.W=t,this.G=new Map,this.H=Ar(),this.J=pE(),this.Y=new zt(We)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:we()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(qf(s))if(r===0){var u=new Ie(s.path);this.tt(n,u,pn.newNoDocument(u,$e.min()))}else Pe(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,l){var f=n.ot(l);if(f){if(u.current&&qf(f.target)){var p=new Ie(f.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,pn.newNoDocument(p,t))}u.$&&(r.set(l,u.M()),u.L())}});var o=ft();this.J.forEach(function(u,l){var f=!0;l.forEachWhile(function(p){var g=n.ot(p);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new Sy(t,r,this.Y,this.H,o);return this.H=Ar(),this.J=pE(),this.Y=new zt(We),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new dE,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new zt(We),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||re("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new dE),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function pE(){return new mn(Ie.comparator)}function mE(){return new mn(Ie.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nV={asc:"ASCENDING",desc:"DESCENDING"},rV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iV=function(e,t){this.databaseId=e,this.I=t};function oc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function OA(e,t){return e.I?t.toBase64():t.toUint8Array()}function oV(e,t){return oc(e,t.toTimestamp())}function kn(e){return Pe(!!e),$e.fromTimestamp(function(t){var n=Qi(t);return new Fn(n.seconds,n.nanos)}(e))}function ky(e,t){return function(n){return new nt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function NA(e){var t=nt.fromString(e);return Pe(VA(t)),t}function sc(e,t){return ky(e.databaseId,t.path)}function ai(e,t){var n=NA(t);if(n.get(1)!==e.databaseId.projectId)throw new J(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ie(PA(n))}function ev(e,t){return ky(e.databaseId,t)}function RA(e){var t=NA(e);return t.length===4?nt.emptyPath():PA(t)}function ac(e){return new nt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function PA(e){return Pe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function gE(e,t,n){return{name:sc(e,t),fields:n.value.mapValue.fields}}function sV(e,t,n){var r=ai(e,t.name),o=kn(t.updateTime),s=new Yn({mapValue:{fields:t.fields}}),u=pn.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Kf(e,t){var n;if(t instanceof Lc)n={update:gE(e,t.key,t.value)};else if(t instanceof Mc)n={delete:sc(e,t.key)};else if(t instanceof no)n={update:gE(e,t.key,t.data),updateMask:fV(t.fieldMask)};else{if(!(t instanceof Ty))return we();n={verify:sc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof la)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ns)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof rs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof fa)return{fieldPath:s.field.canonicalString(),increment:u.A};throw we()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:oV(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(e,t.precondition)),n}function vE(e,t){var n=t.currentDocument?function(p){return p.updateTime!==void 0?hn.updateTime(kn(p.updateTime)):p.exists!==void 0?hn.exists(p.exists):hn.none()}(t.currentDocument):hn.none(),r=t.updateTransforms?t.updateTransforms.map(function(p){return function(g,h){var m=null;if("setToServerValue"in h)Pe(h.setToServerValue==="REQUEST_TIME"),m=new la;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];m=new ns(y)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];m=new rs(_)}else"increment"in h?m=new fa(g,h.increment):we();var I=xr.fromServerFormat(h.fieldPath);return new Dc(I,m)}(e,p)}):[];if(t.update){t.update.name;var o=ai(e,t.update.name),s=new Yn({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(p){var g=p.fieldPaths||[];return new sa(g.map(function(h){return xr.fromServerFormat(h)}))}(t.updateMask);return new no(o,s,u,n,r)}return new Lc(o,s,n,r)}if(t.delete){var l=ai(e,t.delete);return new Mc(l,n)}if(t.verify){var f=ai(e,t.verify);return new Ty(f,n)}return we()}function DA(e,t){return{documents:[ev(e,t.path)]}}function LA(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=ev(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ev(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(p){return function(g){if(g.op==="=="){if(rE(g.value))return{unaryFilter:{field:Us(g.field),op:"IS_NAN"}};if(nE(g.value))return{unaryFilter:{field:Us(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(rE(g.value))return{unaryFilter:{field:Us(g.field),op:"IS_NOT_NAN"}};if(nE(g.value))return{unaryFilter:{field:Us(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(g.field),op:uV(g.op),value:g.value}}}(p)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(p){return{field:Us(p.field),direction:aV(p.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(l,f){return l.I||us(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=yE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=yE(t.endAt)),n}function MA(e){var t=RA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){Pe(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=FA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(m){return new Js(zs(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h)}));var f=null;n.limit&&(f=function(h){var m;return us(m=typeof h=="object"?h.value:h)?null:m}(n.limit));var p=null;n.startAt&&(p=_E(n.startAt));var g=null;return n.endAt&&(g=_E(n.endAt)),pA(t,o,l,u,f,"F",p,g)}function FA(e){return e?e.unaryFilter!==void 0?[lV(e)]:e.fieldFilter!==void 0?[cV(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return FA(t)}).reduce(function(t,n){return t.concat(n)}):we():[]}function yE(e){return{before:e.before,values:e.position}}function _E(e){var t=!!e.before,n=e.values||[];return new ic(n,t)}function aV(e){return nV[e]}function uV(e){return rV[e]}function Us(e){return{fieldPath:e.canonicalString()}}function zs(e){return xr.fromServerFormat(e.fieldPath)}function cV(e){return Jn.create(zs(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return we()}}(e.fieldFilter.op),e.fieldFilter.value)}function lV(e){switch(e.unaryFilter.op){case"IS_NAN":var t=zs(e.unaryFilter.field);return Jn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=zs(e.unaryFilter.field);return Jn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zs(e.unaryFilter.field);return Jn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=zs(e.unaryFilter.field);return Jn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return we()}}function fV(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function VA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=wE(t)),t=hV(e.get(n),t);return wE(t)}function hV(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function wE(e){return e+""}function si(e){var t=e.length;if(Pe(t>=2),t===2)return Pe(e.charAt(0)===""&&e.charAt(1)===""),nt.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&we(),e.charAt(u+1)){case"":var l=e.substring(s,u),f=void 0;o.length===0?f=l:(f=o+=l,o=""),r.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:we()}s=u+2}return new nt(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dV=function(e,t){this.seconds=e,this.nanoseconds=t},Wn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Wn.store="owner",Wn.key="owner";var Ki=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ki.store="mutationQueues",Ki.keyPath="userId";var pt=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};pt.store="mutations",pt.keyPath="batchId",pt.userMutationsIndex="userMutationsIndex",pt.userMutationsKeyPath=["userId","batchId"];var un=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,kr(n)]},e.key=function(t,n,r){return[t,kr(n),r]},e}();un.store="documentMutations",un.PLACEHOLDER=new un;var pV=function(e,t){this.path=e,this.readTime=t},mV=function(e,t){this.path=e,this.version=t},kt=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};kt.store="remoteDocuments",kt.readTimeIndex="readTimeIndex",kt.readTimeIndexPath="readTime",kt.collectionReadTimeIndex="collectionReadTimeIndex",kt.collectionReadTimeIndexPath=["parentPath","readTime"];var $r=function(e){this.byteSize=e};$r.store="remoteDocumentGlobal",$r.key="remoteDocumentGlobalKey";var Mn=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};Mn.store="targets",Mn.keyPath="targetId",Mn.queryTargetsIndexName="queryTargetsIndex",Mn.queryTargetsKeyPath=["canonicalId","targetId"];var nn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};nn.store="targetDocuments",nn.keyPath=["targetId","path"],nn.documentTargetsIndex="documentTargetsIndex",nn.documentTargetsKeyPath=["path","targetId"];var Xn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Xn.key="targetGlobalKey",Xn.store="targetGlobal";var Go=function(e,t){this.collectionId=e,this.parent=t};Go.store="collectionParents",Go.keyPath=["collectionId","parent"];var ui=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ui.store="clientMetadata",ui.keyPath="clientId";var ha=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ha.store="bundles",ha.keyPath="bundleId";var da=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};da.store="namedQueries",da.keyPath="name";var gV=wt(wt([],wt(wt([],wt(wt([],wt(wt([],[Ki.store,pt.store,un.store,kt.store,Mn.store,Wn.store,Xn.store,nn.store]),[ui.store])),[$r.store])),[Go.store])),[ha.store,da.store]),UA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jA=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),jn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ee=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(l){++o,l.next(function(){++s,u&&s===o&&n()},function(f){return r(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(l){return l?e.resolve(l):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),BA=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new jn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Fu(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=xy(o.target.error);r.ft.reject(new Fu(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new Fu(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(re("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new yV(n)},e}(),pa=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Jo())===12.2&&Vt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return re("SimpleDb","Removing database:",t),Vo(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Jo(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return z(this,void 0,void 0,function(){var n,r=this;return G(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(re("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(f){var p=f.target.result;s(p)},l.onblocked=function(){u(new Fu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var p=f.target.error;p.name==="VersionError"?u(new J(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new Fu(t,p))},l.onupgradeneeded=function(f){re("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var p=f.target.result;r.wt.Rt(p,l.transaction,f.oldVersion,r.version).next(function(){re("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return z(this,void 0,void 0,function(){var s,u,l,f,p;return G(this,function(g){switch(g.label){case 0:s=n==="readonly",u=0,l=function(){var h,m,y,_,I;return G(this,function(E){switch(E.label){case 0:++u,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=E.sent(),h=BA.open(f.db,t,s?"readonly":"readwrite",r),m=o(h).catch(function(T){return h.abort(T),ee.reject(T)}).toPromise(),y={},m.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(E.sent(),m),y)];case 4:return _=E.sent(),I=_.name!=="FirebaseError"&&u<3,re("SimpleDb","Transaction failed with error:",_.message,"Retrying:",I),f.close(),I?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(p=g.sent())=="object")return[2,p.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),vV=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Vo(this.Pt.delete())},e}(),Fu=function(e){function t(n,r){var o=this;return(o=e.call(this,M.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Te(t,e),t}(J);function cs(e){return e.name==="IndexedDbTransactionError"}var yV=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(re("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Vo(r)},e.prototype.add=function(t){return re("SimpleDb","ADD",this.store.name,t,t),Vo(this.store.add(t))},e.prototype.get=function(t){var n=this;return Vo(this.store.get(t)).next(function(r){return r===void 0&&(r=null),re("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return re("SimpleDb","DELETE",this.store.name,t),Vo(this.store.delete(t))},e.prototype.count=function(){return re("SimpleDb","COUNT",this.store.name),Vo(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){re("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,u,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ee(function(r,o){n.onerror=function(s){var u=xy(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(l){l?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new ee(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var l=u.target.result;if(l){var f=new vV(l),p=n(l.primaryKey,l.value,f);if(p instanceof ee){var g=p.catch(function(h){return f.done(),ee.reject(h)});r.push(g)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return ee.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Vo(e){return new ee(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=xy(r.target.error);n(o)}})}var bE=!1;function xy(e){var t=pa._t(Jo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new J("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return bE||(bE=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IE=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Te(t,e),t}(jA);function Bn(e,t){var n=ae(e);return pa.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cy=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&GF(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&Jg(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&Jg(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument($e.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},ft())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&oa(this.mutations,t.mutations,function(n,r){return uE(n,r)})&&oa(this.baseMutations,t.baseMutations,function(n,r){return uE(n,r)})},e}(),_V=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){Pe(t.mutations.length===r.length);for(var o=JF(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),Hh=function(){function e(t,n,r,o,s,u,l){s===void 0&&(s=$e.min()),u===void 0&&(u=$e.min()),l===void 0&&(l=Un.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),qA=function(e){this.Lt=e};function tv(e,t){if(t.document)return sV(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ie.fromSegments(t.noDocument.path),r=ga(t.noDocument.readTime),o=pn.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Ie.fromSegments(t.unknownDocument.path);return r=ga(t.unknownDocument.version),pn.newUnknownDocument(s,r)}return we()}function EE(e,t,n){var r=Oy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,m){return{name:sc(h,m.key),fields:m.data.value.mapValue.fields,updateTime:oc(h,m.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new kt(null,null,s,u,r,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=ma(t.version);return u=t.hasCommittedMutations,new kt(null,new pV(l,f),null,u,r,o)}if(t.isUnknownDocument()){var p=t.key.path.toArray(),g=ma(t.version);return new kt(new mV(p,g),null,null,!0,r,o)}return we()}function Oy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function $A(e){var t=new Fn(e[0],e[1]);return $e.fromTimestamp(t)}function ma(e){var t=e.toTimestamp();return new dV(t.seconds,t.nanoseconds)}function ga(e){var t=new Fn(e.seconds,e.nanoseconds);return $e.fromTimestamp(t)}function $s(e,t){for(var n=(t.baseMutations||[]).map(function(f){return vE(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(f){return vE(e.Lt,f)}),l=Fn.fromMillis(t.localWriteTimeMs);return new Cy(t.batchId,l,n,u)}function Cu(e){var t,n,r=ga(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?ga(e.lastLimboFreeSnapshotVersion):$e.min();return e.query.documents!==void 0?(Pe((n=e.query).documents.length===1),t=Yr(Nc(RA(n.documents[0])))):t=function(s){return Yr(MA(s))}(e.query),new Hh(t,e.targetId,0,e.lastListenSequenceNumber,r,o,Un.fromBase64String(e.resumeToken))}function HA(e,t){var n,r=ma(t.snapshotVersion),o=ma(t.lastLimboFreeSnapshotVersion);n=qf(t.target)?DA(e.Lt,t.target):LA(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Mn(t.targetId,Oc(t.target),r,s,t.sequenceNumber,o,n)}function KA(e){var t=MA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?mA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wV=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return TE(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:ga(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return TE(t).put({bundleId:(r=n).id,createTime:ma(kn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return SE(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:KA(o.bundledQuery),readTime:ga(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return SE(t).put(function(r){return{name:r.name,readTime:ma(kn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function TE(e){return Bn(e,ha.store)}function SE(e){return Bn(e,da.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bV=function(){function e(){this.Bt=new Ny}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ee.resolve()},e.prototype.getCollectionParents=function(t,n){return ee.resolve(this.Bt.getEntries(n))},e}(),Ny=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new zt(nt.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new zt(nt.comparator)).toArray()},e}(),IV=function(){function e(){this.qt=new Ny}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:kr(s)};return AE(t).put(u)}return ee.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[aA(n),""],!1,!0);return AE(t).Nt(o).next(function(s){for(var u=0,l=s;u<l.length;u++){var f=l[u];if(f.collectionId!==n)break;r.push(si(f.parent))}return r})},e}();function AE(e){return Bn(e,Go.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ur=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(e,t,n){var r=e.store(pt.store),o=e.store(un.store),s=[],u=IDBKeyRange.only(n.batchId),l=0,f=r.$t({range:u},function(_,I,E){return l++,E.delete()});s.push(f.next(function(){Pe(l===1)}));for(var p=[],g=0,h=n.mutations;g<h.length;g++){var m=h[g],y=un.key(t,m.key.path,n.batchId);s.push(o.delete(y)),p.push(m.key)}return ee.waitFor(s).next(function(){return p})}function Gf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw we();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur.DEFAULT_COLLECTION_PERCENTILE=10,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ur.DEFAULT=new Ur(41943040,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ur.DISABLED=new Ur(-1,0,0);var EV=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return Pe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xi(t).$t({index:pt.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=Hs(t),l=xi(t);return l.add({}).next(function(f){Pe(typeof f=="number");for(var p=new Cy(f,n,r,o),g=function(T,C,P){var L=P.baseMutations.map(function(U){return Kf(T.Lt,U)}),X=P.mutations.map(function(U){return Kf(T.Lt,U)});return new pt(C,P.batchId,P.localWriteTime.toMillis(),L,X)}(s.R,s.userId,p),h=[],m=new zt(function(T,C){return We(T.canonicalString(),C.canonicalString())}),y=0,_=o;y<_.length;y++){var I=_[y],E=un.key(s.userId,I.key.path,f);m=m.add(I.key.path.popLast()),h.push(l.put(g)),h.push(u.put(E,un.PLACEHOLDER))}return m.forEach(function(T){h.push(s.Ut.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.Kt[f]=p.keys()}),ee.waitFor(h).next(function(){return p})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return xi(t).get(n).next(function(o){return o?(Pe(o.userId===r.userId),$s(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?ee.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return xi(t).$t({index:pt.userMutationsIndex,range:s},function(l,f,p){f.userId===r.userId&&(Pe(f.batchId>=o),u=$s(r.R,f)),p.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return xi(t).$t({index:pt.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xi(t).Nt(pt.userMutationsIndex,r).next(function(o){return o.map(function(s){return $s(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=un.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return Hs(t).$t({range:s},function(l,f,p){var g=l[0],h=l[1],m=l[2],y=si(h);if(g===r.userId&&n.path.isEqual(y))return xi(t).get(m).next(function(_){if(!_)throw we();Pe(_.userId===r.userId),u.push($s(r.R,_))});p.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new zt(We),s=[];return n.forEach(function(u){var l=un.prefixForPath(r.userId,u.path),f=IDBKeyRange.lowerBound(l),p=Hs(t).$t({range:f},function(g,h,m){var y=g[0],_=g[1],I=g[2],E=si(_);y===r.userId&&u.path.isEqual(E)?o=o.add(I):m.done()});s.push(p)}),ee.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=un.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(u),f=new zt(We);return Hs(t).$t({range:l},function(p,g,h){var m=p[0],y=p[1],_=p[2],I=si(y);m===r.userId&&o.isPrefixOf(I)?I.length===s&&(f=f.add(_)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(xi(t).get(u).next(function(l){if(l===null)throw we();Pe(l.userId===r.userId),o.push($s(r.R,l))}))}),ee.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return GA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),ee.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return ee.resolve();var o=IDBKeyRange.lowerBound(un.prefixForUser(n.userId)),s=[];return Hs(t).$t({range:o},function(u,l,f){if(u[0]===n.userId){var p=si(u[1]);s.push(p)}else f.done()}).next(function(){Pe(s.length===0)})})},e.prototype.containsKey=function(t,n){return zA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return WA(t).get(this.userId).next(function(r){return r||new Ki(n.userId,-1,"")})},e}();function zA(e,t,n){var r=un.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return Hs(e).$t({range:s,Ft:!0},function(l,f,p){var g=l[0],h=l[1];l[2],g===t&&h===o&&(u=!0),p.done()}).next(function(){return u})}function xi(e){return Bn(e,pt.store)}function Hs(e){return Bn(e,un.store)}function WA(e){return Bn(e,Ki.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),TV=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new zf(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return $e.fromTimestamp(new Fn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return js(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return Pe(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return js(t).$t(function(l,f){var p=Cu(f);p.sequenceNumber<=n&&r.get(p.targetId)===null&&(s++,u.push(o.removeTargetData(t,p)))}).next(function(){return ee.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return js(t).$t(function(r,o){var s=Cu(o);n(s)})},e.prototype.Xt=function(t){return xE(t).get(Xn.key).next(function(n){return Pe(n!==null),n})},e.prototype.Zt=function(t,n){return xE(t).put(Xn.key,n)},e.prototype.te=function(t,n){return js(t).put(HA(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Oc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return js(t).$t({range:o,index:Mn.queryTargetsIndexName},function(u,l,f){var p=Cu(l);jh(n,p.target)&&(s=p,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=Fi(t);return n.forEach(function(l){var f=kr(l.path);s.push(u.put(new nn(r,f))),s.push(o.referenceDelegate.addReference(t,r,l))}),ee.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=Fi(t);return ee.forEach(n,function(u){var l=kr(u.path);return ee.waitFor([s.delete([r,l]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Fi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Fi(t),s=ft();return o.$t({range:r,Ft:!0},function(u,l,f){var p=si(u[1]),g=new Ie(p);s=s.add(g)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=kr(n.path),o=IDBKeyRange.bound([r],[aA(r)],!1,!0),s=0;return Fi(t).$t({index:nn.documentTargetsIndex,Ft:!0,range:o},function(u,l,f){var p=u[0];u[1],p!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return js(t).get(n).next(function(r){return r?Cu(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(e){return Bn(e,Mn.store)}function xE(e){return Bn(e,Xn.store)}function Fi(e){return Bn(e,nn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(e){return z(this,void 0,void 0,function(){return G(this,function(t){if(e.code!==M.FAILED_PRECONDITION||e.message!==UA)throw e;return re("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=We(n,o);return u===0?We(r,s):u}var SV=function(){function e(t){this.ne=t,this.buffer=new zt(CE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();CE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),AV=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;re("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return z(n,void 0,void 0,function(){var o;return G(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return cs(o=s.sent())?(re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,ls(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),kV=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return ee.resolve(Qn.o);var o=new SV(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(kE)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),kE):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,l,f,p,g=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>g.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+m),o=g.params.maximumSequenceNumbersToCollect):o=m,u=Date.now(),g.nthSequenceNumber(t,o)}).next(function(m){return r=m,l=Date.now(),g.removeTargets(t,r,n)}).next(function(m){return s=m,f=Date.now(),g.removeOrphanedDocuments(t,r)}).next(function(m){return p=Date.now(),Wg()<=tt.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-h)+`ms
	Determined least recently used `+o+" in "+(l-u)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(p-f)+`ms
Total Duration: `+(p-h)+"ms"),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:m})})},e}(),xV=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new kV(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return tf(t,r)},e.prototype.removeReference=function(t,n,r){return tf(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return tf(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return WA(r).Ot(function(u){return zA(r,u,o).next(function(l){return l&&(s=!0),ee.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(l,f){if(f<=n){var p=r._e(t,l).next(function(g){if(!g)return u++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Fi(t).delete([0,kr(l.path)])})});s.push(p)}}).next(function(){return ee.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return tf(t,n)},e.prototype.we=function(t,n){var r,o=Fi(t),s=Qn.o;return o.$t({index:nn.documentTargetsIndex},function(u,l){var f=u[0];u[1];var p=l.path,g=l.sequenceNumber;f===0?(s!==Qn.o&&n(new Ie(si(r)),s),s=g,r=p):s=Qn.o}).next(function(){s!==Qn.o&&n(new Ie(si(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function tf(e,t){return Fi(e).put(function(n,r){return new nn(0,kr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],f=u[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){as(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],f=u[1];t(l,f)}})},e.prototype.isEmpty=function(){return uA(this.inner)},e}(),XA=function(){function e(){this.changes=new Ca(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:$e.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:pn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?ee.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),CV=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Pi(t).put(nf(n),r)},e.prototype.removeEntry=function(t,n){var r=Pi(t),o=nf(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Pi(t).get(nf(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Pi(t).get(nf(n)).next(function(o){return{document:r.ye(n,o),size:Gf(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=Ar();return this.pe(t,n,function(s,u){var l=r.ye(s,u);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=Ar(),s=new mn(Ie.comparator);return this.pe(t,n,function(u,l){var f=r.ye(u,l);o=o.insert(u,f),s=s.insert(u,Gf(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return ee.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return Pi(t).$t({range:o},function(l,f,p){for(var g=Ie.fromSegments(l);u&&Ie.comparator(u,g)<0;)r(u,null),u=s.getNext();u&&u.isEqual(g)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?p.Ct(u.path.toArray()):p.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=Ar(),u=n.path.length+1,l={};if(r.isEqual($e.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var p=n.path.toArray(),g=Oy(r);l.range=IDBKeyRange.lowerBound([p,g],!0),l.index=kt.collectionReadTimeIndex}return Pi(t).$t(l,function(h,m,y){if(h.length===u){var _=tv(o.R,m);n.path.isPrefixOf(_.key.path)?Pc(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new OV(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return OE(t).get($r.key).next(function(n){return Pe(!!n),n})},e.prototype.me=function(t,n){return OE(t).put($r.key,n)},e.prototype.ye=function(t,n){if(n){var r=tv(this.R,n);if(!r.isNoDocument()||!r.version.isEqual($e.min()))return r}return pn.newInvalidDocument(t)},e}(),OV=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Ca(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return Te(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new zt(function(l,f){return We(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var p=r.Ae.get(l);if(f.document.isValidDocument()){var g=EE(r.Ie.R,f.document,r.getReadTime(l));u=u.add(l.path.popLast());var h=Gf(g);s+=h-p,o.push(r.Ie.addEntry(n,l,g))}else if(s-=p,r.trackRemovals){var m=EE(r.Ie.R,pn.newNoDocument(l,$e.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,m))}else o.push(r.Ie.removeEntry(n,l))}),u.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ee.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),u})},t}(XA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(e){return Bn(e,$r.store)}function Pi(e){return Bn(e,kt.store)}function nf(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NV=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;Pe(r<o&&r>=0&&o<=11);var u=new BA("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(Wn.store)}(t),function(f){f.createObjectStore(Ki.store,{keyPath:Ki.keyPath}),f.createObjectStore(pt.store,{keyPath:pt.keyPath,autoIncrement:!0}).createIndex(pt.userMutationsIndex,pt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(un.store)}(t),NE(t),function(f){f.createObjectStore(kt.store)}(t));var l=ee.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(nn.store),f.deleteObjectStore(Mn.store),f.deleteObjectStore(Xn.store)}(t),NE(t)),l=l.next(function(){return function(f){var p=f.store(Xn.store),g=new Xn(0,0,$e.min().toTimestamp(),0);return p.put(Xn.key,g)}(u)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(f,p){return p.store(pt.store).Nt().next(function(g){f.deleteObjectStore(pt.store),f.createObjectStore(pt.store,{keyPath:pt.keyPath,autoIncrement:!0}).createIndex(pt.userMutationsIndex,pt.userMutationsKeyPath,{unique:!0});var h=p.store(pt.store),m=g.map(function(y){return h.put(y)});return ee.waitFor(m)})}(t,u)})),l=l.next(function(){(function(f){f.createObjectStore(ui.store,{keyPath:ui.keyPath})})(t)})),r<5&&o>=5&&(l=l.next(function(){return s.Re(u)})),r<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore($r.store)}(t),s.be(u)})),r<7&&o>=7&&(l=l.next(function(){return s.ve(u)})),r<8&&o>=8&&(l=l.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var p=f.objectStore(kt.store);p.createIndex(kt.readTimeIndex,kt.readTimeIndexPath,{unique:!1}),p.createIndex(kt.collectionReadTimeIndex,kt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return s.Ve(u)})),r<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(ha.store,{keyPath:ha.keyPath})})(t),function(f){f.createObjectStore(da.store,{keyPath:da.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(kt.store).$t(function(r,o){n+=Gf(o)}).next(function(){var r=new $r(n);return t.store($r.store).put($r.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Ki.store),o=t.store(pt.store);return r.Nt().next(function(s){return ee.forEach(s,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(pt.userMutationsIndex,l).next(function(f){return ee.forEach(f,function(p){Pe(p.userId===u.userId);var g=$s(n.R,p);return GA(t,u.userId,g).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(nn.store),r=t.store(kt.store);return t.store(Xn.store).get(Xn.key).next(function(o){var s=[];return r.$t(function(u,l){var f=new nt(u),p=function(g){return[0,kr(g)]}(f);s.push(n.get(p).next(function(g){return g?ee.resolve():function(h){return n.put(new nn(0,kr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ee.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Go.store,{keyPath:Go.keyPath});var r=n.store(Go.store),o=new Ny,s=function(u){if(o.add(u)){var l=u.lastSegment(),f=u.popLast();return r.put({collectionId:l,parent:kr(f)})}};return n.store(kt.store).$t({Ft:!0},function(u,l){var f=new nt(u);return s(f.popLast())}).next(function(){return n.store(un.store).$t({Ft:!0},function(u,l){u[0];var f=u[1];u[2];var p=si(f);return s(p.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Mn.store);return r.$t(function(o,s){var u=Cu(s),l=HA(n.R,u);return r.put(l)})},e}();function NE(e){e.createObjectStore(nn.store,{keyPath:nn.keyPath}).createIndex(nn.documentTargetsIndex,nn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Mn.store,{keyPath:Mn.keyPath}).createIndex(Mn.queryTargetsIndexName,Mn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Xn.store)}var og="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",RV=function(){function e(t,n,r,o,s,u,l,f,p,g){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=l,this.De=p,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new J(M.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xV(this,o),this.Le=n+"main",this.R=new qA(f),this.Be=new pa(this.Le,11,new NV(this.R)),this.qe=new TV(this.referenceDelegate,this.R),this.Ut=new IV,this.Ue=function(h,m){return new CV(h,m)}(this.R,this.Ut),this.Ke=new wV,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&Vt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new J(M.FAILED_PRECONDITION,og);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Qn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return z(n,void 0,void 0,function(){return G(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return z(n,void 0,void 0,function(){return G(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return z(n,void 0,void 0,function(){return G(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return rf(n).put(new ui(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(cs(n))return re("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return bu(t).get(Wn.key).next(function(r){return ee.resolve(n.tn(r))})},e.prototype.en=function(t){return rf(t).delete(this.clientId)},e.prototype.nn=function(){return z(this,void 0,void 0,function(){var t,n,r,o,s=this;return G(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Bn(l,ui.store);return f.Nt().next(function(p){var g=s.rn(p,18e5),h=p.filter(function(m){return g.indexOf(m)===-1});return ee.forEach(h,function(m){return f.delete(m.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ee.resolve(!0):bu(t).get(Wn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new J(M.FAILED_PRECONDITION,og);return!1}}return!(!n.networkEnabled||!n.inForeground)||rf(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||l&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&re("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return z(this,void 0,void 0,function(){var t=this;return G(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Wn.store,ui.store],function(r){var o=new IE(r,Qn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return rf(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return EV.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;re("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,gV,function(l){return s=new IE(l,o.Ne?o.Ne.next():Qn.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Vt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new J(M.FAILED_PRECONDITION,UA);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return bu(t).get(Wn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new J(M.FAILED_PRECONDITION,og)})},e.prototype.Ze=function(t){var n=new Wn(this.clientId,this.allowTabSynchronization,Date.now());return bu(t).put(Wn.key,n)},e.yt=function(){return pa.yt()},e.prototype.Xe=function(t){var n=this,r=bu(t);return r.get(Wn.key).next(function(o){return n.tn(o)?(re("IndexedDbPersistence","Releasing primary lease."),r.delete(Wn.key)):ee.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Vt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),UL()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return re("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return Vt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Vt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function bu(e){return Bn(e,Wn.store)}function rf(e){return Bn(e,ui.store)}function Ry(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var YA=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):Ey(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Ie(n)).next(function(r){var o=Zg();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=Zg();return this.Ut.getCollectionParents(t,s).next(function(l){return ee.forEach(l,function(f){var p=function(g,h){return new pi(h,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(s));return o.An(t,p,r).next(function(g){g.forEach(function(h,m){u=u.insert(h,m)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return o=l,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,u.Rn(t,s,o).next(function(f){o=f;for(var p=0,g=s;p<g.length;p++)for(var h=g[p],m=0,y=h.mutations;m<y.length;m++){var _=y[m],I=_.key,E=o.get(I);E==null&&(E=pn.newInvalidDocument(I),o=o.insert(I,E)),Jg(_,E,h.localWriteTime),E.isFoundDocument()||(o=o.remove(I))}})}).next(function(){return o.forEach(function(l,f){Pc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,r){for(var o=ft(),s=0,u=n;s<u.length;s++)for(var l=0,f=u[s].mutations;l<f.length;l++){var p=f[l];p instanceof no&&r.get(p.key)===null&&(o=o.add(p.key))}var g=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(m,y){y.isFoundDocument()&&(g=g.insert(m,y))}),g})},e}(),PV=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=ft(),o=ft(),s=0,u=n.docChanges;s<u.length;s++){var l=u[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),QA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual($e.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var l=s.Cn(n,u);return(vf(n)||Hf(n))&&s.Nn(n.limitType,l,o,r)?s.Dn(t,n):(Wg()<=tt.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qg(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return l.forEach(function(p){f=f.insert(p.key,p)}),f}))})},e.prototype.Cn=function(t,n){var r=new zt(vA(t));return n.forEach(function(o,s){Pc(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Wg()<=tt.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Qg(n)),this.Sn.getDocumentsMatchingQuery(t,n,$e.min())},e}(),DV=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new mn(We),this.Fn=new Ca(function(s){return Oc(s)},jh),this.$n=$e.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new YA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(e,t,n,r){return new DV(e,t,n,r)}function ZA(e,t){return z(this,void 0,void 0,function(){var n,r,o,s;return G(this,function(u){switch(u.label){case 0:return n=ae(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(p){return f=p,r=n.persistence.getMutationQueue(t),o=new YA(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(p){for(var g=[],h=[],m=ft(),y=0,_=f;y<_.length;y++){var I=_[y];g.push(I.batchId);for(var E=0,T=I.mutations;E<T.length;E++){var C=T[E];m=m.add(C.key)}}for(var P=0,L=p;P<L.length;P++){var X=L[P];h.push(X.batchId);for(var U=0,ue=X.mutations;U<ue.length;U++){var V=ue[U];m=m.add(V.key)}}return o.pn(l,m).next(function(H){return{Ln:H,removedBatchIds:g,addedBatchIds:h}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function LV(e,t){var n=ae(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,l,f,p){var g=f.batch,h=g.keys(),m=ee.resolve();return h.forEach(function(y){m=m.next(function(){return p.getEntry(l,y)}).next(function(_){var I=f.docVersions.get(y);Pe(I!==null),_.version.compareTo(I)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&p.addEntry(_,f.commitVersion))})}),m.next(function(){return u._n.removeMutationBatch(l,g)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function ek(e){var t=ae(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function MV(e,t){var n=ae(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(g,h){var m=o.get(h);if(m){l.push(n.qe.removeMatchingKeys(s,g.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,g.addedDocuments,h)}));var y=g.resumeToken;if(y.approximateByteSize()>0){var _=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(I,E,T){return Pe(E.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,_,g)&&l.push(n.qe.updateTargetData(s,_))}}});var f=Ar();if(t.documentUpdates.forEach(function(g,h){t.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),l.push(FV(s,u,t.documentUpdates,r,void 0).next(function(g){f=g})),!r.isEqual($e.min())){var p=n.qe.getLastRemoteSnapshotVersion(s).next(function(g){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(p)}return ee.waitFor(l).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function FV(e,t,n,r,o){var s=ft();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var l=Ar();return n.forEach(function(f,p){var g=u.get(f),h=(o==null?void 0:o.get(f))||r;p.isNoDocument()&&p.version.isEqual($e.min())?(t.removeEntry(f,h),l=l.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p,h),l=l.insert(f,p)):re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),l})}function VV(e,t){var n=ae(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Wf(e,t){var n=ae(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,ee.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new Hh(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function va(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u;return G(this,function(l){switch(l.label){case 0:r=ae(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!cs(u=l.sent()))throw u;return re("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function Xf(e,t,n){var r=ae(e),o=$e.min(),s=ft();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(l,f,p){var g=ae(l),h=g.Fn.get(p);return h!==void 0?ee.resolve(g.kn.get(h)):g.qe.getTargetData(f,p)}(r,u,Yr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,l.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:$e.min(),n?s:ft())}).next(function(l){return{documents:l,Bn:s}})})}function tk(e,t){var n=ae(e),r=ae(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function nk(e){var t=ae(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=ae(r),l=Ar(),f=Oy(s),p=Pi(o),g=IDBKeyRange.lowerBound(f,!0);return p.$t({index:kt.readTimeIndex,range:g},function(h,m){var y=tv(u.R,m);l=l.insert(y.key,y),f=m.readTime}).next(function(){return{wn:l,readTime:$A(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function UV(e){return z(this,void 0,void 0,function(){var t;return G(this,function(n){return[2,(t=ae(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Pi(o),u=$e.min();return s.$t({index:kt.readTimeIndex,reverse:!0},function(l,f,p){f.readTime&&(u=$A(f.readTime)),p.done()}).next(function(){return u})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jV=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ee.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:kn(r.createTime)}),ee.resolve()},e.prototype.getNamedQuery=function(t,n){return ee.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:KA(r.bundledQuery),readTime:kn(r.readTime)}}(n)),ee.resolve()},e}(),Py=function(){function e(){this.Wn=new zt(Xt.Gn),this.zn=new zt(Xt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Xt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Xt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Ie(new nt([])),o=new Xt(r,t),s=new Xt(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),u.push(l.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Ie(new nt([])),r=new Xt(n,t),o=new Xt(n,t+1),s=ft();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new Xt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Xt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Ie.comparator(t.key,n.key)||We(t.ns,n.ns)},e.Hn=function(t,n){return We(t.ns,n.ns)||Ie.comparator(t.key,n.key)},e}(),BV=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new zt(Xt.Gn)}return e.prototype.checkEmpty=function(t){return ee.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new Cy(s,n,r,o);this._n.push(u);for(var l=0,f=o;l<f.length;l++){var p=f[l];this.rs=this.rs.add(new Xt(p.key,s)),this.Ut.addToCollectionParentIndex(t,p.key.path.popLast())}return ee.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return ee.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return ee.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ee.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ee.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new Xt(n,0),s=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(l){var f=r.os(l.ns);u.push(f)}),ee.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new zt(We);return n.forEach(function(s){var u=new Xt(s,0),l=new Xt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,l],function(f){o=o.add(f.ns)})}),ee.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Ie.isDocumentKey(s)||(s=s.child(""));var u=new Xt(new Ie(s),0),l=new zt(We);return this.rs.forEachWhile(function(f){var p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(l=l.add(f.ns)),!0)},u),ee.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Pe(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ee.forEach(n.mutations,function(s){var u=new Xt(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Xt(n,0),o=this.rs.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ee.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),qV=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new mn(Ie.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return ee.resolve(r?r.document.clone():pn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=Ar();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():pn.newInvalidDocument(s))}),ee.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=Ar(),s=new Ie(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var l=u.getNext(),f=l.key,p=l.value,g=p.document,h=p.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||Pc(n,g)&&(o=o.insert(g.key,g.clone()))}return ee.resolve(o)},e.prototype.fs=function(t,n){return ee.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new $V(this)},e.prototype.getSize=function(t){return ee.resolve(this.size)},e}(),$V=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Te(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),ee.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(XA),HV=function(){function e(t){this.persistence=t,this.ds=new Ca(function(n){return Oc(n)},jh),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.ws=0,this._s=new Py,this.targetCount=0,this.ys=zf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),ee.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ee.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ee.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ee.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),ee.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new zf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ee.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ee.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ee.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(l),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ee.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return ee.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return ee.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),ee.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),ee.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ee.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return ee.resolve(r)},e.prototype.containsKey=function(t,n){return ee.resolve(this._s.containsKey(n))},e}(),KV=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Qn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new HV(this),this.Ut=new bV,this.Ue=function(o,s){return new qV(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new qA(n),this.Ke=new jV(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new BV(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;re("MemoryPersistence","Starting transaction:",t);var s=new GV(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return ee.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),GV=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Te(t,e),t}(jA),zV=function(){function e(t){this.persistence=t,this.As=new Py,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw we()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),ee.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),ee.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ee.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.vs,function(o){var s=Ie.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return ee.or([function(){return ee.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),en=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(e,t){return"firestore_clients_"+e+"_"+t}function PE(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function sg(e,t){return"firestore_targets_"+e+"_"+t}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");var DE=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new J(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(Vt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),ag=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new J(o.error.code,o.error.message)),s?new e(t,o.state,r):(Vt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),LE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=$h(),u=0;o&&u<r.activeTargetIds.length;++u)o=fA(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):(Vt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),WV=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Vt("SharedClientState","Failed to parse online state: "+t),null)},e}(),nv=function(){function e(){this.activeTargetIds=$h()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),ug=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new mn(We),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=RE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new nv),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return z(this,void 0,void 0,function(){var t,n,r,o,s,u,l,f,p,g,h,m=this;return G(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(RE(this.persistenceKey,o)))&&(u=LE.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),p=0,g=this.$s;p<g.length;p++)h=g[p],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(sg(this.persistenceKey,t));if(r){var o=ag.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(sg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return re("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){re("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){re("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Vt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return z(n,void 0,void 0,function(){var o,s,u,l,f,p;return G(this,function(g){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(p=function(h){var m=Qn.o;if(h!=null)try{var y=JSON.parse(h);Pe(typeof y=="number"),m=y}catch(_){Vt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(r.newValue))!==Qn.o&&this.sequenceNumberHandler(p);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new DE(this.currentUser,t,n,r),s=PE(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=PE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=sg(this.persistenceKey,t),s=new ag(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return LE.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return DE.Vs(new en(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return ag.Vs(o,n)},e.prototype.js=function(t){return WV.Vs(t)},e.prototype.ii=function(t){return z(this,void 0,void 0,function(){return G(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(re("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),l=[],f=[];return u.forEach(function(p){s.has(p)||l.push(p)}),s.forEach(function(p){u.has(p)||f.push(p)}),this.syncEngine.hi(l,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=$h();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),rk=function(){function e(){this.li=new nv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new nv,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),XV=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),ME=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),YV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},QV=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),JV=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Te(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(u,l){var f=new CF;f.listenOnce(AF.COMPLETE,function(){try{switch(f.getLastErrorCode()){case ig.NO_ERROR:var g=f.getResponseJson();re("Connection","XHR received:",JSON.stringify(g)),u(g);break;case ig.TIMEOUT:re("Connection",'RPC "'+n+'" timed out'),l(new J(M.DEADLINE_EXCEEDED,"Request time out"));break;case ig.HTTP_ERROR:var h=f.getStatus();if(re("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var y=function(_){var I=_.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(I)>=0?I:M.UNKNOWN}(m.status);l(new J(y,m.message))}else l(new J(M.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new J(M.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{re("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(s);f.send(r,"POST",p,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=TF(),u=SF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new xF({})),this.ki(l.initMessageHeaders,r),RL()||LL()||ML()||FL()||VL()||DL()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");re("Connection","Creating WebChannel: "+f,l);var p=s.createWebChannel(f,l),g=!1,h=!1,m=new QV({Ei:function(_){h?re("Connection","Not sending because WebChannel is closed:",_):(g||(re("Connection","Opening WebChannel transport."),p.open(),g=!0),re("Connection","WebChannel sending:",_),p.send(_))},Ti:function(){return p.close()}}),y=function(_,I,E){_.listen(I,function(T){try{E(T)}catch(C){setTimeout(function(){throw C},0)}})};return y(p,Zl.EventType.OPEN,function(){h||re("Connection","WebChannel transport opened.")}),y(p,Zl.EventType.CLOSE,function(){h||(h=!0,re("Connection","WebChannel transport closed"),m.Vi())}),y(p,Zl.EventType.ERROR,function(_){h||(h=!0,Uf("Connection","WebChannel transport errored:",_),m.Vi(new J(M.UNAVAILABLE,"The operation could not be completed")))}),y(p,Zl.EventType.MESSAGE,function(_){var I;if(!h){var E=_.data[0];Pe(!!E);var T=E,C=T.error||((I=T[0])===null||I===void 0?void 0:I.error);if(C){re("Connection","WebChannel received error:",C);var P=C.status,L=function(U){var ue=Lt[U];if(ue!==void 0)return kA(ue)}(P),X=C.message;L===void 0&&(L=M.INTERNAL,X="Unknown error status: "+P+" with message "+C.message),h=!0,m.Vi(new J(L,X)),p.close()}else re("Connection","WebChannel received:",E),m.Si(E)}}),y(u,kF.STAT_EVENT,function(_){_.stat===ZI.PROXY?re("Connection","Detected buffering proxy"):_.stat===ZI.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);re("RestConnection","Sending: ",s,r);var u={};return this.ki(u,o),this.Fi(t,s,u,r).then(function(l){return re("RestConnection","Received: ",l),l},function(l){throw Uf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=YV[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){return typeof window<"u"?window:null}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(e){return new iV(e,!0)}var Dy=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&re("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),ok=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Dy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return z(this,void 0,void 0,function(){return G(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return z(this,void 0,void 0,function(){return G(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return z(this,void 0,void 0,function(){return G(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Vt(n.toString()),Vt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===M.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new J(M.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return z(t,void 0,void 0,function(){return G(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return re("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),ZV=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,l}return Te(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var l;if("targetChange"in u){u.targetChange;var f=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:we()}(u.targetChange.targetChangeType||"NO_CHANGE"),p=u.targetChange.targetIds||[],g=function(E,T){return E.I?(Pe(T===void 0||typeof T=="string"),Un.fromBase64String(T||"")):(Pe(T===void 0||T instanceof Uint8Array),Un.fromUint8Array(T||new Uint8Array))}(s,u.targetChange.resumeToken),h=(m=u.targetChange.cause)&&function(E){var T=E.code===void 0?M.UNKNOWN:kA(E.code);return new J(T,E.message||"")}(m);l=new CA(f,p,g,h||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,p=ai(s,f.document.name),g=kn(f.document.updateTime);var m=new Yn({mapValue:{fields:f.document.fields}}),y=(h=pn.newFoundDocument(p,g,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new _f(y,_,h.key,h)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,p=ai(s,f.document),g=f.readTime?kn(f.readTime):$e.min(),m=pn.newNoDocument(p,g),h=f.removedTargetIds||[],l=new _f([],h,m.key,m);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,p=ai(s,f.document),g=f.removedTargetIds||[],l=new _f([],g,p,null);else{if(!("filter"in u))return we();u.filter;var I=u.filter;I.targetId,f=I.count||0,p=new WF(f),g=I.targetId,l=new xA(g,p)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return $e.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?kn(u.readTime):$e.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=ac(this.R),r.addTarget=function(s,u){var l,f=u.target;return(l=qf(f)?{documents:DA(s,f)}:{query:LA(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=OA(s,u.resumeToken):u.snapshotVersion.compareTo($e.min())>0&&(l.readTime=oc(s,u.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,u){var l=function(f,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return we()}}(0,u.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=ac(this.R),r.removeTarget=n,this.cr(r)},t}(ok),eU=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,l.gr=!1,l}return Te(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Pe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?(Pe(u!==void 0),s.map(function(l){return function(f,p){var g=f.updateTime?kn(f.updateTime):kn(p);return g.isEqual($e.min())&&(g=kn(p)),new KF(g,f.transformResults||[])}(l,u)})):[]}(n.writeResults,n.commitTime),o=kn(n.commitTime);return this.listener.Tr(o,r)}return Pe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=ac(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Kf(r.R,s)})};this.cr(o)},t}(ok),tU=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return Te(t,e),t.prototype.br=function(){if(this.Rr)throw new J(M.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===M.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new J(M.UNKNOWN,u.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===M.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new J(M.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),nU=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Vt(n),this.Vr=!1):re("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),rU=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return z(s,void 0,void 0,function(){return G(this,function(l){switch(l.label){case 0:return ro(this)?(re("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return z(this,void 0,void 0,function(){var p;return G(this,function(g){switch(g.label){case 0:return(p=ae(f)).Or.add(4),[4,Oa(p)];case 1:return g.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,Fc(p)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new nU(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(e){return z(this,void 0,void 0,function(){var t,n;return G(this,function(r){switch(r.label){case 0:if(!ro(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Oa(e){return z(this,void 0,void 0,function(){var t,n;return G(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Gh(e,t){var n=ae(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Fy(n)?My(n):Ra(n).er()&&Ly(n,t))}function uc(e,t){var n=ae(e),r=Ra(n);n.$r.delete(t),r.er()&&sk(n,t),n.$r.size===0&&(r.er()?r.ir():ro(n)&&n.Br.set("Unknown"))}function Ly(e,t){e.qr.U(t.targetId),Ra(e).mr(t)}function sk(e,t){e.qr.U(t),Ra(e).yr(t)}function My(e){e.qr=new tV({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ra(e).start(),e.Br.Sr()}function Fy(e){return ro(e)&&!Ra(e).tr()&&e.$r.size>0}function ro(e){return ae(e).Or.size===0}function ak(e){e.qr=void 0}function iU(e){return z(this,void 0,void 0,function(){return G(this,function(t){return e.$r.forEach(function(n,r){Ly(e,n)}),[2]})})}function oU(e,t){return z(this,void 0,void 0,function(){return G(this,function(n){return ak(e),Fy(e)?(e.Br.Nr(t),My(e)):e.Br.set("Unknown"),[2]})})}function sU(e,t,n){return z(this,void 0,void 0,function(){var r,o,s;return G(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof CA&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,f){return z(this,void 0,void 0,function(){var p,g,h,m;return G(this,function(y){switch(y.label){case 0:p=f.cause,g=0,h=f.targetIds,y.label=1;case 1:return g<h.length?(m=h[g],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,p)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Yf(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof _f?e.qr.X(t):t instanceof xA?e.qr.rt(t):e.qr.et(t),n.isEqual($e.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,ek(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(l,f){var p=l.qr.ut(f);return p.targetChanges.forEach(function(g,h){if(g.resumeToken.approximateByteSize()>0){var m=l.$r.get(h);m&&l.$r.set(h,m.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach(function(g){var h=l.$r.get(g);if(h){l.$r.set(g,h.withResumeToken(Un.EMPTY_BYTE_STRING,h.snapshotVersion)),sk(l,g);var m=new Hh(h.target,g,1,h.sequenceNumber);Ly(l,m)}}),l.remoteSyncer.applyRemoteEvent(p)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return re("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Yf(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Yf(e,t,n){return z(this,void 0,void 0,function(){var r=this;return G(this,function(o){switch(o.label){case 0:if(!cs(t))throw t;return e.Or.add(1),[4,Oa(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return ek(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return z(r,void 0,void 0,function(){return G(this,function(s){switch(s.label){case 0:return re("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Fc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function uk(e,t){return t().catch(function(n){return Yf(e,n,t)})}function Na(e){return z(this,void 0,void 0,function(){var t,n,r,o,s;return G(this,function(u){switch(u.label){case 0:t=ae(e),n=Ji(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return ro(l)&&l.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,VV(t.localStore,r)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,f){l.Fr.push(f);var p=Ji(l);p.er()&&p.pr&&p.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,Yf(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return ck(t)&&lk(t),[2]}})})}function ck(e){return ro(e)&&!Ji(e).tr()&&e.Fr.length>0}function lk(e){Ji(e).start()}function aU(e){return z(this,void 0,void 0,function(){return G(this,function(t){return Ji(e).Ar(),[2]})})}function uU(e){return z(this,void 0,void 0,function(){var t,n,r,o;return G(this,function(s){for(t=Ji(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function cU(e,t,n){return z(this,void 0,void 0,function(){var r,o;return G(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=_V.from(r,t,n),[4,uk(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Na(e)];case 2:return s.sent(),[2]}})})}function lU(e,t){return z(this,void 0,void 0,function(){return G(this,function(n){switch(n.label){case 0:return t&&Ji(e).pr?[4,function(r,o){return z(this,void 0,void 0,function(){var s,u;return G(this,function(l){switch(l.label){case 0:return AA(u=o.code)&&u!==M.ABORTED?(s=r.Fr.shift(),Ji(r).sr(),[4,uk(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Na(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ck(e)&&lk(e),[2]}})})}function rv(e,t){return z(this,void 0,void 0,function(){var n;return G(this,function(r){switch(r.label){case 0:return n=ae(e),t?(n.Or.delete(2),[4,Fc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Oa(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ra(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=ae(n);return s.br(),new ZV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:iU.bind(null,e),Ri:oU.bind(null,e),_r:sU.bind(null,e)}),e.Mr.push(function(n){return z(t,void 0,void 0,function(){return G(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Fy(e)?My(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),ak(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Ji(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=ae(n);return s.br(),new eU(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:aU.bind(null,e),Ri:lU.bind(null,e),Ir:uU.bind(null,e),Tr:cU.bind(null,e)}),e.Mr.push(function(n){return z(t,void 0,void 0,function(){return G(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Na(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(re("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var fU=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(M.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Pa(e,t){if(Vt("AsyncQueue",t+": "+e),cs(e))return new J(M.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fk=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Ie.comparator(n.key,r.key)}:function(n,r){return Ie.comparator(n.key,r.key)},this.keyedMap=Zg(),this.sortedSet=new mn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),FE=function(){function e(){this.Qr=new mn(Ie.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):we():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Qf=function(){function e(t,n,r,o,s,u,l,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,fk.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),hU=function(){this.Wr=void 0,this.listeners=[]},dU=function(){this.queries=new Ca(function(e){return gA(e)},Rc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e,t){return z(this,void 0,void 0,function(){var n,r,o,s,u,l,f;return G(this,function(p){switch(p.label){case 0:if(n=ae(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new hU),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=p.sent(),[3,4];case 3:return l=p.sent(),f=Pa(l,"Initialization of query '"+Qg(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&jy(n),[2]}})})}function Uy(e,t){return z(this,void 0,void 0,function(){var n,r,o,s,u;return G(this,function(l){return n=ae(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function pU(e,t){for(var n=ae(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],l=u.query,f=n.queries.get(l);if(f){for(var p=0,g=f.listeners;p<g.length;p++)g[p].Hr(u)&&(r=!0);f.Wr=u}}r&&jy(n)}function mU(e,t,n){var r=ae(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function jy(e){e.Gr.forEach(function(t){t.next()})}var By=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new Qf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Qf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hk=function(e){this.key=e},dk=function(e){this.key=e},pk=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=ft(),this.mutatedKeys=ft(),this.lo=vA(t),this.fo=new fk(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new FE,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,p=vf(this.query)&&s.size===this.query.limit?s.last():null,g=Hf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var _=s.get(m),I=Pc(r.query,y)?y:null,E=!!_&&r.mutatedKeys.has(_.key),T=!!I&&(I.hasLocalMutations||r.mutatedKeys.has(I.key)&&I.hasCommittedMutations),C=!1;_&&I?_.data.isEqual(I.data)?E!==T&&(o.track({type:3,doc:I}),C=!0):r.yo(_,I)||(o.track({type:2,doc:I}),C=!0,(p&&r.lo(I,p)>0||g&&r.lo(I,g)<0)&&(f=!0)):!_&&I?(o.track({type:0,doc:I}),C=!0):_&&!I&&(o.track({type:1,doc:_}),C=!0,(p||g)&&(f=!0)),C&&(I?(l=l.add(I),u=T?u.add(m):u.delete(m)):(l=l.delete(m),u=u.delete(m)))}),vf(this.query)||Hf(this.query))for(;l.size>this.query.limit;){var h=vf(this.query)?l.last():l.first();l=l.delete(h.key),u=u.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(g,h){return function(m,y){var _=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return _(m)-_(y)}(g.type,h.type)||o.lo(g.doc,h.doc)}),this.po(r);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,p=f!==this.ao;return this.ao=f,u.length!==0||p?{snapshot:new Qf(this.query,t.fo,s,u,t.mutatedKeys,f===0,p,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new FE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=ft(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new dk(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new hk(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ft();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Qf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),gU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},vU=function(e){this.key=e,this.bo=!1},yU=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Ca(function(l){return gA(l)},Rc),this.Vo=new Map,this.So=new Set,this.Do=new mn(Ie.comparator),this.Co=new Map,this.No=new Py,this.xo={},this.ko=new Map,this.Fo=zf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function _U(e,t){return z(this,void 0,void 0,function(){var n,r,o,s,u,l;return G(this,function(f){switch(f.label){case 0:return n=Gy(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Wf(n.localStore,Yr(t))];case 2:return u=f.sent(),l=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,qy(n,t,r,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Gh(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function qy(e,t,n,r){return z(this,void 0,void 0,function(){var o,s,u,l,f,p;return G(this,function(g){switch(g.label){case 0:return e.Oo=function(h,m,y){return function(_,I,E,T){return z(this,void 0,void 0,function(){var C,P,L;return G(this,function(X){switch(X.label){case 0:return C=I.view._o(E),C.Nn?[4,Xf(_.localStore,I.query,!1).then(function(U){var ue=U.documents;return I.view._o(ue,C)})]:[3,2];case 1:C=X.sent(),X.label=2;case 2:return P=T&&T.targetChanges.get(I.targetId),L=I.view.applyChanges(C,_.isPrimaryClient,P),[2,(iv(_,I.targetId,L.To),L.snapshot)]}})})}(e,h,m,y)},[4,Xf(e.localStore,t,!0)];case 1:return o=g.sent(),s=new pk(t,o.Bn),u=s._o(o.documents),l=Ay.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,l),iv(e,n,f.To),p=new gU(t,n,s),[2,(e.Po.set(t,p),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function wU(e,t){return z(this,void 0,void 0,function(){var n,r,o;return G(this,function(s){switch(s.label){case 0:return n=ae(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!Rc(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,va(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),uc(n.remoteStore,r.targetId),ya(n,r.targetId)}).catch(ls)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ya(n,r.targetId),[4,va(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function bU(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u;return G(this,function(l){switch(l.label){case 0:r=zy(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,p){var g,h=ae(f),m=Fn.now(),y=p.reduce(function(_,I){return _.add(I.key)},ft());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,y).next(function(I){g=I;for(var E=[],T=0,C=p;T<C.length;T++){var P=C[T],L=zF(P,g.get(P.key));L!=null&&E.push(new no(P.key,L,hA(L.value.mapValue),hn.exists(!0)))}return h._n.addMutationBatch(_,m,E,p)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(r.localStore,t)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){var h=f.xo[f.currentUser.toKey()];h||(h=new mn(We)),h=h.insert(p,g),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,io(r,o.changes)];case 3:return l.sent(),[4,Na(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),u=Pa(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function mk(e,t){return z(this,void 0,void 0,function(){var n,r;return G(this,function(o){switch(o.label){case 0:n=ae(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,MV(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var l=n.Co.get(u);l&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Pe(l.bo):s.removedDocuments.size>0&&(Pe(l.bo),l.bo=!1))}),[4,io(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,ls(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function VE(e,t,n){var r=ae(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var l=u.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,u){var l=ae(s);l.onlineState=u;var f=!1;l.queries.forEach(function(p,g){for(var h=0,m=g.listeners;h<m.length;h++)m[h].zr(u)&&(f=!0)}),f&&jy(l)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function IU(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u,l,f;return G(this,function(p){switch(p.label){case 0:return(r=ae(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new mn(Ie.comparator)).insert(s,pn.newNoDocument(s,$e.min())),l=ft().add(s),f=new Sy($e.min(),new Map,new zt(We),u,l),[4,mk(r,f)]):[3,2];case 1:return p.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),Ky(r),[3,4];case 2:return[4,va(r.localStore,t,!1).then(function(){return ya(r,t,n)}).catch(ls)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function EU(e,t){return z(this,void 0,void 0,function(){var n,r,o;return G(this,function(s){switch(s.label){case 0:n=ae(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,LV(n.localStore,t)];case 2:return o=s.sent(),Hy(n,r,null),$y(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,io(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,ls(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function TU(e,t,n){return z(this,void 0,void 0,function(){var r,o;return G(this,function(s){switch(s.label){case 0:r=ae(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,l){var f=ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var g;return f._n.lookupMutationBatch(p,l).next(function(h){return Pe(h!==null),g=h.keys(),f._n.removeMutationBatch(p,h)}).next(function(){return f._n.performConsistencyCheck(p)}).next(function(){return f.Mn.pn(p,g)})})}(r.localStore,t)];case 2:return o=s.sent(),Hy(r,t,n),$y(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,io(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,ls(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function SU(e,t){return z(this,void 0,void 0,function(){var n,r,o,s,u;return G(this,function(l){switch(l.label){case 0:ro((n=ae(e)).remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var p=ae(f);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return p._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=l.sent(),u=Pa(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function $y(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Hy(e,t,n){var r=ae(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function ya(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||gk(e,u)})}function gk(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(uc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ky(e))}function iv(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof hk?(e.No.addReference(s.key,t),AU(e,s)):s instanceof dk?(re("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||gk(e,s.key)):we()}}function AU(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(re("SyncEngine","New document in limbo: "+n),e.So.add(r),Ky(e))}function Ky(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ie(nt.fromString(t)),r=e.Fo.next();e.Co.set(r,new vU(n)),e.Do=e.Do.insert(n,r),Gh(e.remoteStore,new Hh(Yr(Nc(n.path)),r,2,Qn.o))}}function io(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u;return G(this,function(l){switch(l.label){case 0:return r=ae(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,p){u.push(r.Oo(p,t,n).then(function(g){if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,g.fromCache?"not-current":"current"),o.push(g);var h=PV.Pn(p.targetId,g);s.push(h)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),r.vo._r(o),[4,function(f,p){return z(this,void 0,void 0,function(){var g,h,m,y,_,I,E,T,C;return G(this,function(P){switch(P.label){case 0:g=ae(f),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(L){return ee.forEach(p,function(X){return ee.forEach(X.bn,function(U){return g.persistence.referenceDelegate.addReference(L,X.targetId,U)}).next(function(){return ee.forEach(X.vn,function(U){return g.persistence.referenceDelegate.removeReference(L,X.targetId,U)})})})})];case 2:return P.sent(),[3,4];case 3:if(!cs(h=P.sent()))throw h;return re("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(m=0,y=p;m<y.length;m++)_=y[m],I=_.targetId,_.fromCache||(E=g.kn.get(I),T=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(T),g.kn=g.kn.insert(I,C));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function kU(e,t){return z(this,void 0,void 0,function(){var n,r;return G(this,function(o){switch(o.label){case 0:return(n=ae(e)).currentUser.isEqual(t)?[3,3]:(re("SyncEngine","User change. New user:",t.toKey()),[4,ZA(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new J(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,io(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function xU(e,t){var n=ae(e),r=n.Co.get(t);if(r&&r.bo)return ft().add(r.key);var o=ft(),s=n.Vo.get(t);if(!s)return o;for(var u=0,l=s;u<l.length;u++){var f=l[u],p=n.Po.get(f);o=o.unionWith(p.view.wo)}return o}function CU(e,t){return z(this,void 0,void 0,function(){var n,r,o;return G(this,function(s){switch(s.label){case 0:return[4,Xf((n=ae(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&iv(n,t.targetId,o.To),o)]}})})}function OU(e){return z(this,void 0,void 0,function(){var t;return G(this,function(n){return[2,nk((t=ae(e)).localStore).then(function(r){return io(t,r)})]})})}function NU(e,t,n,r){return z(this,void 0,void 0,function(){var o,s;return G(this,function(u){switch(u.label){case 0:return[4,function(l,f){var p=ae(l),g=ae(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return g.jt(h,f).next(function(m){return m?p.Mn.pn(h,m):ee.resolve(null)})})}((o=ae(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Na(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Hy(o,t,r||null),$y(o,t),function(l,f){ae(ae(l)._n).Gt(f)}(o.localStore,t)):we(),u.label=4;case 4:return[4,io(o,s)];case 5:return u.sent(),[3,7];case 6:re("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function RU(e,t){return z(this,void 0,void 0,function(){var n,r,o,s,u,l,f,p;return G(this,function(g){switch(g.label){case 0:return Gy(n=ae(e)),zy(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,UE(n,r.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,rv(n.remoteStore,!0)];case 2:for(g.sent(),s=0,u=o;s<u.length;s++)l=u[s],Gh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],p=Promise.resolve(),n.Vo.forEach(function(h,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):p=p.then(function(){return ya(n,m),va(n.localStore,m,!0)}),uc(n.remoteStore,m)}),[4,p]);case 4:return g.sent(),[4,UE(n,f)];case 5:return g.sent(),function(h){var m=ae(h);m.Co.forEach(function(y,_){uc(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new mn(Ie.comparator)}(n),n.$o=!1,[4,rv(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function UE(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u,l,f,p,g,h,m,y,_,I,E;return G(this,function(T){switch(T.label){case 0:r=ae(e),o=[],s=[],u=0,l=t,T.label=1;case 1:return u<l.length?(f=l[u],p=void 0,(g=r.Vo.get(f))&&g.length!==0?[4,Wf(r.localStore,Yr(g[0]))]:[3,7]):[3,13];case 2:p=T.sent(),h=0,m=g,T.label=3;case 3:return h<m.length?(y=m[h],_=r.Po.get(y),[4,CU(r,_)]):[3,6];case 4:(I=T.sent()).snapshot&&s.push(I.snapshot),T.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,tk(r.localStore,f)];case 8:return E=T.sent(),[4,Wf(r.localStore,E)];case 9:return p=T.sent(),[4,qy(r,vk(E),f,!1)];case 10:T.sent(),T.label=11;case 11:o.push(p),T.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function vk(e){return pA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function PU(e){var t=ae(e);return ae(ae(t.localStore).persistence).fn()}function DU(e,t,n,r){return z(this,void 0,void 0,function(){var o,s,u;return G(this,function(l){switch(l.label){case 0:return(o=ae(e)).$o?(re("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,nk(o.localStore)];case 3:return s=l.sent(),u=Sy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,io(o,s,u)];case 4:return l.sent(),[3,8];case 5:return[4,va(o.localStore,t,!0)];case 6:return l.sent(),ya(o,t,r),[3,8];case 7:we(),l.label=8;case 8:return[2]}})})}function LU(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u,l,f,p,g,h,m;return G(this,function(y){switch(y.label){case 0:if(!(r=Gy(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(re("SyncEngine","Adding an already active target "+u),[3,5]):[4,tk(r.localStore,u)]):[3,6];case 2:return l=y.sent(),[4,Wf(r.localStore,l)];case 3:return f=y.sent(),[4,qy(r,vk(l),f.targetId,!1)];case 4:y.sent(),Gh(r.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:p=function(_){return G(this,function(I){switch(I.label){case 0:return r.Vo.has(_)?[4,va(r.localStore,_,!1).then(function(){uc(r.remoteStore,_),ya(r,_)}).catch(ls)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},g=0,h=n,y.label=7;case 7:return g<h.length?(m=h[g],[5,p(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function Gy(e){var t=ae(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IU.bind(null,t),t.vo._r=pU.bind(null,t.eventManager),t.vo.Mo=mU.bind(null,t.eventManager),t}function zy(e){var t=ae(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TU.bind(null,t),t}var yk=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return z(this,void 0,void 0,function(){return G(this,function(n){switch(n.label){case 0:return this.R=Kh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return JA(this.persistence,new QA,t.initialUser,this.R)},e.prototype.qo=function(t){return new KV(zV.bs,this.R)},e.prototype.Bo=function(t){return new rk},e.prototype.terminate=function(){return z(this,void 0,void 0,function(){return G(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),_k=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Te(t,e),t.prototype.initialize=function(n){return z(this,void 0,void 0,function(){var r=this;return G(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,UV(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,zy(this.Qo.syncEngine)];case 4:return o.sent(),[4,Na(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return JA(this.persistence,new QA,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new AV(r,n.asyncQueue)},t.prototype.qo=function(n){var r=Ry(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Ur.withCacheSize(this.cacheSizeBytes):Ur.DEFAULT;return new RV(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,ik(),wf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new rk},t}(yk),MU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Te(t,e),t.prototype.initialize=function(n){return z(this,void 0,void 0,function(){var r,o=this;return G(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof ug?(this.sharedClientState.syncEngine={ui:NU.bind(null,r),ai:DU.bind(null,r),hi:LU.bind(null,r),fn:PU.bind(null,r),ci:OU.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return z(o,void 0,void 0,function(){return G(this,function(l){switch(l.label){case 0:return[4,RU(this.Qo.syncEngine,u)];case 1:return l.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=ik();if(!ug.yt(r))throw new J(M.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=Ry(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new ug(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(_k),ov=function(){function e(){}return e.prototype.initialize=function(t,n){return z(this,void 0,void 0,function(){var r=this;return G(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return VE(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kU.bind(null,this.syncEngine),[4,rv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new dU},e.prototype.createDatastore=function(t){var n,r=Kh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new JV(n));return function(s,u,l){return new tU(s,u,l)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,l=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return VE(l.syncEngine,f,0)},u=ME.yt()?new ME:new XV,new rU(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,l,f,p){var g=new yU(r,o,s,u,l,f);return p&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return z(this,void 0,void 0,function(){var n;return G(this,function(r){switch(r.label){case 0:return n=ae(t),re("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Oa(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),FU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return z(this,void 0,void 0,function(){var n,r=this;return G(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new J(M.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return z(this,void 0,void 0,function(){var l,f,p,g,h,m;return G(this,function(y){switch(y.label){case 0:return l=ae(s),f=ac(l.R)+"/documents",p={documents:u.map(function(_){return sc(l.R,_)})},[4,l.$i("BatchGetDocuments",f,p)];case 1:return g=y.sent(),h=new Map,g.forEach(function(_){var I=function(E,T){return"found"in T?function(C,P){Pe(!!P.found),P.found.name,P.found.updateTime;var L=ai(C,P.found.name),X=kn(P.found.updateTime),U=new Yn({mapValue:{fields:P.found.fields}});return pn.newFoundDocument(L,X,U)}(E,T):"missing"in T?function(C,P){Pe(!!P.missing),Pe(!!P.readTime);var L=ai(C,P.missing),X=kn(P.readTime);return pn.newNoDocument(L,X)}(E,T):we()}(l.R,_);h.set(I.key.toString(),I)}),m=[],[2,(u.forEach(function(_){var I=h.get(_.toString());Pe(!!I),m.push(I)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Mc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return z(this,void 0,void 0,function(){var t,n=this;return G(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=Ie.fromPath(s);n.mutations.push(new Ty(u,n.precondition(u)))}),[4,function(o,s){return z(this,void 0,void 0,function(){var u,l,f;return G(this,function(p){switch(p.label){case 0:return u=ae(o),l=ac(u.R)+"/documents",f={writes:s.map(function(g){return Kf(u.R,g)})},[4,u.Ni("Commit",l,f)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw we();n=$e.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new J(M.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?hn.updateTime(n):hn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual($e.min()))throw new J(M.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hn.updateTime(n)}return hn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),VU=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new Dy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return z(t,void 0,void 0,function(){var n,r,o=this;return G(this,function(s){return n=new FU(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(l){o.ic(l)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!us(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!AA(n)}return!1},e}(),UU=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=en.UNAUTHENTICATED,this.clientId=sA.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return z(o,void 0,void 0,function(){return G(this,function(u){switch(u.label){case 0:return re("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return z(this,void 0,void 0,function(){return G(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new J(M.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return z(t,void 0,void 0,function(){var r,o;return G(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Pa(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(e,t){return z(this,void 0,void 0,function(){var n,r,o=this;return G(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){return z(o,void 0,void 0,function(){return G(this,function(l){switch(l.label){case 0:return r.isEqual(u)?[3,2]:[4,ZA(t.localStore,u)];case 1:l.sent(),r=u,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function bk(e,t){return z(this,void 0,void 0,function(){var n,r;return G(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Wy(e)];case 1:return n=o.sent(),re("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,l){return z(this,void 0,void 0,function(){var f,p;return G(this,function(g){switch(g.label){case 0:return(f=ae(u)).asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials"),p=ro(f),f.Or.add(3),[4,Oa(f)];case 1:return g.sent(),p&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),f.Or.delete(3),[4,Fc(f)];case 3:return g.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Wy(e){return z(this,void 0,void 0,function(){return G(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(re("FirestoreClient","Using default OfflineComponentProvider"),[4,wk(e,new yk)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Wh(e){return z(this,void 0,void 0,function(){return G(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(re("FirestoreClient","Using default OnlineComponentProvider"),[4,bk(e,new ov)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function jE(e){return Wy(e).then(function(t){return t.persistence})}function Ik(e){return Wy(e).then(function(t){return t.localStore})}function BE(e){return Wh(e).then(function(t){return t.remoteStore})}function Ek(e){return Wh(e).then(function(t){return t.syncEngine})}function _a(e){return z(this,void 0,void 0,function(){var t,n;return G(this,function(r){switch(r.label){case 0:return[4,Wh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=_U.bind(null,t.syncEngine),n.onUnlisten=wU.bind(null,t.syncEngine),n)]}})})}function qE(e,t,n){var r=this;n===void 0&&(n={});var o=new jn;return e.asyncQueue.enqueueAndForget(function(){return z(r,void 0,void 0,function(){var s;return G(this,function(u){switch(u.label){case 0:return s=function(l,f,p,g,h){var m=new zh({next:function(_){f.enqueueAndForget(function(){return Uy(l,y)});var I=_.docs.has(p);!I&&_.fromCache?h.reject(new J(M.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&g&&g.source==="server"?h.reject(new J(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new By(Nc(p.path),m,{includeMetadataChanges:!0,so:!0});return Vy(l,y)},[4,_a(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function $E(e,t,n){var r=this;n===void 0&&(n={});var o=new jn;return e.asyncQueue.enqueueAndForget(function(){return z(r,void 0,void 0,function(){var s;return G(this,function(u){switch(u.label){case 0:return s=function(l,f,p,g,h){var m=new zh({next:function(_){f.enqueueAndForget(function(){return Uy(l,y)}),_.fromCache&&g.source==="server"?h.reject(new J(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new By(p,m,{includeMetadataChanges:!0,so:!0});return Vy(l,y)},[4,_a(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var jU=function(e,t,n,r,o,s,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=l},Jf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),HE=new Map,Tk=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},KE=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(en.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),BU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),qU=function(){function e(t){var n=this;this.currentUser=en.UNAUTHENTICATED,this.oc=new jn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){re("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(re("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(re("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Pe(typeof o.accessToken=="string"),new Tk(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return z(r,void 0,void 0,function(){return G(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Pe(t===null||typeof t=="string"),new en(t)},e}(),$U=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=en.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),HU=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new $U(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(en.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(e,t,n){if(!n)throw new J(M.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Yy(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new J(M.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Sk(e,t,n,r){if(t===!0&&r===!0)throw new J(M.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function GE(e){if(!Ie.isDocumentKey(e))throw new J(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function zE(e){if(Ie.isDocumentKey(e))throw new J(M.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Xh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":we()}function rt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Xh(e);throw new J(M.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function WE(e,t){if(t<=0)throw new J(M.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XE=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new J(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new J(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Sk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),cc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,t instanceof Jf?(this._databaseId=t,this._credentials=new KE):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new J(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jf(r.options.projectId)}(t),this._credentials=new qU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new J(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new J(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new KE;switch(n.type){case"gapi":var r=n.client;return Pe(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new HU(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new J(M.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=HE.get(t))&&(re("ComponentProvider","Removing Datastore"),HE.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),St=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Gi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),er=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Gi=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,Nc(o))||this)._path=o,s.type="collection",s}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new St(this.firestore,null,new Ie(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(er);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=ct(e),Xy("collection","path",t),e instanceof cc)return zE(n=nt.fromString.apply(nt,wt([t],r))),new Gi(e,null,n);if(!(e instanceof St||e instanceof Gi))throw new J(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zE(n=nt.fromString.apply(nt,wt([e.path],r)).child(nt.fromString(t))),new Gi(e.firestore,null,n)}function bf(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=ct(e),arguments.length===1&&(t=sA.u()),Xy("doc","path",t),e instanceof cc)return GE(n=nt.fromString.apply(nt,wt([t],r))),new St(e,null,new Ie(n));if(!(e instanceof St||e instanceof Gi))throw new J(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return GE(n=e._path.child(nt.fromString.apply(nt,wt([t],r)))),new St(e.firestore,e instanceof Gi?e.converter:null,new Ie(n))}function kk(e,t){return e=ct(e),t=ct(t),(e instanceof St||e instanceof Gi)&&(t instanceof St||t instanceof Gi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function xk(e,t){return e=ct(e),t=ct(t),e instanceof er&&t instanceof er&&e.firestore===t.firestore&&Rc(e._query,t._query)&&e.converter===t.converter}var KU=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Dy(this,"async_queue_retry"),this.Ic=function(){var r=wf();r&&re("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=wf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new jn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return z(this,void 0,void 0,function(){var t,n=this;return G(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!cs(t=r.sent()))throw t;return re("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Vt("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=fU.createAndSchedule(this,t,n,r,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&we()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return z(this,void 0,void 0,function(){var t;return G(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,l){return u.targetTimeMs-l.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function wa(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var GU=-1,Gt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new KU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Te(t,e),t.prototype._terminate=function(){return this._firestoreClient||Ck(this),this._firestoreClient.terminate()},t}(cc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(e){return e._firestoreClient||Ck(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ck(e){var t,n=e._freezeSettings(),r=function(o,s,u,l){return new jU(o,s,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new UU(e._credentials,e._queue,r)}function YE(e,t,n){var r=this,o=new jn;return e.asyncQueue.enqueue(function(){return z(r,void 0,void 0,function(){var s;return G(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,wk(e,n)];case 1:return u.sent(),[4,bk(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===M.FAILED_PRECONDITION||l.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function QE(e){if(e._initialized||e._terminated)throw new J(M.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new J(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),is=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Un.fromBase64String(t))}catch(n){throw new J(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Un.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),fs=function(e){this._methodName=e},Yh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new J(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return We(this._lat,t._lat)||We(this._long,t._long)},e}(),zU=/^__.*__$/,WU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new no(t,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(t,this.data,n,this.fieldTransforms)},e}(),Ok=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new no(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}var Rk=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Zf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(Nk(this.Nc)&&zU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),XU=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Kh(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new Rk({Nc:t,methodName:n,qc:r,path:xr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function hs(e){var t=e._freezeSettings(),n=Kh(e._databaseId);return new XU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Qh(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);e_("Data must be an object, but it was:",u,r);var l,f,p=Lk(r,u);if(s.merge)l=new sa(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var g=[],h=0,m=s.mergeFields;h<m.length;h++){var y=sv(t,m[h],n);if(!u.contains(y))throw new J(M.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Fk(g,y)||g.push(y)}l=new sa(g),f=u.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=u.fieldTransforms;return new WU(new Yn(p),l,f)}var Qy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(fs);function Pk(e,t,n){return new Rk({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var YU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){return new Dc(n.path,new la)},t.prototype.isEqual=function(n){return n instanceof t},t}(fs),QU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var r=Pk(this,n,!0),o=this.Kc.map(function(u){return ds(u,r)}),s=new ns(o);return new Dc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(fs),JU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var r=Pk(this,n,!0),o=this.Kc.map(function(u){return ds(u,r)}),s=new rs(o);return new Dc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(fs),ZU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var r=new fa(n.R,wA(n.R,this.Qc));return new Dc(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(fs);function Jy(e,t,n,r){var o=e.Uc(1,t,n);e_("Data must be an object, but it was:",o,r);var s=[],u=Yn.empty();as(r,function(f,p){var g=t_(t,f,n);p=ct(p);var h=o.Oc(g);if(p instanceof Qy)s.push(g);else{var m=ds(p,h);m!=null&&(s.push(g),u.set(g,m))}});var l=new sa(s);return new Ok(u,l,o.fieldTransforms)}function Zy(e,t,n,r,o,s){var u=e.Uc(1,t,n),l=[sv(t,r,n)],f=[o];if(s.length%2!=0)throw new J(M.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<s.length;p+=2)l.push(sv(t,s[p])),f.push(s[p+1]);for(var g=[],h=Yn.empty(),m=l.length-1;m>=0;--m)if(!Fk(g,l[m])){var y=l[m],_=f[m];_=ct(_);var I=u.Oc(y);if(_ instanceof Qy)g.push(y);else{var E=ds(_,I);E!=null&&(g.push(y),h.set(y,E))}}var T=new sa(g);return new Ok(h,T,u.fieldTransforms)}function Dk(e,t,n,r){return r===void 0&&(r=!1),ds(n,e.Uc(r?4:3,t))}function ds(e,t){if(Mk(e=ct(e)))return e_("Unsupported field value:",t,e),Lk(e,t);if(e instanceof fs)return function(n,r){if(!Nk(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,l=n;u<l.length;u++){var f=ds(l[u],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=ct(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wA(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Fn.fromDate(n);return{timestampValue:oc(r.R,o)}}if(n instanceof Fn)return o=new Fn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:oc(r.R,o)};if(n instanceof Yh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof is)return{bytesValue:OA(r.R,n._byteString)};if(n instanceof St){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:ky(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Xh(n))}(e,t)}function Lk(e,t){var n={};return uA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):as(e,function(r,o){var s=ds(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Mk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Fn||e instanceof Yh||e instanceof is||e instanceof St||e instanceof fs)}function e_(e,t,n){if(!Mk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=Xh(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function sv(e,t,n){if((t=ct(t))instanceof Hr)return t._internalPath;if(typeof t=="string")return t_(e,t);throw Zf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var ej=new RegExp("[~\\*/\\[\\]]");function t_(e,t,n){if(t.search(ej)>=0)throw Zf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Hr.bind.apply(Hr,wt([void 0],t.split("."))))()._internalPath}catch{throw Zf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Zf(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+r),u&&(f+=" in document "+o),f+=")"),new J(M.INVALID_ARGUMENT,(l+=". ")+e+f)}function Fk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new St(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new tj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(eh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),tj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(lc);function eh(e,t){return typeof t=="string"?t_(e,t):t instanceof Hr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ci=function(e){function t(n,r,o,s,u,l){var f=this;return(f=e.call(this,n,r,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return Te(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(eh("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(lc),Vu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ci),Vi=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new qo(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new Vu(r._firestore,r._userDataWriter,o.key,o,new qo(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Vu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new qo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Vu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new qo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),p=-1,g=-1;return l.type!==0&&(p=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(g=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:nj(l.type),doc:f,oldIndex:p,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function nj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function Vk(e,t){return e instanceof ci&&t instanceof ci?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Vi&&t instanceof Vi&&e._firestore===t._firestore&&xk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(e){if(Hf(e)&&e.explicitOrderBy.length===0)throw new J(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vc=function(){};function Ci(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var rj=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return Te(t,e),t.prototype._apply=function(n){var r=hs(n.firestore),o=function(s,u,l,f,p,g,h){var m;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new J(M.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){nT(h,g);for(var y=[],_=0,I=h;_<I.length;_++){var E=I[_];y.push(tT(f,s,E))}m={arrayValue:{values:y}}}else m=tT(f,s,h)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||nT(h,g),m=Dk(l,"where",h,g==="in"||g==="not-in");var T=Jn.create(p,g,m);return function(C,P){if(P.g()){var L=Iy(C);if(L!==null&&!L.isEqual(P.field))throw new J(M.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+L.toString()+"' and '"+P.field.toString()+"'");var X=by(C);X!==null&&Bk(C,P.field,X)}var U=function(ue,V){for(var H=0,k=ue.filters;H<k.length;H++){var Oe=k[H];if(V.indexOf(Oe.op)>=0)return Oe.op}return null}(C,function(ue){switch(ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(P.op));if(U!==null)throw U===P.op?new J(M.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+P.op.toString()+"' filter."):new J(M.INVALID_ARGUMENT,"Invalid query. You cannot use '"+P.op.toString()+"' filters with '"+U.toString()+"' filters.")}(s,T),T}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new er(n.firestore,n.converter,function(s,u){var l=s.filters.concat([u]);return new pi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Vc),ij=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return Te(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new J(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new J(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Js(s,u);return function(f,p){if(by(f)===null){var g=Iy(f);g!==null&&Bk(f,g,p.field)}}(o,l),l}(n._query,this.jc,this.zc);return new er(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new pi(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(Vc),JE=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Te(t,e),t.prototype._apply=function(n){return new er(n.firestore,n.converter,mA(n._query,this.Hc,this.Jc))},t}(Vc),ZE=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Te(t,e),t.prototype._apply=function(n){var r=jk(n,this.type,this.Yc,this.Xc);return new er(n.firestore,n.converter,function(o,s){return new pi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(Vc),eT=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Te(t,e),t.prototype._apply=function(n){var r=jk(n,this.type,this.Yc,this.Xc);return new er(n.firestore,n.converter,function(o,s){return new pi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(Vc);function jk(e,t,n,r){if(n[0]=ct(n[0]),n[0]instanceof lc)return function(s,u,l,f,p){if(!f)throw new J(M.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],h=0,m=ca(s);h<m.length;h++){var y=m[h];if(y.field.isKeyField())g.push(Bf(u,f.key));else{var _=f.data.field(y.field);if(yy(_))throw new J(M.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var I=y.field.canonicalString();throw new J(M.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}g.push(_)}}return new ic(g,p)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=hs(e.firestore);return function(s,u,l,f,p,g){var h=s.explicitOrderBy;if(p.length>h.length)throw new J(M.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<p.length;y++){var _=p[y];if(h[y].field.isKeyField()){if(typeof _!="string")throw new J(M.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!Ey(s)&&_.indexOf("/")!==-1)throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var I=s.path.child(nt.fromString(_));if(!Ie.isDocumentKey(I))throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var E=new Ie(I);m.push(Bf(u,E))}else{var T=Dk(l,f,_);m.push(T)}}return new ic(m,g)}(e._query,e.firestore._databaseId,o,t,n,r)}function tT(e,t,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ey(t)&&n.indexOf("/")!==-1)throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(nt.fromString(n));if(!Ie.isDocumentKey(r))throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Bf(e,new Ie(r))}if(n instanceof St)return Bf(e,n._key);throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Xh(n)+".")}function nT(e,t){if(!Array.isArray(e)||e.length===0)throw new J(M.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new J(M.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bk(e,t,n){if(!n.isEqual(t))throw new J(M.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n_=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(aa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw we()}},e.prototype.convertObject=function(t,n){var r=this,o={};return as(t.fields,function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new Yh(Mt(t.latitude),Mt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=lA(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Qi(t);return new Fn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=nt.fromString(t);Pe(VA(r));var o=new Jf(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return o.isEqual(n)||Vt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var oj=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Te(t,e),t.prototype.convertBytes=function(n){return new is(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,r)},t}(n_),sj=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=hs(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=Ui(t,this._firestore),s=Jh(o.converter,n,r),u=Qh(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,hn.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,l=Ui(t,this._firestore);return u=typeof(n=ct(n))=="string"||n instanceof Hr?Zy(this._dataReader,"WriteBatch.update",l._key,n,r,o):Jy(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,hn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Ui(t,this._firestore);return this._mutations=this._mutations.concat(new Mc(n._key,hn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new J(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e,t){if((e=ct(e)).firestore!==t)throw new J(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zo=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Te(t,e),t.prototype.convertBytes=function(n){return new is(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,r)},t}(n_);function rT(e,t,n){e=rt(e,St);var r=rt(e.firestore,Gt),o=Jh(e.converter,t,n);return Uc(r,[Qh(hs(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,hn.none())])}function iT(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=rt(e,St);var s=rt(e.firestore,Gt),u=hs(s);return Uc(s,[(typeof(t=ct(t))=="string"||t instanceof Hr?Zy(u,"updateDoc",e._key,t,n,r):Jy(u,"updateDoc",e._key,t)).toMutation(e._key,hn.exists(!0))])}function qk(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=ct(e);var u={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||wa(o[l])||(u=o[l],l++);var f,p,g,h={includeMetadataChanges:u.includeMetadataChanges};if(wa(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof St)p=rt(e.firestore,Gt),g=Nc(e._key.path),f={next:function(I){o[l]&&o[l](av(p,e,I))},error:o[l+1],complete:o[l+2]};else{var y=rt(e,er);p=rt(y.firestore,Gt),g=y._query;var _=new zo(p);f={next:function(I){o[l]&&o[l](new Vi(p,_,y,I))},error:o[l+1],complete:o[l+2]},Uk(e._query)}return function(I,E,T,C){var P=this,L=new zh(C),X=new By(E,L,T);return I.asyncQueue.enqueueAndForget(function(){return z(P,void 0,void 0,function(){var U;return G(this,function(ue){switch(ue.label){case 0:return U=Vy,[4,_a(I)];case 1:return[2,U.apply(void 0,[ue.sent(),X])]}})})}),function(){L.Wo(),I.asyncQueue.enqueueAndForget(function(){return z(P,void 0,void 0,function(){var U;return G(this,function(ue){switch(ue.label){case 0:return U=Uy,[4,_a(I)];case 1:return[2,U.apply(void 0,[ue.sent(),X])]}})})})}}(cn(p),g,h,f)}function Uc(e,t){return function(n,r){var o=this,s=new jn;return n.asyncQueue.enqueueAndForget(function(){return z(o,void 0,void 0,function(){var u;return G(this,function(l){switch(l.label){case 0:return u=bU,[4,Ek(n)];case 1:return[2,u.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(cn(e),t)}function av(e,t,n){var r=n.docs.get(t._key),o=new zo(e);return new ci(e,o,t._key,r,new qo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aj=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return Te(t,e),t.prototype.get=function(n){var r=this,o=Ui(n,this._firestore),s=new zo(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new ci(r._firestore,s,o._key,u._document,new qo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=hs(t)}return e.prototype.get=function(t){var n=this,r=Ui(t,this._firestore),o=new oj(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return we();var u=s[0];if(u.isFoundDocument())return new lc(n._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new lc(n._firestore,o,r._key,null,r.converter);throw we()})},e.prototype.set=function(t,n,r){var o=Ui(t,this._firestore),s=Jh(o.converter,n,r),u=Qh(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,l=Ui(t,this._firestore);return u=typeof(n=ct(n))=="string"||n instanceof Hr?Zy(this._dataReader,"Transaction.update",l._key,n,r,o):Jy(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,u),this},e.prototype.delete=function(t){var n=Ui(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){if(typeof Uint8Array>"u")throw new J(M.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function sT(){if(typeof atob>"u")throw new J(M.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var $k=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return sT(),new e(is.fromBase64String(t))},e.fromUint8Array=function(t){return oT(),new e(is.fromUint8Array(t))},e.prototype.toBase64=function(){return sT(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return oT(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),uj=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){QE(r=rt(r,Gt));var s=cn(r),u=r._freezeSettings(),l=new ov;return YE(s,l,new _k(l,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){QE(n=rt(n,Gt));var r=cn(n),o=n._freezeSettings(),s=new ov;return YE(r,s,new MU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new J(M.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new jn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return z(r,void 0,void 0,function(){var s;return G(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return z(this,void 0,void 0,function(){var f;return G(this,function(p){switch(p.label){case 0:return pa.yt()?(f=l+"main",[4,pa.delete(f)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(Ry(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),Hk=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Jf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Uf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,u,l){var f;l===void 0&&(l={});var p=(o=rt(o,cc))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==s&&Uf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},p),{host:s+":"+u,ssl:!1})),l.mockUserToken){var g,h;if(typeof l.mockUserToken=="string")g=l.mockUserToken,h=en.MOCK_USER;else{g=QS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new J(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new en(m)}o._credentials=new BU(new Tk(g,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return z(n,void 0,void 0,function(){var r,o;return G(this,function(s){switch(s.label){case 0:return[4,jE(t)];case 1:return r=s.sent(),[4,BE(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var l=ae(u);return l.Or.delete(0),Fc(l)}(o))]}})})})}(cn(rt(this._delegate,Gt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return z(n,void 0,void 0,function(){var r,o;return G(this,function(s){switch(s.label){case 0:return[4,jE(t)];case 1:return r=s.sent(),[4,BE(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return z(this,void 0,void 0,function(){var l;return G(this,function(f){switch(f.label){case 0:return(l=ae(u)).Or.add(0),[4,Oa(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(cn(rt(this._delegate,Gt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&Sk("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new jn;return t.asyncQueue.enqueueAndForget(function(){return z(n,void 0,void 0,function(){var o;return G(this,function(s){switch(s.label){case 0:return o=SU,[4,Ek(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(cn(rt(this._delegate,Gt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,l=new zh(s);return o.asyncQueue.enqueueAndForget(function(){return z(u,void 0,void 0,function(){var f;return G(this,function(p){switch(p.label){case 0:return f=function(g,h){ae(g).Gr.add(h),h.next()},[4,_a(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return z(u,void 0,void 0,function(){var f;return G(this,function(p){switch(p.label){case 0:return f=function(g,h){ae(g).Gr.delete(h)},[4,_a(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})})}}(cn(n=rt(n,Gt)),wa(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new J(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new th(this,Ak(this._delegate,t))}catch(n){throw bn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Wo(this,bf(this._delegate,t))}catch(n){throw bn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new td(this,function(n,r){if(n=rt(n,cc),Xy("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new J(M.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new er(n,null,function(o){return new pi(nt.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw bn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var l=this,f=new jn;return s.asyncQueue.enqueueAndForget(function(){return z(l,void 0,void 0,function(){var p;return G(this,function(g){switch(g.label){case 0:return[4,function(h){return Wh(h).then(function(m){return m.datastore})}(s)];case 1:return p=g.sent(),new VU(s.asyncQueue,p,u,f).run(),[2]}})})}),f.promise}(cn(r),function(s){return o(new aj(r,s))})}(this._delegate,function(r){return t(new Kk(n,r))})},e.prototype.batch=function(){var t=this;return cn(this._delegate),new Gk(new sj(this._delegate,function(n){return Uc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new J(M.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new J(M.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Zh=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Te(t,e),t.prototype.convertBytes=function(n){return new $k(new is(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Wo.eu(r,this.firestore,null)},t}(n_);function cj(e){var t;t=e,Sr.setLogLevel(t)}var Kk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Zh(t)}return e.prototype.get=function(t){var n=this,r=$o(t);return this._delegate.get(r).then(function(o){return new fc(n._firestore,new ci(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=$o(t);return r?(Yy("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=$o(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,wt([l,n,r],s)),this},e.prototype.delete=function(t){var n=$o(t);return this._delegate.delete(n),this},e}(),Gk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=$o(t);return r?(Yy("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=$o(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,wt([l,n,r],s)),this},e.prototype.delete=function(t){var n=$o(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),ed=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Vu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new hc(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Zh(t),n),o.set(n,s)),s},e}();ed.su=new WeakMap;var Wo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Zh(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new J(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new St(n._delegate,r,new Ie(t)))},e.eu=function(t,n,r){return new e(n,new St(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new th(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new th(this.firestore,Ak(this._delegate,t))}catch(n){throw bn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ct(t))instanceof St&&kk(this._delegate,t)},e.prototype.set=function(t,n){n=Yy("DocumentReference.set",n);try{return n?rT(this._delegate,t,n):rT(this._delegate,t)}catch(r){throw bn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?iT(this._delegate,t):iT.apply(void 0,wt([this._delegate,t,n],r))}catch(s){throw bn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Uc(rt((t=this._delegate).firestore,Gt),[new Mc(t._key,hn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=zk(n),s=Wk(n,function(u){return new fc(t.firestore,new ci(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return qk(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=rt(r,St);var o=rt(r.firestore,Gt),s=cn(o),u=new zo(o);return function(l,f){var p=this,g=new jn;return l.asyncQueue.enqueueAndForget(function(){return z(p,void 0,void 0,function(){var h;return G(this,function(m){switch(m.label){case 0:return h=function(y,_,I){return z(this,void 0,void 0,function(){var E,T;return G(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,function(P,L){var X=ae(P);return X.persistence.runTransaction("read document","readonly",function(U){return X.Mn.mn(U,L)})}(y,_)];case 1:return(T=C.sent()).isFoundDocument()?I.resolve(T):T.isNoDocument()?I.resolve(null):I.reject(new J(M.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=C.sent(),T=Pa(E,"Failed to get document '"+_+" from cache"),I.reject(T),[3,3];case 3:return[2]}})})},[4,Ik(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,g])]}})})}),g.promise}(s,r._key).then(function(l){return new ci(o,u,r._key,l,new qo(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=rt(r,St);var o=rt(r.firestore,Gt);return qE(cn(o),r._key,{source:"server"}).then(function(s){return av(o,r,s)})}(this._delegate):function(r){r=rt(r,St);var o=rt(r.firestore,Gt);return qE(cn(o),r._key).then(function(s){return av(o,r,s)})}(this._delegate)).then(function(r){return new fc(n.firestore,new ci(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ed.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function bn(e,t,n){return e.message=e.message.replace(t,n),e}function zk(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!wa(r))return r}return{}}function Wk(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=wa(e[0])?e[0]:wa(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var fc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Wo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return Vk(this._delegate,t._delegate)},e}(),hc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(fc),td=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Zh(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ci(this._delegate,function(o,s,u){var l=s,f=eh("where",o);return new rj(f,l,u)}(t,n,r)))}catch(o){throw bn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ci(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=eh("orderBy",r);return new ij(u,s)}(t,n)))}catch(r){throw bn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ci(this._delegate,function(n){return WE("limit",n),new JE("limit",n,"F")}(t)))}catch(n){throw bn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ci(this._delegate,function(n){return WE("limitToLast",n),new JE("limitToLast",n,"L")}(t)))}catch(n){throw bn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ci(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new ZE("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw bn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ci(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new ZE("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw bn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ci(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new eT("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw bn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ci(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new eT("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw bn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return xk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=rt(r,er);var o=rt(r.firestore,Gt),s=cn(o),u=new zo(o);return function(l,f){var p=this,g=new jn;return l.asyncQueue.enqueueAndForget(function(){return z(p,void 0,void 0,function(){var h;return G(this,function(m){switch(m.label){case 0:return h=function(y,_,I){return z(this,void 0,void 0,function(){var E,T,C,P,L;return G(this,function(X){switch(X.label){case 0:return X.trys.push([0,2,,3]),[4,Xf(y,_,!0)];case 1:return L=X.sent(),E=new pk(_,L.Bn),T=E._o(L.documents),C=E.applyChanges(T,!1),I.resolve(C.snapshot),[3,3];case 2:return P=X.sent(),L=Pa(P,"Failed to execute query '"+_+" against cache"),I.reject(L),[3,3];case 3:return[2]}})})},[4,Ik(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,g])]}})})}),g.promise}(s,r._query).then(function(l){return new Vi(o,u,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=rt(r,er);var o=rt(r.firestore,Gt),s=cn(o),u=new zo(o);return $E(s,r._query,{source:"server"}).then(function(l){return new Vi(o,u,r,l)})}(this._delegate):function(r){r=rt(r,er);var o=rt(r.firestore,Gt),s=cn(o),u=new zo(o);return Uk(r._query),$E(s,r._query).then(function(l){return new Vi(o,u,r,l)})}(this._delegate)).then(function(r){return new uv(n.firestore,new Vi(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=zk(n),s=Wk(n,function(u){return new uv(t.firestore,new Vi(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return qk(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ed.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),lj=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new hc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),uv=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new td(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new hc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new lj(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new hc(r._firestore,o))})},e.prototype.isEqual=function(t){return Vk(this._delegate,t._delegate)},e}(),th=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Wo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Wo(this.firestore,n===void 0?bf(this._delegate):bf(this._delegate,n))}catch(r){throw bn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=rt(o.firestore,Gt),l=bf(o),f=Jh(o.converter,s);return Uc(u,[Qh(hs(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,hn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Wo(r.firestore,o)})},t.prototype.isEqual=function(n){return kk(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(ed.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(td);function $o(e){return rt(e,St)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fj=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Hr.bind.apply(Hr,wt([void 0],t)))}return e.documentId=function(){return new e(xr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ct(t))instanceof Hr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),hj=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new YU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Qy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new QU("arrayUnion",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new JU("arrayRemove",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new ZU("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),dj={Firestore:Hk,GeoPoint:Yh,Timestamp:Fn,Blob:$k,Transaction:Kk,WriteBatch:Gk,DocumentReference:Wo,DocumentSnapshot:fc,Query:td,QueryDocumentSnapshot:hc,QuerySnapshot:uv,CollectionReference:th,FieldPath:fj,FieldValue:hj,setLogLevel:cj,CACHE_SIZE_UNLIMITED:GU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(e){(function(t,n){t.INTERNAL.registerComponent(new wc("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},dj)))})(e,function(t,n){return new Hk(t,new Gt(t,n),new uj)}),e.registerVersion("@firebase/firestore","2.4.1")}pj(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xk="firebasestorage.googleapis.com",Yk="storageBucket",mj=2*60*1e3,gj=10*60*1e3,qt=function(e){Te(t,e);function t(n,r){var o=e.call(this,cg(n),"Firebase Storage: "+r+" ("+cg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return cg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(ZS);function cg(e){return"storage/"+e}function r_(){var e="An unknown error occurred, please check the error payload for server response.";return new qt("unknown",e)}function vj(e){return new qt("object-not-found","Object '"+e+"' does not exist.")}function yj(e){return new qt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _j(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qt("unauthenticated",e)}function wj(){return new qt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function bj(e){return new qt("unauthorized","User does not have permission to access '"+e+"'.")}function Ij(){return new qt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Qk(){return new qt("canceled","User canceled the upload/download.")}function Ej(e){return new qt("invalid-url","Invalid URL '"+e+"'.")}function Tj(e){return new qt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function Sj(){return new qt("no-default-bucket","No default bucket found. Did you set the '"+Yk+"' property when initializing the app?")}function Jk(){return new qt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Aj(){return new qt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function kj(){return new qt("no-download-url","The given file does not have any download URLs.")}function Zs(e){return new qt("invalid-argument",e)}function Zk(){return new qt("app-deleted","The Firebase app was deleted.")}function ex(e){return new qt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uu(e,t){return new qt("invalid-format","String does not match format '"+e+"': "+t)}function of(e){throw new qt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},lg=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function tx(e,t){switch(e){case ur.RAW:return new lg(nx(t));case ur.BASE64:case ur.BASE64URL:return new lg(rx(e,t));case ur.DATA_URL:return new lg(Oj(t),Nj(t))}throw r_()}function nx(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Cj(e){var t;try{t=decodeURIComponent(e)}catch{throw Uu(ur.DATA_URL,"Malformed data URL.")}return nx(t)}function rx(e,t){switch(e){case ur.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw Uu(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case ur.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw Uu(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=xj(t)}catch{throw Uu(e,"Invalid character found")}for(var f=new Uint8Array(l.length),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);return f}var ix=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Uu(ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=Rj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function Oj(e){var t=new ix(e);return t.base64?rx(ur.BASE64,t.rest):Cj(t.rest)}function Nj(e){var t=new ix(e);return t.contentType}function Rj(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pj={STATE_CHANGED:"state_changed"},In={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fg(e){switch(e){case"running":case"pausing":case"canceling":return In.RUNNING;case"paused":return In.PAUSED;case"success":return In.SUCCESS;case"canceled":return In.CANCELED;case"error":return In.ERROR;default:return In.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Xo||(Xo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Xo.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Xo.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw of("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw of("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw of("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw of("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function Lj(){return new Dj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mj=function(){function e(){}return e.prototype.createConnection=function(){return Lj()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw Tj(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}var u="(/(.*))?$",l=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}for(var g="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+g+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},I=n===Xk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",T=new RegExp("^https?://"+I+"/"+o+"/"+E,"i"),C={bucket:1,path:2},P=[{regex:l,indices:f,postModify:s},{regex:y,indices:_,postModify:p},{regex:T,indices:C,postModify:p}],L=0;L<P.length;L++){var X=P[L],U=X.regex.exec(t);if(U){var ue=U[X.indices.bucket],V=U[X.indices.path];V||(V=""),r=new e(ue,V),X.postModify(r);break}}if(r==null)throw Ej(t);return r},e}(),Fj=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(e,t,n){var r=1,o=null,s=!1,u=0;function l(){return u===2}var f=!1;function p(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];f||(f=!0,t.apply(null,_))}function g(_){o=setTimeout(function(){o=null,e(h,l())},_)}function h(_){for(var I=[],E=1;E<arguments.length;E++)I[E-1]=arguments[E];if(!f){if(_){p.call.apply(p,wt([null,_],I));return}var T=l()||s;if(T){p.call.apply(p,wt([null,_],I));return}r<64&&(r*=2);var C;u===1?(u=2,C=0):C=(r+Math.random())*1e3,g(C)}}var m=!1;function y(_){m||(m=!0,!f&&(o!==null?(_||(u=2),clearTimeout(o),g(0)):_||(u=1)))}return g(0),setTimeout(function(){s=!0,y(!0)},n),y}function Uj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(e){return e!==void 0}function Bj(e){return typeof e=="function"}function qj(e){return typeof e=="object"&&!Array.isArray(e)}function nd(e){return typeof e=="string"||e instanceof String}function aT(e){return i_()&&e instanceof Blob}function i_(){return typeof Blob<"u"}function cv(e,t,n,r){if(r<t)throw Zs("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Zs("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function ox(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $j=function(){function e(t,n,r,o,s,u,l,f,p,g,h){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=g,this.timeout_=p,this.pool_=h,this.promise_=new Promise(function(y,_){m.resolve_=y,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new sf(!1,null,!0));return}var u=t.pool_.createConnection();t.pendingConnection_=u;function l(f){var p=f.loaded,g=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(p,g)}t.progressCallback_!==null&&u.addUploadProgressListener(l),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&u.removeUploadProgressListener(l),t.pendingConnection_=null;var f=u.getErrorCode()===Xo.NO_ERROR,p=u.getStatus();if(!f||t.isRetryStatusCode_(p)){var g=u.getErrorCode()===Xo.ABORT;o(!1,new sf(!1,null,g));return}var h=t.successCodes_.indexOf(p)!==-1;o(!0,new sf(h,u))})}function r(o,s){var u=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var p=t.callback_(f,f.getResponseText());jj(p)?u(p):u()}catch(h){l(h)}else if(f!==null){var g=r_();g.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,g)):l(g)}else if(s.canceled){var g=t.appDelete_?Zk():Qk();l(g)}else{var g=Ij();l(g)}}this.canceled_?r(!1,new sf(!1,null,!0)):this.backoffId_=Vj(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Uj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),sf=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function Hj(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Kj(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Gj(e,t){t&&(e["X-Firebase-GMPID"]=t)}function zj(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Wj(e,t,n,r,o,s){var u=ox(e.urlParams),l=e.url+u,f=Object.assign({},e.headers);return Gj(f,t),Hj(f,n),Kj(f,s),zj(f,r),new $j(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Yj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Xj();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(i_())return new Blob(e);throw new qt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Qj(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o_=function(){function e(t,n){var r=0,o="";aT(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(aT(this.data_)){var r=this.data_,o=Qj(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(i_()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(Yj.apply(null,r))}else{var o=t.map(function(f){return nd(f)?tx(ur.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),l=0;return o.forEach(function(f){for(var p=0;p<f.length;p++)u[l++]=f[p]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(e){var t;try{t=JSON.parse(e)}catch{return null}return qj(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function Zj(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function sx(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(e,t){return t}var yn=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||e2}return e}(),af=null;function t2(e){return!nd(e)||e.length<2?e:sx(e)}function rd(){if(af)return af;var e=[];e.push(new yn("bucket")),e.push(new yn("generation")),e.push(new yn("metageneration")),e.push(new yn("name","fullPath",!0));function t(s,u){return t2(u)}var n=new yn("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var o=new yn("size");return o.xform=r,e.push(o),e.push(new yn("timeCreated")),e.push(new yn("updated")),e.push(new yn("md5Hash",null,!0)),e.push(new yn("cacheControl",null,!0)),e.push(new yn("contentDisposition",null,!0)),e.push(new yn("contentEncoding",null,!0)),e.push(new yn("contentLanguage",null,!0)),e.push(new yn("contentType",null,!0)),e.push(new yn("metadata","customMetadata",!0)),af=e,af}function n2(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new cr(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function r2(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return n2(r,e),r}function ax(e,t,n){var r=s_(t);if(r===null)return null;var o=r;return r2(e,o,n)}function i2(e,t,n){var r=s_(t);if(r===null||!nd(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),l=u.map(function(f){var p=e.bucket,g=e.fullPath,h="/b/"+s(p)+"/o/"+s(g),m=oo(h,n),y=ox({alt:"media",token:f});return m+y});return l[0]}function a_(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uT="prefixes",cT="items";function o2(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[uT])for(var o=0,s=n[uT];o<s.length;o++){var u=s[o],l=u.replace(/\/$/,""),f=e._makeStorageReference(new cr(t,l));r.prefixes.push(f)}if(n[cT])for(var p=0,g=n[cT];p<g.length;p++){var h=g[p],f=e._makeStorageReference(new cr(t,h.name));r.items.push(f)}return r}function s2(e,t,n){var r=s_(n);if(r===null)return null;var o=r;return o2(e,t,o)}var mi=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(e){if(!e)throw r_()}function id(e,t){function n(r,o){var s=ax(e,o,t);return Kr(s!==null),s}return n}function a2(e,t){function n(r,o){var s=s2(e,t,o);return Kr(s!==null),s}return n}function u2(e,t){function n(r,o){var s=ax(e,o,t);return Kr(s!==null),i2(s,o,e.host)}return n}function Da(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=wj():o=_j():n.getStatus()===402?o=yj(e.bucket):n.getStatus()===403?o=bj(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function od(e){var t=Da(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=vj(e.path)),s.serverResponse=o.serverResponse,s}return n}function ux(e,t,n){var r=t.fullServerUrl(),o=oo(r,e.host),s="GET",u=e.maxOperationRetryTime,l=new mi(o,s,id(e,n),u);return l.errorHandler=od(t),l}function c2(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),l=oo(u,e.host),f="GET",p=e.maxOperationRetryTime,g=new mi(l,f,a2(e,t.bucket),p);return g.urlParams=s,g.errorHandler=Da(t),g}function l2(e,t,n){var r=t.fullServerUrl(),o=oo(r,e.host),s="GET",u=e.maxOperationRetryTime,l=new mi(o,s,u2(e,n),u);return l.errorHandler=od(t),l}function f2(e,t,n,r){var o=t.fullServerUrl(),s=oo(o,e.host),u="PATCH",l=a_(n,r),f={"Content-Type":"application/json; charset=utf-8"},p=e.maxOperationRetryTime,g=new mi(s,u,id(e,r),p);return g.headers=f,g.body=l,g.errorHandler=od(t),g}function h2(e,t){var n=t.fullServerUrl(),r=oo(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,p){}var l=new mi(r,o,u,s);return l.successCodes=[200,204],l.errorHandler=od(t),l}function d2(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function cx(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=d2(null,t)),r}function p2(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var P="",L=0;L<2;L++)P=P+Math.random().toString().slice(2);return P}var f=l();u["Content-Type"]="multipart/related; boundary="+f;var p=cx(t,r,o),g=a_(p,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,m=`\r
--`+f+"--",y=o_.getBlob(h,r,m);if(y===null)throw Jk();var _={name:p.fullPath},I=oo(s,e.host),E="POST",T=e.maxUploadRetryTime,C=new mi(I,E,id(e,n),T);return C.urlParams=_,C.headers=u,C.body=y.uploadData(),C.errorHandler=Da(t),C}var nh=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function u_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Kr(!1)}var r=t||["active"];return Kr(!!n&&r.indexOf(n)!==-1),n}function m2(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u=cx(t,r,o),l={name:u.fullPath},f=oo(s,e.host),p="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=a_(u,n),m=e.maxUploadRetryTime;function y(I){u_(I);var E;try{E=I.getResponseHeader("X-Goog-Upload-URL")}catch{Kr(!1)}return Kr(nd(E)),E}var _=new mi(f,p,y,m);return _.urlParams=l,_.headers=g,_.body=h,_.errorHandler=Da(t),_}function g2(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(p){var g=u_(p,["active","final"]),h=null;try{h=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Kr(!1)}h||Kr(!1);var m=Number(h);return Kr(!isNaN(m)),new nh(m,r.size(),g==="final")}var u="POST",l=e.maxUploadRetryTime,f=new mi(n,u,s,l);return f.headers=o,f.errorHandler=Da(t),f}var lT=256*1024;function v2(e,t,n,r,o,s,u,l){var f=new nh(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw Aj();var p=f.total-f.current,g=p;o>0&&(g=Math.min(g,o));var h=f.current,m=h+g,y=g===p?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},I=r.slice(h,m);if(I===null)throw Jk();function E(L,X){var U=u_(L,["active","final"]),ue=f.current+g,V=r.size(),H;return U==="final"?H=id(t,s)(L,X):H=null,new nh(ue,V,U==="final",H)}var T="POST",C=t.maxUploadRetryTime,P=new mi(n,T,E,C);return P.headers=_,P.body=I.uploadData(),P.progressCallback=l||null,P.errorHandler=Da(e),P}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y2=function(){function e(t,n,r){var o=Bj(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lx=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=rd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=m2(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._uploadUrl=u,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=g2(t._ref.storage,t._ref._location,n,t._blob),u=t._ref.storage._makeRequest(s,r,o);t._request=u,u.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=lT*this._chunkMultiplier,r=new nh(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var l;try{l=v2(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(p){t._error=p,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,u);t._request=f,f.getPromise().then(function(p){t._increaseMultiplier(),t._request=void 0,t._updateProgress(p.current),p.finalized?(t._metadata=p.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=lT*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=ux(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=p2(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Qk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=fg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,u=new y2(n,r,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(fg(this._state)){case In.SUCCESS:Bs(this._resolve.bind(null,this.snapshot))();break;case In.CANCELED:case In.ERROR:var n=this._reject;Bs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=fg(this._state);switch(n){case In.RUNNING:case In.PAUSED:t.next&&Bs(t.next.bind(t,this.snapshot))();break;case In.SUCCESS:t.complete&&Bs(t.complete.bind(t))();break;case In.CANCELED:case In.ERROR:t.error&&Bs(t.error.bind(t,this._error))();break;default:t.error&&Bs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sd=function(){function e(t,n){this._service=t,n instanceof cr?this._location=n:this._location=cr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new cr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return sx(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Jj(this._location.path);if(t===null)return null;var n=new cr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw ex(t)},e}();function _2(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new lx(e,new o_(t),n)}function w2(e){var t={prefixes:[],items:[]};return fx(e,t).then(function(){return t})}function fx(e,t,n){return z(this,void 0,void 0,function(){var r,o,s,u;return G(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,hx(e,r)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,fx(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function hx(e,t){return z(this,void 0,void 0,function(){var n,r;return G(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&cv("options.maxResults",1,1e3,t.maxResults),n=t||{},r=c2(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function b2(e){return z(this,void 0,void 0,function(){var t;return G(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=ux(e.storage,e._location,rd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function I2(e,t){return z(this,void 0,void 0,function(){var n;return G(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=f2(e.storage,e._location,t,rd()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function E2(e){return z(this,void 0,void 0,function(){var t;return G(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=l2(e.storage,e._location,rd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw kj();return r})]}})})}function T2(e){return z(this,void 0,void 0,function(){var t;return G(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=h2(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function dx(e,t){var n=Zj(e._location.path,t),r=new cr(e._location.bucket,n);return new sd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(e){return/^[A-Za-z]+:\/\//.test(e)}function S2(e,t){return new sd(e,t)}function px(e,t){if(e instanceof ad){var n=e;if(n._bucket==null)throw Sj();var r=new sd(n,n._bucket);return t!=null?px(r,t):r}else return t!==void 0?dx(e,t):e}function A2(e,t){if(t&&lv(t)){if(e instanceof ad)return S2(e,t);throw Zs("To use ref(service, url), the first argument must be a Storage instance.")}else return px(e,t)}function fT(e,t){var n=t==null?void 0:t[Yk];return n==null?null:cr.makeFromBucketSpec(n,e)}function k2(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:QS(o,e.app.options.projectId))}var ad=function(){function e(t,n,r,o,s,u){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=Xk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mj,this._maxUploadRetryTime=gj,this._requests=new Set,s!=null?this._bucket=cr.makeFromBucketSpec(s,this._host):this._bucket=fT(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=cr.makeFromBucketSpec(this._url,t):this._bucket=fT(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){cv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){cv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return z(this,void 0,void 0,function(){var t,n;return G(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return z(this,void 0,void 0,function(){var t,n;return G(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new sd(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new Fj(Zk());var s=Wj(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return z(this,void 0,void 0,function(){var n,r,o;return G(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(e,t,n){return e=ct(e),_2(e,t,n)}function C2(e){return e=ct(e),b2(e)}function O2(e,t){return e=ct(e),I2(e,t)}function N2(e,t){return e=ct(e),hx(e,t)}function R2(e){return e=ct(e),w2(e)}function P2(e){return e=ct(e),E2(e)}function D2(e){return e=ct(e),T2(e)}function hT(e,t){return e=ct(e),A2(e,t)}function L2(e,t){return dx(e,t)}function M2(e,t,n,r){r===void 0&&(r={}),k2(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uf=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dT=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new uf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new uf(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(l){return n(new uf(l,s,s._ref))}:u={next:n.next?function(l){return n.next(new uf(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)},e}(),pT=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new dc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new dc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=L2(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new dT(x2(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=ur.RAW),this._throwIfRoot("putString");var o=tx(n,t),s=na({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new dT(new lx(this._delegate,new o_(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return R2(this._delegate).then(function(n){return new pT(n,t.storage)})},e.prototype.list=function(t){var n=this;return N2(this._delegate,t||void 0).then(function(r){return new pT(r,n.storage)})},e.prototype.getMetadata=function(){return C2(this._delegate)},e.prototype.updateMetadata=function(t){return O2(this._delegate,t)},e.prototype.getDownloadURL=function(){return P2(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),D2(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw ex(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F2=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(lv(t))throw Zs("ref() expected a child path but got a URL, use refFromURL instead.");return new dc(hT(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!lv(t))throw Zs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{cr.makeFromUrl(t,this._delegate.host)}catch{throw Zs("refFromUrl() expected a valid full URL but got an invalid one.")}return new dc(hT(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),M2(this._delegate,t,n,r)},e}(),V2="@firebase/storage",U2="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j2="storage";function B2(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),u=new F2(r,new ad(r,o,s,new Mj,n,Ce.SDK_VERSION));return u}function q2(e){var t={TaskState:In,TaskEvent:Pj,StringFormat:ur,Storage:ad,Reference:dc};e.INTERNAL.registerComponent(new wc(j2,B2,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(V2,U2)}q2(Ce);const $2={apiKey:"AIzaSyCtnXAlW36x8hZvJ8T2lP8Hep1-Kq66sJw",authDomain:"music-84262.firebaseapp.com",projectId:"music-84262",storageBucket:"music-84262.appspot.com",appId:"1:577832410296:web:4d0530527445585d20a84d"};Ce.initializeApp($2);const Gr=Ce.auth(),ud=Ce.firestore(),H2=ud.collection("users"),zr=ud.collection("songs"),mT=ud.collection("comments"),K2=ud.collection("staticImages"),fv=Ce.storage(),La=Sh("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Gr.createUserWithEmailAndPassword(e.email,e.password);await H2.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await Gr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Gr.signOut(),this.userLoggedIn=!1}}}),gT=Sh("mobile",{state:()=>({isOpenMenu:!1}),getters:{hiddenClass(e){return e.isOpenMenu?" ":"hidden"}}}),G2="/MusicLand/assets/logo-ef2ce44f.png",nr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},z2={name:"AppHeader",computed:{...SL(Pg,La,gT),..._c(gT,["hiddenClass","isOpenMenu"])},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen},toggleMenu(){this.mobileStore.isOpenMenu=!this.mobileStore.isOpenMenu},signOut(){this.userStore.signOut(),this.$route.name==="manage"&&this.$router.push({name:"home"})}}},W2={id:"header",class:"bg-gray-700 z-50 h-16 md:h-24 fixed left-0 right-0 top-0"},X2={class:"container mx-auto py-2"},Y2={class:"px-4 w-full"},Q2={class:"flex justify-between"},J2={class:"flex space-x-7"},Z2=D("img",{src:G2,class:"inline w-12 md:w-20"},null,-1),eB=D("span",null,[wn("Music"),D("span",{class:"text-violet-300"},"Land")],-1),tB={class:"hiddenflex flex-grow items-center hidden md:flex"},nB={class:"flex flex-row mt-1 text-white"},rB={key:0},iB=D("i",{class:"fa fa-user mr-1"},null,-1),oB=D("i",{class:"fa fa-user mr-1"},null,-1),sB={class:"md:hidden flex items-center"},aB={class:"pt-5 text-white"},uB={key:0},cB=D("i",{class:"fa fa-user mr-1"},null,-1),lB=D("i",{class:"fa fa-user mr-1"},null,-1);function fB(e,t,n,r,o,s){const u=It("router-link");return je(),Qe("header",W2,[D("nav",X2,[D("div",Y2,[D("div",Q2,[D("div",J2,[D("div",null,[Ae(u,{class:"text-white text-l md:text-3xl mr-8 font-medium ease-in duration-300 font-mono hover:font-bold hover:text-white","exact-active-class":"no-active",to:{name:"home"}},{default:fn(()=>[Z2,eB]),_:1})]),D("div",tB,[D("ul",nB,[D("li",null,[Ae(u,{class:"px-2 mx-2 hover:text-violet-200",to:{name:"about"}},{default:fn(()=>[wn("About")]),_:1})]),e.userStore.userLoggedIn?(je(),Qe(Yt,{key:1},[D("li",null,[Ae(u,{class:"px-2 mx-2 hover:text-violet-200",to:{name:"manage"}},{default:fn(()=>[wn("Manage")]),_:1})]),D("li",null,[D("a",{class:"px-2 hover:text-violet-200",href:"#",onClick:t[1]||(t[1]=Nt((...l)=>s.signOut&&s.signOut(...l),["prevent"]))},[oB,wn("Logout ")])])],64)):(je(),Qe("li",rB,[D("a",{class:"px-2 hover:text-violet-200",href:"#",onClick:t[0]||(t[0]=Nt((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},[iB,wn("Login / Register ")])]))])])]),D("div",sB,[D("button",{class:"outline-none mobile-menu-button",onClick:t[2]||(t[2]=(...l)=>s.toggleMenu&&s.toggleMenu(...l))},[D("i",{class:Ut(["fa w-6 h-6 text-gray-500",[e.isOpenMenu?"fa-times":"fa-bars"]])},null,2)])])])]),D("div",{class:Ut(["bg-gray-700 md:hidden mobile-menu px-4 z-50",e.hiddenClass])},[D("ul",aB,[D("li",null,[Ae(u,{class:"block text-sm px-2 py-4",to:{name:"about"}},{default:fn(()=>[wn("About")]),_:1})]),e.userStore.userLoggedIn?(je(),Qe(Yt,{key:1},[D("li",null,[Ae(u,{class:"block text-sm px-2 py-4",to:{name:"manage"}},{default:fn(()=>[wn("Manage")]),_:1})]),D("li",null,[D("a",{class:"block text-sm px-2 py-4",href:"#",onClick:t[4]||(t[4]=Nt((...l)=>s.signOut&&s.signOut(...l),["prevent"]))},[lB,wn("Logout ")])])],64)):(je(),Qe("li",uB,[D("a",{class:"block text-sm px-2 py-4",href:"#",onClick:t[3]||(t[3]=Nt((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},[cB,wn("Login / Register ")])]))])],2)])])}const hB=nr(z2,[["render",fB]]),dB={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_text:"Please wait! We are logging you in.",login_in_submission:!1}},methods:{...Ah(La,["authenticate"]),async login(e){this.login_show_alert=!0,this.login_in_submission=!0,this.login_alert_variant="bg-blue-500",this.login_alert_text="Please wait! We are logging you in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_text="Invalid login"}this.login_alert_variant="bg-green-500",this.login_alert_text="Success! You are logged in",window.location.reload()}}},pB={class:"mb-3"},mB=D("label",{class:"inline-block mb-2"},"Email",-1),gB={class:"mb-3"},vB=D("label",{class:"inline-block mb-2"},"Password",-1),yB=["disabled"];function _B(e,t,n,r,o,s){const u=It("vee-field"),l=It("ErrorMessage"),f=It("vee-form");return je(),Qe("div",null,[o.login_show_alert?(je(),Qe("div",{key:0,class:Ut(["text-white text-center font-bold rounded p-4 mb-4",o.login_alert_variant])},Ft(o.login_alert_text),3)):Yi("",!0),Ae(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:fn(()=>[D("div",pB,[mB,Ae(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ae(l,{class:"text-red-500",name:"email"})]),D("div",gB,[vB,Ae(u,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Ae(l,{class:"text-red-500",name:"password"})]),D("button",{type:"submit",class:"block w-full bg-green-600 text-white py-1.5 px-3 rounded transition hover:bg-green-700",disabled:o.login_in_submission},"Submit",8,yB)]),_:1},8,["validation-schema","onSubmit"])])}const wB=nr(dB,[["render",_B]]),bB={name:"RegisterForm",data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},userData:{country:"USA"},reg_alert_variant:"bg-blue-500",reg_in_submission:!1,reg_show_alert:!1,reg_alert_text:"Please wait! Your account is being created."}},methods:{...Ah(La,{createUser:"register"}),async register(e){this.reg_in_submission=!0,this.reg_show_alert=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_text="Please wait! Your account is being created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_text="An unexpected error occured. Please try later2.",this.reg_alert_variant="bg-red-500";return}this.reg_alert_variant="bg-green-500",this.reg_alert_text="Success! Your account created.",window.location.reload()}}},IB={class:"mb-3"},EB=D("label",{class:"inline-block mb-2"},"Name",-1),TB={class:"mb-3"},SB=D("label",{class:"inline-block mb-2"},"Email",-1),AB={class:"mb-3"},kB=D("label",{class:"inline-block mb-2"},"Age",-1),xB={class:"mb-3"},CB=D("label",{class:"inline-block mb-2"},"Password",-1),OB={class:"mb-3"},NB=D("label",{class:"inline-block mb-2"},"Confirm Password",-1),RB={class:"mb-3"},PB=D("label",{class:"inline-block mb-2"},"Country",-1),DB=D("option",{value:"USA"},"USA",-1),LB=D("option",{value:"Mexico"},"Mexico",-1),MB=D("option",{value:"Germany"},"Germany",-1),FB=D("option",{value:"Antarctica"},"Antarctica",-1),VB={class:"mb-3 pl-6"},UB=D("label",{class:"inline-block"},"Accept terms of service",-1),jB=["disabled"];function BB(e,t,n,r,o,s){const u=It("vee-field"),l=It("ErrorMessage"),f=It("vee-form");return je(),Qe("div",null,[o.reg_show_alert?(je(),Qe("div",{key:0,class:Ut(["text-white text-center font-bold rounded p-4 mb-4",o.reg_alert_variant])},Ft(o.reg_alert_text),3)):Yi("",!0),Ae(f,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:fn(()=>[D("div",IB,[EB,Ae(u,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Ae(l,{class:"text-red-500",name:"name"})]),D("div",TB,[SB,Ae(u,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ae(l,{class:"text-red-500",name:"email"})]),D("div",AB,[kB,Ae(u,{type:"number",name:"age",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Ae(l,{class:"text-red-500",name:"age"})]),D("div",xB,[CB,Ae(u,{name:"password",bails:!1},{default:fn(({field:p,errors:g})=>[D("input",jS({type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},p),null,16),(je(!0),Qe(Yt,null,vc(g,h=>(je(),Qe("div",{class:"text-red-500",key:h},Ft(h),1))),128))]),_:1})]),D("div",OB,[NB,Ae(u,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Ae(l,{class:"text-red-500",name:"confirm_password"})]),D("div",RB,[PB,Ae(u,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:fn(()=>[DB,LB,MB,FB]),_:1}),Ae(l,{class:"text-red-500",name:"country"})]),D("div",VB,[Ae(u,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),UB,Ae(l,{class:"text-red-500 block",name:"tos"})]),D("button",{type:"submit",class:"block w-full bg-green-600 text-white py-1.5 px-3 rounded transition hover:bg-green-700",disabled:o.reg_in_submission},"Submit",8,jB)]),_:1},8,["validation-schema","onSubmit","initial-values"])])}const qB=nr(bB,[["render",BB]]),$B={name:"Auth",components:{AppLoginForm:wB,AppRegisterForm:qB},data(){return{tab:"login"}},computed:{..._c(Pg,["hiddenClass"]),...XS(Pg,{modalVisibility:"isOpen"})}},HB={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},KB=D("div",{class:"fixed inset-0 transition-opacity"},[D("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),GB=D("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),zB={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},WB={class:"py-4 text-left px-6"},XB={class:"flex justify-between items-center pb-4"},YB=D("p",{class:"text-2xl font-bold"},"Your Account",-1),QB=D("i",{class:"fas fa-times"},null,-1),JB=[QB],ZB={class:"flex flex-wrap mb-4"},eq={class:"flex-auto text-center"},tq={class:"flex-auto text-center"};function nq(e,t,n,r,o,s){const u=It("app-login-form"),l=It("app-register-form");return je(),Qe("div",{class:Ut(["fixed z-50 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[D("div",HB,[KB,GB,D("div",zB,[D("div",WB,[D("div",XB,[YB,D("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},JB)]),D("ul",ZB,[D("li",eq,[D("a",{class:Ut(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-violet-600":o.tab=="login","hover:text-violet-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=Nt(f=>o.tab="login",["prevent"]))},"Login",2)]),D("li",tq,[D("a",{class:Ut(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-violet-600":o.tab=="register","hover:text-violet-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=Nt(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(je(),Wi(u,{key:0})):(je(),Wi(l,{key:1}))])])])],2)}const rq=nr($B,[["render",nq]]);var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},If={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var m=this||n;if(h=parseFloat(h),m.ctx||g(),typeof h<"u"&&h>=0&&h<=1){if(m._volume=h,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),I=0;I<_.length;I++){var E=m._howls[y]._soundById(_[I]);E&&E._node&&(E._node.volume=E._volume*h)}return m}return m._volume},mute:function(h){var m=this||n;m.ctx||g(),m._muted=h,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h?0:m._volume,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),I=0;I<_.length;I++){var E=m._howls[y]._soundById(_[I]);E&&E._node&&(E._node.muted=h?!0:E._muted)}return m},stop:function(){for(var h=this||n,m=0;m<h._howls.length;m++)h._howls[m].stop();return h},unload:function(){for(var h=this||n,m=h._howls.length-1;m>=0;m--)h._howls[m].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,g()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var m=new Audio;m.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return h}if(!m||typeof m.canPlayType!="function")return h;var y=m.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",I=_.match(/OPR\/([0-6].)/g),E=I&&parseInt(I[0].split("/")[1],10)<33,T=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,C=_.match(/Version\/(.*?) /),P=T&&C&&parseInt(C[1],10)<15;return h._codecs={mp3:!!(!E&&(y||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!P&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!P&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var m=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var I=0;I<h._howls.length;I++)if(!h._howls[I]._webAudio)for(var E=h._howls[I]._getSoundIds(),T=0;T<E.length;T++){var C=h._howls[I]._soundById(E[T]);C&&C._node&&!C._node._unlocked&&(C._node._unlocked=!0,C._node.load())}h._autoResume();var P=h.ctx.createBufferSource();P.buffer=h._scratchBuffer,P.connect(h.ctx.destination),typeof P.start>"u"?P.noteOn(0):P.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),P.onended=function(){P.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var L=0;L<h._howls.length;L++)h._howls[L]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var m=this||n;return h._unlocked&&m._html5AudioPool.push(h),m},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<h._howls.length;m++)if(h._howls[m]._webAudio){for(var y=0;y<h._howls[m]._sounds.length;y++)if(!h._howls[m]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var m=0;m<h._howls.length;m++)h._howls[m]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var m=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(h)};r.prototype={init:function(h){var m=this;return n.ctx||g(),m._autoplay=h.autoplay||!1,m._format=typeof h.format!="string"?h.format:[h.format],m._html5=h.html5||!1,m._muted=h.mute||!1,m._loop=h.loop||!1,m._pool=h.pool||5,m._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,m._rate=h.rate||1,m._sprite=h.sprite||{},m._src=typeof h.src!="string"?h.src:[h.src],m._volume=h.volume!==void 0?h.volume:1,m._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=h.onend?[{fn:h.onend}]:[],m._onfade=h.onfade?[{fn:h.onfade}]:[],m._onload=h.onload?[{fn:h.onload}]:[],m._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],m._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],m._onpause=h.onpause?[{fn:h.onpause}]:[],m._onplay=h.onplay?[{fn:h.onplay}]:[],m._onstop=h.onstop?[{fn:h.onstop}]:[],m._onmute=h.onmute?[{fn:h.onmute}]:[],m._onvolume=h.onvolume?[{fn:h.onvolume}]:[],m._onrate=h.onrate?[{fn:h.onrate}]:[],m._onseek=h.onseek?[{fn:h.onseek}]:[],m._onunlock=h.onunlock?[{fn:h.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var h=this,m=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var _,I;if(h._format&&h._format[y])_=h._format[y];else{if(I=h._src[y],typeof I!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(I),_||(_=/\.([^.]+)$/.exec(I.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){m=h._src[y];break}}if(!m){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=m,h._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&u(h),h},play:function(h,m){var y=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var I=0,E=0;E<y._sounds.length;E++)y._sounds[E]._paused&&!y._sounds[E]._ended&&(I++,_=y._sounds[E]._id);I===1?h=null:_=null}}var T=_?y._soundById(_):y._inactiveSound();if(!T)return null;if(_&&!h&&(h=T._sprite||"__default"),y._state!=="loaded"){T._sprite=h,T._ended=!1;var C=T._id;return y._queue.push({event:"play",action:function(){y.play(C)}}),C}if(_&&!T._paused)return m||y._loadQueue("play"),T._id;y._webAudio&&n._autoResume();var P=Math.max(0,T._seek>0?T._seek:y._sprite[h][0]/1e3),L=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-P),X=L*1e3/Math.abs(T._rate),U=y._sprite[h][0]/1e3,ue=(y._sprite[h][0]+y._sprite[h][1])/1e3;T._sprite=h,T._ended=!1;var V=function(){T._paused=!1,T._seek=P,T._start=U,T._stop=ue,T._loop=!!(T._loop||y._sprite[h][2])};if(P>=ue){y._ended(T);return}var H=T._node;if(y._webAudio){var k=function(){y._playLock=!1,V(),y._refreshBuffer(T);var Fe=T._muted||y._muted?0:T._volume;H.gain.setValueAtTime(Fe,n.ctx.currentTime),T._playStart=n.ctx.currentTime,typeof H.bufferSource.start>"u"?T._loop?H.bufferSource.noteGrainOn(0,P,86400):H.bufferSource.noteGrainOn(0,P,L):T._loop?H.bufferSource.start(0,P,86400):H.bufferSource.start(0,P,L),X!==1/0&&(y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),X)),m||setTimeout(function(){y._emit("play",T._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?k():(y._playLock=!0,y.once("resume",k),y._clearTimer(T._id))}else{var Oe=function(){H.currentTime=P,H.muted=T._muted||y._muted||n._muted||H.muted,H.volume=T._volume*n.volume(),H.playbackRate=T._rate;try{var Fe=H.play();if(Fe&&typeof Promise<"u"&&(Fe instanceof Promise||typeof Fe.then=="function")?(y._playLock=!0,V(),Fe.then(function(){y._playLock=!1,H._unlocked=!0,m?y._loadQueue():y._emit("play",T._id)}).catch(function(){y._playLock=!1,y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),T._ended=!0,T._paused=!0})):m||(y._playLock=!1,V(),y._emit("play",T._id)),H.playbackRate=T._rate,H.paused){y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||T._loop?y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),X):(y._endTimers[T._id]=function(){y._ended(T),H.removeEventListener("ended",y._endTimers[T._id],!1)},H.addEventListener("ended",y._endTimers[T._id],!1))}catch(He){y._emit("playerror",T._id,He)}};H.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(H.src=y._src,H.load());var oe=window&&window.ejecta||!H.readyState&&n._navigator.isCocoonJS;if(H.readyState>=3||oe)Oe();else{y._playLock=!0,y._state="loading";var xe=function(){y._state="loaded",Oe(),H.removeEventListener(n._canPlayEvent,xe,!1)};H.addEventListener(n._canPlayEvent,xe,!1),y._clearTimer(T._id)}}return T._id},pause:function(h){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(h)}}),m;for(var y=m._getSoundIds(h),_=0;_<y.length;_++){m._clearTimer(y[_]);var I=m._soundById(y[_]);if(I&&!I._paused&&(I._seek=m.seek(y[_]),I._rateSeek=0,I._paused=!0,m._stopFade(y[_]),I._node))if(m._webAudio){if(!I._node.bufferSource)continue;typeof I._node.bufferSource.stop>"u"?I._node.bufferSource.noteOff(0):I._node.bufferSource.stop(0),m._cleanBuffer(I._node)}else(!isNaN(I._node.duration)||I._node.duration===1/0)&&I._node.pause();arguments[1]||m._emit("pause",I?I._id:null)}return m},stop:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var _=y._getSoundIds(h),I=0;I<_.length;I++){y._clearTimer(_[I]);var E=y._soundById(_[I]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,y._stopFade(_[I]),E._node&&(y._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),y._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&y._clearSound(E._node))),m||y._emit("stop",E._id))}return y},mute:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,m)}}),y;if(typeof m>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var _=y._getSoundIds(m),I=0;I<_.length;I++){var E=y._soundById(_[I]);E&&(E._muted=h,E._interval&&y._stopFade(E._id),y._webAudio&&E._node?E._node.gain.setValueAtTime(h?0:E._volume,n.ctx.currentTime):E._node&&(E._node.muted=n._muted?!0:h),y._emit("mute",E._id))}return y},volume:function(){var h=this,m=arguments,y,_;if(m.length===0)return h._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length>=2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var T;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,m)}}),h;typeof _>"u"&&(h._volume=y),_=h._getSoundIds(_);for(var C=0;C<_.length;C++)T=h._soundById(_[C]),T&&(T._volume=y,m[2]||h._stopFade(_[C]),h._webAudio&&T._node&&!T._muted?T._node.gain.setValueAtTime(y,n.ctx.currentTime):T._node&&!T._muted&&(T._node.volume=y*n.volume()),h._emit("volume",T._id))}else return T=_?h._soundById(_):h._sounds[0],T?T._volume:0;return h},fade:function(h,m,y,_){var I=this;if(I._state!=="loaded"||I._playLock)return I._queue.push({event:"fade",action:function(){I.fade(h,m,y,_)}}),I;h=Math.min(Math.max(0,parseFloat(h)),1),m=Math.min(Math.max(0,parseFloat(m)),1),y=parseFloat(y),I.volume(h,_);for(var E=I._getSoundIds(_),T=0;T<E.length;T++){var C=I._soundById(E[T]);if(C){if(_||I._stopFade(E[T]),I._webAudio&&!C._muted){var P=n.ctx.currentTime,L=P+y/1e3;C._volume=h,C._node.gain.setValueAtTime(h,P),C._node.gain.linearRampToValueAtTime(m,L)}I._startFadeInterval(C,h,m,y,E[T],typeof _>"u")}}return I},_startFadeInterval:function(h,m,y,_,I,E){var T=this,C=m,P=y-m,L=Math.abs(P/.01),X=Math.max(4,L>0?_/L:_),U=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var ue=(Date.now()-U)/_;U=Date.now(),C+=P*ue,C=Math.round(C*100)/100,P<0?C=Math.max(y,C):C=Math.min(y,C),T._webAudio?h._volume=C:T.volume(C,h._id,!0),E&&(T._volume=C),(y<m&&C<=y||y>m&&C>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,T.volume(y,h._id),T._emit("fade",h._id))},X)},_stopFade:function(h){var m=this,y=m._soundById(h);return y&&y._interval&&(m._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,m.volume(y._fadeTo,h),y._fadeTo=null,m._emit("fade",h)),m},loop:function(){var h=this,m=arguments,y,_,I;if(m.length===0)return h._loop;if(m.length===1)if(typeof m[0]=="boolean")y=m[0],h._loop=y;else return I=h._soundById(parseInt(m[0],10)),I?I._loop:!1;else m.length===2&&(y=m[0],_=parseInt(m[1],10));for(var E=h._getSoundIds(_),T=0;T<E.length;T++)I=h._soundById(E[T]),I&&(I._loop=y,h._webAudio&&I._node&&I._node.bufferSource&&(I._node.bufferSource.loop=y,y&&(I._node.bufferSource.loopStart=I._start||0,I._node.bufferSource.loopEnd=I._stop,h.playing(E[T])&&(h.pause(E[T],!0),h.play(E[T],!0)))));return h},rate:function(){var h=this,m=arguments,y,_;if(m.length===0)_=h._sounds[0]._id;else if(m.length===1){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var T;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,m)}}),h;typeof _>"u"&&(h._rate=y),_=h._getSoundIds(_);for(var C=0;C<_.length;C++)if(T=h._soundById(_[C]),T){h.playing(_[C])&&(T._rateSeek=h.seek(_[C]),T._playStart=h._webAudio?n.ctx.currentTime:T._playStart),T._rate=y,h._webAudio&&T._node&&T._node.bufferSource?T._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):T._node&&(T._node.playbackRate=y);var P=h.seek(_[C]),L=(h._sprite[T._sprite][0]+h._sprite[T._sprite][1])/1e3-P,X=L*1e3/Math.abs(T._rate);(h._endTimers[_[C]]||!T._paused)&&(h._clearTimer(_[C]),h._endTimers[_[C]]=setTimeout(h._ended.bind(h,T),X)),h._emit("rate",T._id)}}else return T=h._soundById(_),T?T._rate:h._rate;return h},seek:function(){var h=this,m=arguments,y,_;if(m.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(m.length===1){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):h._sounds.length&&(_=h._sounds[0]._id,y=parseFloat(m[0]))}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));if(typeof _>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,m)}}),h;var T=h._soundById(_);if(T)if(typeof y=="number"&&y>=0){var C=h.playing(_);C&&h.pause(_,!0),T._seek=y,T._ended=!1,h._clearTimer(_),!h._webAudio&&T._node&&!isNaN(T._node.duration)&&(T._node.currentTime=y);var P=function(){C&&h.play(_,!0),h._emit("seek",_)};if(C&&!h._webAudio){var L=function(){h._playLock?setTimeout(L,0):P()};setTimeout(L,0)}else P()}else if(h._webAudio){var X=h.playing(_)?n.ctx.currentTime-T._playStart:0,U=T._rateSeek?T._rateSeek-T._seek:0;return T._seek+(U+X*Math.abs(T._rate))}else return T._node.currentTime;return h},playing:function(h){var m=this;if(typeof h=="number"){var y=m._soundById(h);return y?!y._paused:!1}for(var _=0;_<m._sounds.length;_++)if(!m._sounds[_]._paused)return!0;return!1},duration:function(h){var m=this,y=m._duration,_=m._soundById(h);return _&&(y=m._sprite[_._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,m=h._sounds,y=0;y<m.length;y++)m[y]._paused||h.stop(m[y]._id),h._webAudio||(h._clearSound(m[y]._node),m[y]._node.removeEventListener("error",m[y]._errorFn,!1),m[y]._node.removeEventListener(n._canPlayEvent,m[y]._loadFn,!1),m[y]._node.removeEventListener("ended",m[y]._endFn,!1),n._releaseHtml5Audio(m[y]._node)),delete m[y]._node,h._clearTimer(m[y]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var I=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){I=!1;break}return s&&I&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,m,y,_){var I=this,E=I["_on"+h];return typeof m=="function"&&E.push(_?{id:y,fn:m,once:_}:{id:y,fn:m}),I},off:function(h,m,y){var _=this,I=_["_on"+h],E=0;if(typeof m=="number"&&(y=m,m=null),m||y)for(E=0;E<I.length;E++){var T=y===I[E].id;if(m===I[E].fn&&T||!m&&T){I.splice(E,1);break}}else if(h)_["_on"+h]=[];else{var C=Object.keys(_);for(E=0;E<C.length;E++)C[E].indexOf("_on")===0&&Array.isArray(_[C[E]])&&(_[C[E]]=[])}return _},once:function(h,m,y){var _=this;return _.on(h,m,y,1),_},_emit:function(h,m,y){for(var _=this,I=_["_on"+h],E=I.length-1;E>=0;E--)(!I[E].id||I[E].id===m||h==="load")&&(setTimeout((function(T){T.call(this,m,y)}).bind(_,I[E].fn),0),I[E].once&&_.off(h,I[E].fn,I[E].id));return _._loadQueue(h),_},_loadQueue:function(h){var m=this;if(m._queue.length>0){var y=m._queue[0];y.event===h&&(m._queue.shift(),m._loadQueue()),h||y.action()}return m},_ended:function(h){var m=this,y=h._sprite;if(!m._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(m._ended.bind(m,h),100),m;var _=!!(h._loop||m._sprite[y][2]);if(m._emit("end",h._id),!m._webAudio&&_&&m.stop(h._id,!0).play(h._id),m._webAudio&&_){m._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var I=(h._stop-h._start)*1e3/Math.abs(h._rate);m._endTimers[h._id]=setTimeout(m._ended.bind(m,h),I)}return m._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,m._clearTimer(h._id),m._cleanBuffer(h._node),n._autoSuspend()),!m._webAudio&&!_&&m.stop(h._id,!0),m},_clearTimer:function(h){var m=this;if(m._endTimers[h]){if(typeof m._endTimers[h]!="function")clearTimeout(m._endTimers[h]);else{var y=m._soundById(h);y&&y._node&&y._node.removeEventListener("ended",m._endTimers[h],!1)}delete m._endTimers[h]}return m},_soundById:function(h){for(var m=this,y=0;y<m._sounds.length;y++)if(h===m._sounds[y]._id)return m._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var m=0;m<h._sounds.length;m++)if(h._sounds[m]._ended)return h._sounds[m].reset();return new o(h)},_drain:function(){var h=this,m=h._pool,y=0,_=0;if(!(h._sounds.length<m)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&y++;for(_=h._sounds.length-1;_>=0;_--){if(y<=m)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),y--)}}},_getSoundIds:function(h){var m=this;if(typeof h>"u"){for(var y=[],_=0;_<m._sounds.length;_++)y.push(m._sounds[_]._id);return y}else return[h]},_refreshBuffer:function(h){var m=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[m._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),m},_cleanBuffer:function(h){var m=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,m},_clearSound:function(h){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,m._sounds.push(h),h.create(),h},create:function(){var h=this,m=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return m._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=m._src,h._node.preload=m._preload===!0?"auto":m._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,m=h._parent;m._duration=Math.ceil(h._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,m=h._parent;m._duration===1/0&&(m._duration=Math.ceil(h._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},u=function(h){var m=h._src;if(s[m]){h._duration=s[m].duration,p(h);return}if(/^data:[^;]+;base64,/.test(m)){for(var y=atob(m.split(",")[1]),_=new Uint8Array(y.length),I=0;I<y.length;++I)_[I]=y.charCodeAt(I);f(_.buffer,h)}else{var E=new XMLHttpRequest;E.open(h._xhr.method,m,!0),E.withCredentials=h._xhr.withCredentials,E.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(T){E.setRequestHeader(T,h._xhr.headers[T])}),E.onload=function(){var T=(E.status+"")[0];if(T!=="0"&&T!=="2"&&T!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}f(E.response,h)},E.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[m],h.load())},l(E)}},l=function(h){try{h.send()}catch{h.onerror()}},f=function(h,m){var y=function(){m._emit("loaderror",null,"Decoding audio data failed.")},_=function(I){I&&m._sounds.length>0?(s[m._src]=I,p(m,I)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(y):n.ctx.decodeAudioData(h,_,y)},p=function(h,m){m&&!h._duration&&(h._duration=m.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},g=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=m?parseInt(m[1],10):null;if(h&&y&&y<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Iu<"u"?(Iu.HowlerGlobal=t,Iu.Howler=n,Iu.Howl=r,Iu.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,u,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var p=f._orientation;if(r=typeof r!="number"?p[1]:r,o=typeof o!="number"?p[2]:o,s=typeof s!="number"?p[3]:s,u=typeof u!="number"?p[4]:u,l=typeof l!="number"?p[5]:l,typeof n=="number")f._orientation=[n,r,o,s,u,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,u,l);else return p;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(r),l=0;l<u.length;l++){var f=o._soundById(u[l]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,r,o,s)}}),u;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")u._pos=[n,r,o];else return u._pos;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var p=u._soundById(l[f]);if(p)if(typeof n=="number")p._pos=[n,r,o],p._node&&((!p._panner||p._panner.pan)&&t(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(n,r,o)),u._emit("pos",p._id);else return p._pos}return u},Howl.prototype.orientation=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,r,o,s)}}),u;if(r=typeof r!="number"?u._orientation[1]:r,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof n=="number")u._orientation=[n,r,o];else return u._orientation;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var p=u._soundById(l[f]);if(p)if(typeof n=="number")p._orientation=[n,r,o],p._node&&(p._panner||(p._pos||(p._pos=u._pos||[0,0,-.5]),t(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(n,r,o)),u._emit("orientation",p._id);else return p._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,u;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(r[0],10)),u?u._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),f=0;f<l.length;f++)if(u=n._soundById(l[f]),u){var p=u._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var g=u._panner;g?(g.coneInnerAngle=p.coneInnerAngle,g.coneOuterAngle=p.coneOuterAngle,g.coneOuterGain=p.coneOuterGain,g.distanceModel=p.distanceModel,g.maxDistance=p.maxDistance,g.refDistance=p.refDistance,g.rolloffFactor=p.rolloffFactor,g.panningModel=p.panningModel):(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(If);const rh={formatTime(e){const t=Math.floor(e/60)||0,n=Math.floor(e-t*60)||0;return`${t}:${n<10?"0":""}${n}`},formatDate(e){const t=e.split(" ");return`${t[1]} ${t[2]} ${t[3]}  -  ${t[4]}`},async getStaticImage(e){const t=await K2.where("name","==",e).get();let n=[];return t.forEach(r=>{n.push({...r.data()})}),n[0].url}},ih=Sh("player",{state:()=>({current_song:{},sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"}),actions:{async newSong(e){this.sound instanceof If.Howl&&this.sound.unload(),this.current_song=e,this.sound=new If.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},stopPlaying(){this.sound instanceof If.Howl&&(this.sound.unload(),this.sound={})},progress(){this.seek=rh.formatTime(this.sound.seek()),this.duration=rh.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),o=(e.clientX-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),iq={name:"Player",computed:{..._c(ih,["playing","duration","seek","playerProgress","current_song"])},methods:{...Ah(ih,["toggleAudio","updateSeek","stopPlaying"])}},oq={class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full z-100"},sq=D("i",{class:"fas fa-times"},null,-1),aq=[sq],uq={key:0,class:"text-center"},cq={class:"song-title font-bold"},lq={class:"song-artist"},fq={class:"flex flex-nowrap gap-4 items-center"},hq={class:"player-currenttime"},dq=D("i",{class:"fas fa-circle"},null,-1),pq=[dq],mq={class:"player-duration"};function gq(e,t,n,r,o,s){return je(),Qe("div",oq,[D("button",{onClick:t[0]||(t[0]=Nt(u=>e.stopPlaying(e.song),["prevent"])),type:"button",class:"z-50 h-8 w-8 bg-red-700 text-white rounded-full focus:outline-none absolute right-4 -top-4"},aq),e.current_song.modified_name?(je(),Qe("div",uq,[D("span",cq,Ft(e.current_song.modified_name),1),wn(" by "),D("span",lq,Ft(e.current_song.display_name),1)])):Yi("",!0),D("div",fq,[D("button",{type:"button",onClick:t[1]||(t[1]=Nt((...u)=>e.toggleAudio&&e.toggleAudio(...u),["prevent"]))},[D("i",{class:Ut(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),D("div",hq,Ft(e.seek),1),D("div",{onClick:t[2]||(t[2]=Nt((...u)=>e.updateSeek&&e.updateSeek(...u),["prevent"])),class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer"},[D("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:Yo({left:e.playerProgress})},pq,4),D("span",{class:"block h-2 rounded bg-gradient-to-r from-violet-400 to-violet-300",style:Yo({width:e.playerProgress})},null,4)]),D("div",mq,Ft(e.duration),1)])])}const vq=nr(iq,[["render",gq]]);const yq={name:"App",components:{AppHeader:hB,Auth:rq,AppPlayer:vq},computed:{...XS(La,["userLoggedIn"]),..._c(ih,["sound"])},created(){Gr.currentUser&&(this.userLoggedIn=!0)}};function _q(e,t,n,r,o,s){const u=It("app-header"),l=It("router-view"),f=It("app-player"),p=It("auth");return je(),Qe("div",null,[Ae(u),Ae(l,null,{default:fn(({Component:g})=>[Ae($v,{name:"fade"},{default:fn(()=>[(je(),Wi(wh(g),{class:"mt-16 md:mt-24"}))]),_:2},1024)]),_:1}),e.sound.playing?(je(),Wi(f,{key:0})):Yi("",!0),Ae(p)])}const wq=nr(yq,[["render",_q]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ks=typeof window<"u";function bq(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ot=Object.assign;function hg(e,t){const n={};for(const r in t){const o=t[r];n[r]=Cr(o)?o.map(e):e(o)}return n}const ju=()=>{},Cr=Array.isArray,Iq=/\/$/,Eq=e=>e.replace(Iq,"");function dg(e,t,n="/"){let r,o={},s="",u="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(r=r||t.slice(0,l),u=t.slice(l,t.length)),r=kq(r??t,n),{fullPath:r+(s&&"?")+s+u,path:r,query:o,hash:u}}function Tq(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function vT(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Sq(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&ba(t.matched[r],n.matched[o])&&mx(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ba(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function mx(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Aq(e[n],t[n]))return!1;return!0}function Aq(e,t){return Cr(e)?yT(e,t):Cr(t)?yT(t,e):e===t}function yT(e,t){return Cr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function kq(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,u,l;for(u=0;u<r.length;u++)if(l=r[u],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(u-(u===r.length?1:0)).join("/")}var pc;(function(e){e.pop="pop",e.push="push"})(pc||(pc={}));var Bu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Bu||(Bu={}));function xq(e){if(!e)if(Ks){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Eq(e)}const Cq=/^[^#]+#/;function Oq(e,t){return e.replace(Cq,"#")+t}function Nq(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const cd=()=>({left:window.pageXOffset,top:window.pageYOffset});function Rq(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Nq(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function _T(e,t){return(history.state?history.state.position-t:-1)+e}const hv=new Map;function Pq(e,t){hv.set(e,t)}function Dq(e){const t=hv.get(e);return hv.delete(e),t}let Lq=()=>location.protocol+"//"+location.host;function gx(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),vT(f,"")}return vT(n,e)+r+o}function Mq(e,t,n,r){let o=[],s=[],u=null;const l=({state:m})=>{const y=gx(e,location),_=n.value,I=t.value;let E=0;if(m){if(n.value=y,t.value=m,u&&u===_){u=null;return}E=I?m.position-I.position:0}else r(y);o.forEach(T=>{T(n.value,_,{delta:E,type:pc.pop,direction:E?E>0?Bu.forward:Bu.back:Bu.unknown})})};function f(){u=n.value}function p(m){o.push(m);const y=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return s.push(y),y}function g(){const{history:m}=window;m.state&&m.replaceState(ot({},m.state,{scroll:cd()}),"")}function h(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:f,listen:p,destroy:h}}function wT(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?cd():null}}function Fq(e){const{history:t,location:n}=window,r={value:gx(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,p,g){const h=e.indexOf("#"),m=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:Lq()+e+f;try{t[g?"replaceState":"pushState"](p,"",m),o.value=p}catch(y){console.error(y),n[g?"replace":"assign"](m)}}function u(f,p){const g=ot({},t.state,wT(o.value.back,f,o.value.forward,!0),p,{position:o.value.position});s(f,g,!0),r.value=f}function l(f,p){const g=ot({},o.value,t.state,{forward:f,scroll:cd()});s(g.current,g,!0);const h=ot({},wT(r.value,f,null),{position:g.position+1},p);s(f,h,!1),r.value=f}return{location:r,state:o,push:l,replace:u}}function Vq(e){e=xq(e);const t=Fq(e),n=Mq(e,t.state,t.location,t.replace);function r(s,u=!0){u||n.pauseListeners(),history.go(s)}const o=ot({location:"",base:e,go:r,createHref:Oq.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Uq(e){return typeof e=="string"||e&&typeof e=="object"}function vx(e){return typeof e=="string"||typeof e=="symbol"}const Oi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},yx=Symbol("");var bT;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(bT||(bT={}));function Ia(e,t){return ot(new Error,{type:e,[yx]:!0},t)}function ni(e,t){return e instanceof Error&&yx in e&&(t==null||!!(e.type&t))}const IT="[^/]+?",jq={sensitive:!1,strict:!1,start:!0,end:!0},Bq=/[.+*?^${}()[\]/\\]/g;function qq(e,t){const n=ot({},jq,t),r=[];let o=n.start?"^":"";const s=[];for(const p of e){const g=p.length?[]:[90];n.strict&&!p.length&&(o+="/");for(let h=0;h<p.length;h++){const m=p[h];let y=40+(n.sensitive?.25:0);if(m.type===0)h||(o+="/"),o+=m.value.replace(Bq,"\\$&"),y+=40;else if(m.type===1){const{value:_,repeatable:I,optional:E,regexp:T}=m;s.push({name:_,repeatable:I,optional:E});const C=T||IT;if(C!==IT){y+=10;try{new RegExp(`(${C})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${_}" (${C}): `+L.message)}}let P=I?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(P=E&&p.length<2?`(?:/${P})`:"/"+P),E&&(P+="?"),o+=P,y+=20,E&&(y+=-8),I&&(y+=-20),C===".*"&&(y+=-50)}g.push(y)}r.push(g)}if(n.strict&&n.end){const p=r.length-1;r[p][r[p].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function l(p){const g=p.match(u),h={};if(!g)return null;for(let m=1;m<g.length;m++){const y=g[m]||"",_=s[m-1];h[_.name]=y&&_.repeatable?y.split("/"):y}return h}function f(p){let g="",h=!1;for(const m of e){(!h||!g.endsWith("/"))&&(g+="/"),h=!1;for(const y of m)if(y.type===0)g+=y.value;else if(y.type===1){const{value:_,repeatable:I,optional:E}=y,T=_ in p?p[_]:"";if(Cr(T)&&!I)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const C=Cr(T)?T.join("/"):T;if(!C)if(E)m.length<2&&(g.endsWith("/")?g=g.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);g+=C}}return g||"/"}return{re:u,score:r,keys:s,parse:l,stringify:f}}function $q(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Hq(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=$q(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(ET(r))return 1;if(ET(o))return-1}return o.length-r.length}function ET(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Kq={type:0,value:""},Gq=/[a-zA-Z0-9_]/;function zq(e){if(!e)return[[]];if(e==="/")return[[Kq]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${p}": ${y}`)}let n=0,r=n;const o=[];let s;function u(){s&&o.push(s),s=[]}let l=0,f,p="",g="";function h(){p&&(n===0?s.push({type:0,value:p}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:p,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),p="")}function m(){p+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(p&&h(),u()):f===":"?(h(),n=1):m();break;case 4:m(),n=r;break;case 1:f==="("?n=2:Gq.test(f)?m():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,g="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),h(),u(),o}function Wq(e,t,n){const r=qq(zq(e.path),n),o=ot(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Xq(e,t){const n=[],r=new Map;t=AT({strict:!1,end:!0,sensitive:!1},t);function o(g){return r.get(g)}function s(g,h,m){const y=!m,_=Yq(g);_.aliasOf=m&&m.record;const I=AT(t,g),E=[_];if("alias"in g){const P=typeof g.alias=="string"?[g.alias]:g.alias;for(const L of P)E.push(ot({},_,{components:m?m.record.components:_.components,path:L,aliasOf:m?m.record:_}))}let T,C;for(const P of E){const{path:L}=P;if(h&&L[0]!=="/"){const X=h.record.path,U=X[X.length-1]==="/"?"":"/";P.path=h.record.path+(L&&U+L)}if(T=Wq(P,h,I),m?m.alias.push(T):(C=C||T,C!==T&&C.alias.push(T),y&&g.name&&!ST(T)&&u(g.name)),_.children){const X=_.children;for(let U=0;U<X.length;U++)s(X[U],T,m&&m.children[U])}m=m||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&f(T)}return C?()=>{u(C)}:ju}function u(g){if(vx(g)){const h=r.get(g);h&&(r.delete(g),n.splice(n.indexOf(h),1),h.children.forEach(u),h.alias.forEach(u))}else{const h=n.indexOf(g);h>-1&&(n.splice(h,1),g.record.name&&r.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function l(){return n}function f(g){let h=0;for(;h<n.length&&Hq(g,n[h])>=0&&(g.record.path!==n[h].record.path||!_x(g,n[h]));)h++;n.splice(h,0,g),g.record.name&&!ST(g)&&r.set(g.record.name,g)}function p(g,h){let m,y={},_,I;if("name"in g&&g.name){if(m=r.get(g.name),!m)throw Ia(1,{location:g});I=m.record.name,y=ot(TT(h.params,m.keys.filter(C=>!C.optional).map(C=>C.name)),g.params&&TT(g.params,m.keys.map(C=>C.name))),_=m.stringify(y)}else if("path"in g)_=g.path,m=n.find(C=>C.re.test(_)),m&&(y=m.parse(_),I=m.record.name);else{if(m=h.name?r.get(h.name):n.find(C=>C.re.test(h.path)),!m)throw Ia(1,{location:g,currentLocation:h});I=m.record.name,y=ot({},h.params,g.params),_=m.stringify(y)}const E=[];let T=m;for(;T;)E.unshift(T.record),T=T.parent;return{name:I,path:_,params:y,matched:E,meta:Jq(E)}}return e.forEach(g=>s(g)),{addRoute:s,resolve:p,removeRoute:u,getRoutes:l,getRecordMatcher:o}}function TT(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Yq(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Qq(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Qq(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function ST(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Jq(e){return e.reduce((t,n)=>ot(t,n.meta),{})}function AT(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function _x(e,t){return t.children.some(n=>n===e||_x(e,n))}const wx=/#/g,Zq=/&/g,e3=/\//g,t3=/=/g,n3=/\?/g,bx=/\+/g,r3=/%5B/g,i3=/%5D/g,Ix=/%5E/g,o3=/%60/g,Ex=/%7B/g,s3=/%7C/g,Tx=/%7D/g,a3=/%20/g;function c_(e){return encodeURI(""+e).replace(s3,"|").replace(r3,"[").replace(i3,"]")}function u3(e){return c_(e).replace(Ex,"{").replace(Tx,"}").replace(Ix,"^")}function dv(e){return c_(e).replace(bx,"%2B").replace(a3,"+").replace(wx,"%23").replace(Zq,"%26").replace(o3,"`").replace(Ex,"{").replace(Tx,"}").replace(Ix,"^")}function c3(e){return dv(e).replace(t3,"%3D")}function l3(e){return c_(e).replace(wx,"%23").replace(n3,"%3F")}function f3(e){return e==null?"":l3(e).replace(e3,"%2F")}function oh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function h3(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(bx," "),u=s.indexOf("="),l=oh(u<0?s:s.slice(0,u)),f=u<0?null:oh(s.slice(u+1));if(l in t){let p=t[l];Cr(p)||(p=t[l]=[p]),p.push(f)}else t[l]=f}return t}function kT(e){let t="";for(let n in e){const r=e[n];if(n=c3(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Cr(r)?r.map(s=>s&&dv(s)):[r&&dv(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function d3(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Cr(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const p3=Symbol(""),xT=Symbol(""),l_=Symbol(""),Sx=Symbol(""),pv=Symbol("");function Eu(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Di(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,l)=>{const f=h=>{h===!1?l(Ia(4,{from:n,to:t})):h instanceof Error?l(h):Uq(h)?l(Ia(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),u())},p=e.call(r&&r.instances[o],t,n,f);let g=Promise.resolve(p);e.length<3&&(g=g.then(f)),g.catch(h=>l(h))})}function pg(e,t,n,r){const o=[];for(const s of e)for(const u in s.components){let l=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(m3(l)){const p=(l.__vccOpts||l)[t];p&&o.push(Di(p,n,r,s,u))}else{let f=l();o.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));const g=bq(p)?p.default:p;s.components[u]=g;const m=(g.__vccOpts||g)[t];return m&&Di(m,n,r,s,u)()}))}}return o}function m3(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function CT(e){const t=fr(l_),n=fr(Sx),r=qe(()=>t.resolve(Re(e.to))),o=qe(()=>{const{matched:f}=r.value,{length:p}=f,g=f[p-1],h=n.matched;if(!g||!h.length)return-1;const m=h.findIndex(ba.bind(null,g));if(m>-1)return m;const y=OT(f[p-2]);return p>1&&OT(g)===y&&h[h.length-1].path!==y?h.findIndex(ba.bind(null,f[p-2])):m}),s=qe(()=>o.value>-1&&_3(n.params,r.value.params)),u=qe(()=>o.value>-1&&o.value===n.matched.length-1&&mx(n.params,r.value.params));function l(f={}){return y3(f)?t[Re(e.replace)?"replace":"push"](Re(e.to)).catch(ju):Promise.resolve()}return{route:r,href:qe(()=>r.value.href),isActive:s,isExactActive:u,navigate:l}}const g3=gc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:CT,setup(e,{slots:t}){const n=fi(CT(e)),{options:r}=fr(l_),o=qe(()=>({[NT(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[NT(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Qo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),v3=g3;function y3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function _3(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Cr(o)||o.length!==r.length||r.some((s,u)=>s!==o[u]))return!1}return!0}function OT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const NT=(e,t,n)=>e??t??n,w3=gc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=fr(pv),o=qe(()=>e.route||r.value),s=fr(xT,0),u=qe(()=>{let p=Re(s);const{matched:g}=o.value;let h;for(;(h=g[p])&&!h.components;)p++;return p}),l=qe(()=>o.value.matched[u.value]);Qs(xT,qe(()=>u.value+1)),Qs(p3,l),Qs(pv,o);const f=En();return Zn(()=>[f.value,l.value,e.name],([p,g,h],[m,y,_])=>{g&&(g.instances[h]=p,y&&y!==g&&p&&p===m&&(g.leaveGuards.size||(g.leaveGuards=y.leaveGuards),g.updateGuards.size||(g.updateGuards=y.updateGuards))),p&&g&&(!y||!ba(g,y)||!m)&&(g.enterCallbacks[h]||[]).forEach(I=>I(p))},{flush:"post"}),()=>{const p=o.value,g=e.name,h=l.value,m=h&&h.components[g];if(!m)return RT(n.default,{Component:m,route:p});const y=h.props[g],_=y?y===!0?p.params:typeof y=="function"?y(p):y:null,E=Qo(m,ot({},_,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[g]=null)},ref:f}));return RT(n.default,{Component:E,route:p})||E}}});function RT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const b3=w3;function I3(e){const t=Xq(e.routes,e),n=e.parseQuery||h3,r=e.stringifyQuery||kT,o=e.history,s=Eu(),u=Eu(),l=Eu(),f=dS(Oi);let p=Oi;Ks&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=hg.bind(null,F=>""+F),h=hg.bind(null,f3),m=hg.bind(null,oh);function y(F,K){let ne,fe;return vx(F)?(ne=t.getRecordMatcher(F),fe=K):fe=F,t.addRoute(fe,ne)}function _(F){const K=t.getRecordMatcher(F);K&&t.removeRoute(K)}function I(){return t.getRoutes().map(F=>F.record)}function E(F){return!!t.getRecordMatcher(F)}function T(F,K){if(K=ot({},K||f.value),typeof F=="string"){const R=dg(n,F,K.path),j=t.resolve({path:R.path},K),$=o.createHref(R.fullPath);return ot(R,j,{params:m(j.params),hash:oh(R.hash),redirectedFrom:void 0,href:$})}let ne;if("path"in F)ne=ot({},F,{path:dg(n,F.path,K.path).path});else{const R=ot({},F.params);for(const j in R)R[j]==null&&delete R[j];ne=ot({},F,{params:h(R)}),K.params=h(K.params)}const fe=t.resolve(ne,K),Ne=F.hash||"";fe.params=g(m(fe.params));const A=Tq(r,ot({},F,{hash:u3(Ne),path:fe.path})),x=o.createHref(A);return ot({fullPath:A,hash:Ne,query:r===kT?d3(F.query):F.query||{}},fe,{redirectedFrom:void 0,href:x})}function C(F){return typeof F=="string"?dg(n,F,f.value.path):ot({},F)}function P(F,K){if(p!==F)return Ia(8,{from:K,to:F})}function L(F){return ue(F)}function X(F){return L(ot(C(F),{replace:!0}))}function U(F){const K=F.matched[F.matched.length-1];if(K&&K.redirect){const{redirect:ne}=K;let fe=typeof ne=="function"?ne(F):ne;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=C(fe):{path:fe},fe.params={}),ot({query:F.query,hash:F.hash,params:"path"in fe?{}:F.params},fe)}}function ue(F,K){const ne=p=T(F),fe=f.value,Ne=F.state,A=F.force,x=F.replace===!0,R=U(ne);if(R)return ue(ot(C(R),{state:typeof R=="object"?ot({},Ne,R.state):Ne,force:A,replace:x}),K||ne);const j=ne;j.redirectedFrom=K;let $;return!A&&Sq(r,fe,ne)&&($=Ia(16,{to:j,from:fe}),$t(fe,fe,!0,!1)),($?Promise.resolve($):k(j,fe)).catch(Q=>ni(Q)?ni(Q,2)?Q:Et(Q):ye(Q,j,fe)).then(Q=>{if(Q){if(ni(Q,2))return ue(ot({replace:x},C(Q.to),{state:typeof Q.to=="object"?ot({},Ne,Q.to.state):Ne,force:A}),K||j)}else Q=oe(j,fe,!0,x,Ne);return Oe(j,fe,Q),Q})}function V(F,K){const ne=P(F,K);return ne?Promise.reject(ne):Promise.resolve()}function H(F){const K=qn.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(F):F()}function k(F,K){let ne;const[fe,Ne,A]=E3(F,K);ne=pg(fe.reverse(),"beforeRouteLeave",F,K);for(const R of fe)R.leaveGuards.forEach(j=>{ne.push(Di(j,F,K))});const x=V.bind(null,F,K);return ne.push(x),_e(ne).then(()=>{ne=[];for(const R of s.list())ne.push(Di(R,F,K));return ne.push(x),_e(ne)}).then(()=>{ne=pg(Ne,"beforeRouteUpdate",F,K);for(const R of Ne)R.updateGuards.forEach(j=>{ne.push(Di(j,F,K))});return ne.push(x),_e(ne)}).then(()=>{ne=[];for(const R of A)if(R.beforeEnter)if(Cr(R.beforeEnter))for(const j of R.beforeEnter)ne.push(Di(j,F,K));else ne.push(Di(R.beforeEnter,F,K));return ne.push(x),_e(ne)}).then(()=>(F.matched.forEach(R=>R.enterCallbacks={}),ne=pg(A,"beforeRouteEnter",F,K),ne.push(x),_e(ne))).then(()=>{ne=[];for(const R of u.list())ne.push(Di(R,F,K));return ne.push(x),_e(ne)}).catch(R=>ni(R,8)?R:Promise.reject(R))}function Oe(F,K,ne){l.list().forEach(fe=>H(()=>fe(F,K,ne)))}function oe(F,K,ne,fe,Ne){const A=P(F,K);if(A)return A;const x=K===Oi,R=Ks?history.state:{};ne&&(fe||x?o.replace(F.fullPath,ot({scroll:x&&R&&R.scroll},Ne)):o.push(F.fullPath,Ne)),f.value=F,$t(F,K,ne,x),Et()}let xe;function Fe(){xe||(xe=o.listen((F,K,ne)=>{if(!ge.listening)return;const fe=T(F),Ne=U(fe);if(Ne){ue(ot(Ne,{replace:!0}),fe).catch(ju);return}p=fe;const A=f.value;Ks&&Pq(_T(A.fullPath,ne.delta),cd()),k(fe,A).catch(x=>ni(x,12)?x:ni(x,2)?(ue(x.to,fe).then(R=>{ni(R,20)&&!ne.delta&&ne.type===pc.pop&&o.go(-1,!1)}).catch(ju),Promise.reject()):(ne.delta&&o.go(-ne.delta,!1),ye(x,fe,A))).then(x=>{x=x||oe(fe,A,!1),x&&(ne.delta&&!ni(x,8)?o.go(-ne.delta,!1):ne.type===pc.pop&&ni(x,20)&&o.go(-1,!1)),Oe(fe,A,x)}).catch(ju)}))}let He=Eu(),le=Eu(),Ve;function ye(F,K,ne){Et(F);const fe=le.list();return fe.length?fe.forEach(Ne=>Ne(F,K,ne)):console.error(F),Promise.reject(F)}function ht(){return Ve&&f.value!==Oi?Promise.resolve():new Promise((F,K)=>{He.add([F,K])})}function Et(F){return Ve||(Ve=!F,Fe(),He.list().forEach(([K,ne])=>F?ne(F):K()),He.reset()),F}function $t(F,K,ne,fe){const{scrollBehavior:Ne}=e;if(!Ks||!Ne)return Promise.resolve();const A=!ne&&Dq(_T(F.fullPath,0))||(fe||!ne)&&history.state&&history.state.scroll||null;return ii().then(()=>Ne(F,K,A)).then(x=>x&&Rq(x)).catch(x=>ye(x,F,K))}const Pt=F=>o.go(F);let dt;const qn=new Set,ge={currentRoute:f,listening:!0,addRoute:y,removeRoute:_,hasRoute:E,getRoutes:I,resolve:T,options:e,push:L,replace:X,go:Pt,back:()=>Pt(-1),forward:()=>Pt(1),beforeEach:s.add,beforeResolve:u.add,afterEach:l.add,onError:le.add,isReady:ht,install(F){const K=this;F.component("RouterLink",v3),F.component("RouterView",b3),F.config.globalProperties.$router=K,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>Re(f)}),Ks&&!dt&&f.value===Oi&&(dt=!0,L(o.location).catch(Ne=>{}));const ne={};for(const Ne in Oi)Object.defineProperty(ne,Ne,{get:()=>f.value[Ne],enumerable:!0});F.provide(l_,K),F.provide(Sx,cS(ne)),F.provide(pv,f);const fe=F.unmount;qn.add(F),F.unmount=function(){qn.delete(F),qn.size<1&&(p=Oi,xe&&xe(),xe=null,f.value=Oi,dt=!1,Ve=!1),fe()}}};function _e(F){return F.reduce((K,ne)=>K.then(()=>H(ne)),Promise.resolve())}return ge}function E3(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const l=t.matched[u];l&&(e.matched.find(p=>ba(p,l))?r.push(l):n.push(l));const f=e.matched[u];f&&(t.matched.find(p=>ba(p,f))||o.push(f))}return[n,r,o]}const T3={name:"SongItem",props:{song:Object}},S3={class:"cursor-pointer transition duration-300 text-gray-400 hover:text-white"},A3={class:"overflow-hidden"},k3=["src"],x3={class:"w-full pt-2"},C3={class:"truncate text-l md:text-2xl"},O3={class:"flex justify-between items-center pt-1 text-gray-600 text-sm md:text-lg"},N3=D("i",{class:"fa fa-comments text-gray-600"},null,-1);function R3(e,t,n,r,o,s){const u=It("router-link");return je(),Qe("li",S3,[Ae(u,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block hover:text-white"},{default:fn(()=>[D("div",A3,[D("img",{src:n.song.img_url,class:"w-full h-auto transition duration-700 hover:scale-110"},null,8,k3)]),D("div",x3,[D("div",C3,Ft(n.song.modified_name),1),D("div",O3,[D("span",null,Ft(n.song.display_name),1),D("div",null,[D("span",{class:"comments",onClick:t[0]||(t[0]=(...l)=>e.navigate&&e.navigate(...l))},[N3,wn(" "+Ft(n.song.comment_count),1)])])])])]),_:1},8,["to"])])}const P3=nr(T3,[["render",R3]]),D3="/MusicLand/assets/introduction-music-ebd5a88b.png",L3={components:{AppSongItem:P3},data(){return{songs:[],maxPerPage:6,pendingRequest:!1}},beforeCreate(){window.addEventListener("scroll",this.getSongs)},beforeUnmount(){window.removeEventListener("scroll",this.getSongs)},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await zr.doc(this.songs[this.songs.length-1].docID).get();e=await zr.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get(),e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})})}else e=await zr.orderBy("modified_name").limit(this.maxPerPage).get(),e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})});this.pendingRequest=!1}}},M3=OD('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto"> Make your first playlist in less than a minute. Playlist was built to give you the power to make the perfect mix for any moment, right when you need it. Stop endlessly scrolling for music. </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+D3+'"></section>',1),F3={class:"container mx-auto p-5"},V3={class:"bg-gray-800 relative flex flex-col"},U3={class:"px-6 pt-6 pb-5 font-bold text-2xl items-center text-white justify-center flex flex-row-reverse"},j3=D("span",{class:"card-title"},"Songs",-1),B3=[j3],q3={id:"playlist",class:"grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-10"};function $3(e,t,n,r,o,s){const u=It("app-song-item"),l=Fv("icon");return je(),Qe("main",null,[M3,D("section",F3,[D("div",V3,[Hi((je(),Qe("div",U3,B3)),[[l,"headphones-alt"]]),D("ol",q3,[(je(!0),Qe(Yt,null,vc(o.songs,f=>(je(),Wi(u,{key:f.docID,song:f},null,8,["song"]))),128))])])])])}const H3=nr(L3,[["render",$3]]),K3={},G3={class:"about"},z3=D("h1",null,"This is an about page",-1),W3=[z3];function X3(e,t){return je(),Qe("div",G3,W3)}const Y3=nr(K3,[["render",X3]]),Q3={data(){return{is_dragOver:!1,uploads:[],defaultmusicAddress:""}},props:{addSong:{type:Function,required:!0}},async created(){this.defaultmusicAddress=await rh.getStaticImage("defult-music.jpg")},methods:{upload(e){this.is_dragOver=!1,(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(n=>{if(n.type!=="audio/mpeg")return;const s=fv.ref().child(`songs/${n.name}`).put(n),u=this.uploads.push({task:s,current_progress:0,name:n.name,icon:"fas fa-spinner fa-spin",variant:"bg-blue-400",text_class:""})-1;s.on("state_changed",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[u].current_progress=f},l=>{this.uploads[u].variant="bg-red-400",this.uploads[u].icon="fas fa-times",this.uploads[u].text_class="text-red-400",console.log(l)},async()=>{const l={uid:Gr.currentUser.uid,display_name:Gr.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,gener:"",comment_count:0,img_url:this.defaultmusicAddress};l.url=await s.snapshot.ref.getDownloadURL();const p=await(await zr.add(l)).get();this.uploads[u].variant="bg-green-400",this.uploads[u].icon="fas fa-check",this.uploads[u].text_class="text-green-400",this.addSong(p),setTimeout(()=>{this.uploads[u].current_progress=0},3e3)})})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},J3={class:"rounded border border-gray-500 relative flex flex-col"},Z3={class:"px-6 py-5 font-bold text-2xl items-center text-white justify-end flex flex-row-reverse"},e4=D("span",{class:"card-title"},"Upload",-1),t4=[e4],n4={class:"p-6"},r4=D("h5",null,"Drop your files here",-1),i4=[r4],o4=D("hr",{class:"my-6"},null,-1),s4={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function a4(e,t,n,r,o,s){const u=Fv("icon");return je(),Qe("div",J3,[Hi((je(),Qe("div",Z3,t4)),[[u,"upload"]]),D("div",n4,[D("div",{class:Ut(["hidden md:block w-full bg-gray-700 px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-violet-200 hover:border-violet-200 hover:border-solid",{"bg-violet-400 border-violet-400 border-solid":o.is_dragOver}]),onDragenter:t[0]||(t[0]=Nt(l=>o.is_dragOver=!0,["prevent","stop"])),onDragend:t[1]||(t[1]=Nt(l=>o.is_dragOver=!1,["prevent","stop"])),onDragexit:t[2]||(t[2]=Nt(()=>{},["prevent","stop"])),onDragover:t[3]||(t[3]=Nt(l=>o.is_dragOver=!0,["prevent","stop"])),onDragleave:t[4]||(t[4]=Nt(l=>o.is_dragOver=!1,["prevent","stop"])),onDragstart:t[5]||(t[5]=Nt(()=>{},["prevent","stop"])),onDrop:t[6]||(t[6]=Nt(l=>s.upload(l),["prevent","stop"]))},i4,34),D("input",{class:"text-white",type:"file",multiple:"",onChange:t[7]||(t[7]=l=>s.upload(l))},null,32),o4,(je(!0),Qe(Yt,null,vc(o.uploads,l=>(je(),Qe("div",{class:"mb-4",key:l.name},[l.current_progress>0?(je(),Qe(Yt,{key:0},[D("div",{class:Ut(["text-gray-300 font-bold text-sm",l.text_class])},[D("i",{class:Ut(l.icon)},null,2),wn(" "+Ft(l.name),1)],2),D("div",s4,[D("div",{class:Ut(["transition-all progress-bar",l.variant]),style:Yo({width:l.current_progress+"%"})},null,6)])],64)):Yi("",!0)]))),128))])])}const u4=nr(Q3,[["render",a4]]),c4={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function,required:!0},updateSongImg:{type:Function,required:!0}},data(){return{showForm:!1,validForm:{modified_name:"required",gener:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info.",uploadImg:{current_progress:0,variant:"bg-blue-400"}}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please wait! Updating song info.",console.log("values:",e);try{await zr.doc(this.song.docID).update({modified_name:e.modified_name,gener:e.gener})}catch{this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Please try later.";return}this.updateSong(this.index,e),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!!",this.updateUnsavedFlag(!1),setTimeout(()=>{this.show_alert=!1,this.showForm=!1},3e3)},async deleteSong(){await fv.ref().child(`songs/${this.song.original_name}`).delete(),await zr.doc(this.song.docID).delete(),this.removeSong(this.index)},uploadImage(e){[...e.target.files].forEach(n=>{if(n.type!=="image/jpeg"&&n.type!=="image/png"&&n.type!=="image/jpg")return;const s=fv.ref().child(`images/${n.name}`).put(n);s.on("state_changed",u=>{const l=u.bytesTransferred/u.totalBytes*100;this.uploadImg.current_progress=l},u=>{console.log(u)},async()=>{this.uploadImg.variant="bg-green-400";const u=await s.snapshot.ref.getDownloadURL();await zr.doc(this.song.docID).update("img_url",u),this.updateSongImg(this.index,u),setTimeout(()=>{this.uploadImg.current_progress=0},3e3)})})}}},l4={class:"border border-gray-500 p-3 py-5 mb-4 rounded"},f4=["src"],h4=D("i",{class:"fa fa-times"},null,-1),d4=[h4],p4=D("i",{class:"fa fa-pencil-alt"},null,-1),m4=[p4],g4=D("label",{class:"cursor-pointer"},[D("input",{type:"file",id:"img"}),D("i",{class:"fa fa-image"})],-1),v4=[g4],y4={class:"float-none md:float-right w-1/2 md:w-1/5 mt-6 md:my-1.5"},_4={class:"flex h-4 overflow-hidden bg-gray-200 rounded"},w4={class:"mb-3"},b4=D("label",{class:"inline-block text-white mb-2"},"Song Title",-1),I4={class:"mb-3"},E4=D("label",{class:"inline-block text-white mb-2"},"Genre",-1),T4=["disabled"],S4=["disabled"];function A4(e,t,n,r,o,s){const u=It("router-link"),l=It("vee-field"),f=It("ErrorMessage"),p=It("vee-form");return je(),Qe("div",l4,[Hi(D("div",null,[D("img",{src:n.song.img_url,class:"float-left h-7 mr-2"},null,8,f4),Ae(u,{to:{name:"song",params:{id:n.song.docID}},class:"inline-block text-sm md:text-xl text-gray-300 hover:font-bold hover:text-white w-1/2"},{default:fn(()=>[wn(Ft(n.song.modified_name),1)]),_:1},8,["to"]),D("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white border-b border-l border-red-600 float-right transition duration-100 hover:bg-red-600",onClick:t[0]||(t[0]=Nt((...g)=>s.deleteSong&&s.deleteSong(...g),["prevent"]))},d4),D("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white border-b border-l border-cyan-600 float-right transition duration-100 hover:bg-cyan-600",onClick:t[1]||(t[1]=Nt(g=>o.showForm=!o.showForm,["prevent"]))},m4),D("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white border-b border-l border-yellow-600 float-right transition duration-100 hover:bg-yellow-600",onChange:t[2]||(t[2]=Nt(g=>s.uploadImage(g),["prevent"]))},v4,32),Hi(D("div",y4,[D("div",_4,[D("div",{class:Ut(["transition-all progress-bar",o.uploadImg.variant]),style:Yo({width:o.uploadImg.current_progress+"%"})},null,6)])],512),[[zm,o.uploadImg.current_progress>0]])],512),[[zm,!o.showForm]]),Hi(D("div",null,[o.show_alert?(je(),Qe("div",{key:0,class:Ut(["text-white text-center font-bold rounded p-4 mb-4",o.alert_variant])},Ft(o.alert_message),3)):Yi("",!0),Ae(p,{"validation-schema":o.validForm,"initial-values":n.song,onSubmit:s.edit},{default:fn(()=>[D("div",w4,[b4,Ae(l,{type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",name:"modified_name",onInput:t[3]||(t[3]=g=>n.updateUnsavedFlag(!0))}),Ae(f,{class:"text-red-500 block",name:"modified_name"})]),D("div",I4,[E4,Ae(l,{type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",name:"gener",onInput:t[4]||(t[4]=g=>n.updateUnsavedFlag(!0))}),Ae(f,{class:"text-red-500 block",name:"gener"})]),D("button",{type:"submit",class:"py-1.5 px-3 mr-1.5 rounded text-white bg-green-600",disabled:o.in_submission},"Submit",8,T4),D("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[5]||(t[5]=Nt(g=>o.showForm=!1,["prevent"]))},"Go Back",8,S4)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[zm,o.showForm]])])}const k4=nr(c4,[["render",A4]]),x4={name:"manage",components:{AppUpload:u4,CompositionItem:k4},data(){return{songs:[],unsavedFlag:!1}},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].gener=t.gener},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e},updateSongImg(e,t){this.songs[e].img_url=t}},beforeRouteEnter(e,t,n){La().userLoggedIn?n():n({name:"home"})},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const r=confirm("You have unsaved changes. Are you sure you want to leave?");n(r)}},async created(){(await zr.where("uid","==",Gr.currentUser.uid).get()).forEach(this.addSong)}},C4={class:"p-5 container mx-auto"},O4={class:"grid grid-cols-1 md:grid-cols-3 gap-0 md:gap-10"},N4={class:"col-span-1"},R4={class:"mt-8 md:mt-0 col-span-2"},P4={class:"relative flex flex-col"},D4={class:"py-5 font-bold text-2xl items-center text-white justify-end flex flex-row-reverse"},L4=D("span",{class:"card-title"},"My Songs",-1),M4=[L4],F4={class:""};function V4(e,t,n,r,o,s){const u=It("app-upload"),l=It("composition-item"),f=Fv("icon");return je(),Qe("section",C4,[D("div",O4,[D("div",N4,[Ae(u,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),D("div",R4,[D("div",P4,[Hi((je(),Qe("div",D4,M4)),[[f,"compact-disc"]]),D("div",F4,[(je(!0),Qe(Yt,null,vc(o.songs,(p,g)=>(je(),Wi(l,{key:p.docID,song:p,updateSong:s.updateSong,updateSongImg:s.updateSongImg,index:g,removeSong:s.removeSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","updateSong","updateSongImg","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const U4=nr(x4,[["render",V4]]);/**
  * vee-validate v4.10.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function tn(e){return typeof e=="function"}function Ax(e){return e==null}const os=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function f_(e){return Number(e)>=0}function j4(e){const t=parseFloat(e);return isNaN(t)?e:t}function B4(e){return typeof e=="object"&&e!==null}function q4(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function $4(e){if(!B4(e)||q4(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function sh(e,t){return Object.keys(t).forEach(n=>{if($4(t[n])){e[n]||(e[n]={}),sh(e[n],t[n]);return}e[n]=t[n]}),e}function Ou(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++){if(f_(t[r])){n+=`[${t[r]}]`;continue}n+=`.${t[r]}`}return n}const kx={};function yr(e,t){K4(e,t),kx[e]=t}function H4(e){return kx[e]}function K4(e,t){if(!tn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const ld=Symbol("vee-validate-form"),G4=Symbol("vee-validate-field-instance"),ah=Symbol("Default empty value"),z4=typeof window<"u";function mv(e){return tn(e)&&!!e.__locatorRef}function Zi(e){return!!e&&tn(e.parse)&&e.__type==="VVTypedSchema"}function uh(e){return!!e&&tn(e.validate)}function jc(e){return e==="checkbox"||e==="radio"}function W4(e){return os(e)||Array.isArray(e)}function X4(e){return Array.isArray(e)?e.length===0:os(e)&&Object.keys(e).length===0}function fd(e){return/^\[.+\]$/i.test(e)}function Y4(e){return xx(e)&&e.multiple}function xx(e){return e.tagName==="SELECT"}function Q4(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function J4(e,t){return!Q4(e,t)&&t.type!=="file"&&!jc(t.type)}function Cx(e){return h_(e)&&e.target&&"submit"in e.target}function h_(e){return e?!!(typeof Event<"u"&&tn(Event)&&e instanceof Event||e&&e.srcElement):!1}function PT(e,t){return t in e&&e[t]!==ah}function xn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!xn(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!xn(r[1],t.get(r[0])))return!1;return!0}if(DT(e)&&DT(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,r=n;r--!==0;){var s=o[r];if(!xn(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function DT(e){return z4?e instanceof File:!1}function LT(e,t,n){typeof n.value=="object"&&(n.value=gt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function gt(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(u){o.add(gt(u))})):s==="[object Map]"?(o=new Map,e.forEach(function(u,l){o.set(gt(l),gt(u))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(gt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)LT(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||LT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function d_(e){return fd(e)?e.replace(/\[|\]/gi,""):e}function Dn(e,t,n){return e?fd(t)?e[d_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>W4(o)&&s in o?o[s]:n,e):n}function Do(e,t,n){if(fd(t)){e[d_(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||Ax(o[r[s]]))&&(o[r[s]]=f_(r[s+1])?[]:{}),o=o[r[s]]}}function mg(e,t){if(Array.isArray(e)&&f_(t)){e.splice(Number(t),1);return}os(e)&&delete e[t]}function MT(e,t){if(fd(t)){delete e[d_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){mg(r,n[s]);break}if(!(n[s]in r)||Ax(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,u)=>Dn(e,n.slice(0,u).join(".")));for(let s=o.length-1;s>=0;s--)if(X4(o[s])){if(s===0){mg(e,n[0]);continue}mg(o[s-1],n[s-1])}}function Br(e){return Object.keys(e)}function Ox(e,t=void 0){const n=yc();return(n==null?void 0:n.provides[e])||fr(e,t)}function FT(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>xn(s,t));return o>=0?r.splice(o,1):r.push(t),r}return xn(e,t)?n:t}function VT(e,t=0){let n=null,r=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...o);r.forEach(u=>u(s)),r=[]},t),new Promise(s=>r.push(s))}}function Z4(e,t){return os(t)&&t.number?j4(e):e}function gv(e,t){let n;return async function(...o){const s=e(...o);n=s;const u=await s;return s!==n||(n=void 0,t(u,o)),u}}function vv(e){return Array.isArray(e)?e:e?[e]:[]}function Tu(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function e$(e){let t=null,n=[];return function(...r){const o=ii(()=>{if(t!==o)return;const s=e(...r);n.forEach(u=>u(s)),n=[],t=null});return t=o,new Promise(s=>n.push(s))}}const p_=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default;function gg(e){if(Nx(e))return e._value}function Nx(e){return"_value"in e}function t$(e){return e.type==="number"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function ch(e){if(!h_(e))return e;const t=e.target;if(jc(t.type)&&Nx(t))return gg(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(Y4(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(gg);if(xx(t)){const n=Array.from(t.options).find(r=>r.selected);return n?gg(n):t.value}return t$(t)}function Rx(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?os(e)&&e._$$isNormalized?e:os(e)?Object.keys(e).reduce((n,r)=>{const o=n$(e[r]);return e[r]!==!1&&(n[r]=UT(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=r$(r);return o.name&&(n[o.name]=UT(o.params)),n},t):t}function n$(e){return e===!0?[]:Array.isArray(e)||os(e)?e:[e]}function UT(e){const t=n=>typeof n=="string"&&n[0]==="@"?i$(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const r$=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function i$(e){const t=n=>Dn(n,e)||n[e];return t.__locatorRef=e,t}function o$(e){return Array.isArray(e)?e.filter(mv):Br(e).filter(t=>mv(e[t])).map(t=>e[t])}const s$={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let yv=Object.assign({},s$);const ji=()=>yv,a$=e=>{yv=Object.assign(Object.assign({},yv),e)},u$=a$;async function Px(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},u=(await c$(o,e)).errors;return{errors:u,valid:!u.length}}async function c$(e,t){if(Zi(e.rules)||uh(e.rules))return f$(t,e.rules);if(tn(e.rules)||Array.isArray(e.rules)){const u={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,p=[];for(let g=0;g<f;g++){const h=l[g],m=await h(t,u);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))p.push(...m);else{const _=typeof m=="string"?m:Lx(u);p.push(_)}if(e.bails)return{errors:p}}}return{errors:p}}const n=Object.assign(Object.assign({},e),{rules:Rx(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let u=0;u<s;u++){const l=o[u],f=await h$(n,t,{name:l,params:n.rules[l]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}function l$(e){return!!e&&e.name==="ValidationError"}function Dx(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!l$(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((u,l)=>{const f=l.path||"";return u[f]||(u[f]={errors:[],path:f}),u[f].errors.push(...l.errors),u},{});return{errors:Object.values(s)}}}}}async function f$(e,t){const r=await(Zi(t)?t:Dx(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function h$(e,t,n){const r=H4(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=d$(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},u=await r(t,o,s);return typeof u=="string"?{error:u}:{error:u?void 0:Lx(s)}}function Lx(e){const t=ji().generateMessage;return t?t(e):"Field is invalid"}function d$(e,t){const n=r=>mv(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function p$(e,t){const r=await(Zi(e)?e:Dx(e)).parse(t),o={},s={};for(const u of r.errors){const l=u.errors,f=(u.path||"").replace(/\["(\d+)"\]/g,(p,g)=>`[${g}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function m$(e,t,n){const o=Br(e).map(async p=>{var g,h,m;const y=(g=n==null?void 0:n.names)===null||g===void 0?void 0:g[p],_=await Px(Dn(t,p),e[p],{name:(y==null?void 0:y.name)||p,label:y==null?void 0:y.label,values:t,bails:(m=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[p])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:p})});let s=!0;const u=await Promise.all(o),l={},f={};for(const p of u)l[p.path]={valid:p.valid,errors:p.errors},p.valid||(s=!1,f[p.path]=p.errors[0]);return{valid:s,results:l,errors:f}}let jT=0;function g$(e,t){const{value:n,initialValue:r,setInitialValue:o}=v$(e,t.modelValue,t.form);if(!t.form){let m=function(_){var I;"value"in _&&(n.value=_.value),"errors"in _&&p(_.errors),"touched"in _&&(h.touched=(I=_.touched)!==null&&I!==void 0?I:h.touched),"initialValue"in _&&o(_.initialValue)};var l=m;const{errors:f,setErrors:p}=w$(),g=jT>=Number.MAX_SAFE_INTEGER?0:++jT,h=_$(n,r,f);return{id:g,path:e,value:n,initialValue:r,meta:h,flags:{pendingUnmount:{[g]:!1}},errors:f,setState:m}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),u=qe(()=>s.errors);function l(f){var p,g,h;"value"in f&&(n.value=f.value),"errors"in f&&((p=t.form)===null||p===void 0||p.setFieldError(Re(e),f.errors)),"touched"in f&&((g=t.form)===null||g===void 0||g.setFieldTouched(Re(e),(h=f.touched)!==null&&h!==void 0?h:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:u,meta:s,initialValue:r,flags:s.__flags,setState:l}}function v$(e,t,n){const r=En(Re(t));function o(){return n?Dn(n.initialValues.value,Re(e),Re(r)):Re(r)}function s(p){if(!n){r.value=p;return}n.stageInitialValue(Re(e),p,!0)}const u=qe(o);if(!n)return{value:En(o()),initialValue:u,setInitialValue:s};const l=y$(t,n,u,e);return n.stageInitialValue(Re(e),l,!0),{value:qe({get(){return Dn(n.values,Re(e))},set(p){n.setFieldValue(Re(e),p,!1)}}),initialValue:u,setInitialValue:s}}function y$(e,t,n,r){return lt(e)?Re(e):e!==void 0?e:Dn(t.values,Re(r),Re(n))}function _$(e,t,n){const r=fi({touched:!1,pending:!1,valid:!0,validated:!!Re(n).length,initialValue:qe(()=>Re(t)),dirty:qe(()=>!xn(Re(e),Re(t)))});return Zn(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function w$(){const e=En([]);return{errors:e,setErrors:t=>{e.value=vv(t)}}}function b$(e,t,n){return jc(n==null?void 0:n.type)?E$(e,t,n):Mx(e,t,n)}function Mx(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:u,checkedValue:l,label:f,validateOnValueUpdate:p,uncheckedValue:g,controlled:h,keepValueOnUnmount:m,syncVModel:y,form:_}=I$(n),I=h?Ox(ld):void 0,E=_||I,T=qe(()=>Ou(wr(e))),C=qe(()=>{if(Re(E==null?void 0:E.schema))return;const _e=Re(t);return uh(_e)||Zi(_e)||tn(_e)||Array.isArray(_e)?_e:Rx(_e)}),{id:P,value:L,initialValue:X,meta:U,setState:ue,errors:V,flags:H}=g$(T,{modelValue:r,form:E,bails:s,label:f,type:u,validate:C.value?He:void 0}),k=qe(()=>V.value[0]);y&&T$({value:L,prop:y,handleChange:le});const Oe=(ge,_e=!1)=>{U.touched=!0,_e&&xe()};async function oe(ge){var _e,F;return E!=null&&E.validateSchema?(_e=(await E.validateSchema(ge)).results[Re(T)])!==null&&_e!==void 0?_e:{valid:!0,errors:[]}:C.value?Px(L.value,C.value,{name:Re(T),label:Re(f),values:(F=E==null?void 0:E.values)!==null&&F!==void 0?F:{},bails:s}):{valid:!0,errors:[]}}const xe=gv(async()=>(U.pending=!0,U.validated=!0,oe("validated-only")),ge=>{if(!H.pendingUnmount[dt.id])return ue({errors:ge.errors}),U.pending=!1,U.valid=ge.valid,ge}),Fe=gv(async()=>oe("silent"),ge=>(U.valid=ge.valid,ge));function He(ge){return(ge==null?void 0:ge.mode)==="silent"?Fe():xe()}function le(ge,_e=!0){const F=ch(ge);Et(F,_e)}_h(()=>{if(o)return xe();(!E||!E.validateSchema)&&Fe()});function Ve(ge){U.touched=ge}function ye(ge){var _e;const F=ge&&"value"in ge?ge.value:X.value;ue({value:gt(F),initialValue:gt(F),touched:(_e=ge==null?void 0:ge.touched)!==null&&_e!==void 0?_e:!1,errors:(ge==null?void 0:ge.errors)||[]}),U.pending=!1,U.validated=!1,Fe()}const ht=yc();function Et(ge,_e=!0){L.value=ht&&y?Z4(ge,ht.props.modelModifiers):ge,(_e?xe:Fe)()}function $t(ge){ue({errors:Array.isArray(ge)?ge:[ge]})}const Pt=qe({get(){return L.value},set(ge){Et(ge,p)}}),dt={id:P,name:T,label:f,value:Pt,meta:U,errors:V,errorMessage:k,type:u,checkedValue:l,uncheckedValue:g,bails:s,keepValueOnUnmount:m,resetField:ye,handleReset:()=>ye(),validate:He,handleChange:le,handleBlur:Oe,setState:ue,setTouched:Ve,setErrors:$t,setValue:Et};if(Qs(G4,dt),lt(t)&&typeof Re(t)!="function"&&Zn(t,(ge,_e)=>{xn(ge,_e)||(U.validated?xe():Fe())},{deep:!0}),!E)return dt;const qn=qe(()=>{const ge=C.value;return!ge||tn(ge)||uh(ge)||Zi(ge)||Array.isArray(ge)?{}:Object.keys(ge).reduce((_e,F)=>{const K=o$(ge[F]).map(ne=>ne.__locatorRef).reduce((ne,fe)=>{const Ne=Dn(E.values,fe)||E.values[fe];return Ne!==void 0&&(ne[fe]=Ne),ne},{});return Object.assign(_e,K),_e},{})});return Zn(qn,(ge,_e)=>{if(!Object.keys(ge).length)return;!xn(ge,_e)&&(U.validated?xe():Fe())}),Lv(()=>{var ge;const _e=(ge=Re(dt.keepValueOnUnmount))!==null&&ge!==void 0?ge:Re(E.keepValuesOnUnmount),F=wr(T);if(_e||!E||H.pendingUnmount[dt.id]){E==null||E.removePathState(F,P);return}H.pendingUnmount[dt.id]=!0;const K=E.getPathState(F);if(Array.isArray(K==null?void 0:K.id)&&(K!=null&&K.multiple)?K!=null&&K.id.includes(dt.id):(K==null?void 0:K.id)===dt.id){if(K!=null&&K.multiple&&Array.isArray(K.value)){const fe=K.value.findIndex(Ne=>xn(Ne,Re(dt.checkedValue)));if(fe>-1){const Ne=[...K.value];Ne.splice(fe,1),E.setFieldValue(F,Ne)}Array.isArray(K.id)&&K.id.splice(K.id.indexOf(dt.id),1)}else E.unsetPathValue(wr(T));E.removePathState(F,P)}}),dt}function I$(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),r=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?_v(yc(),r):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,u="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:u??!0,checkedValue:s,syncVModel:l})}function E$(e,t,n){const r=n!=null&&n.standalone?void 0:Ox(ld),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(l){const f=l.handleChange,p=qe(()=>{const h=Re(l.value),m=Re(o);return Array.isArray(h)?h.findIndex(y=>xn(y,m))>=0:xn(m,h)});function g(h,m=!0){var y,_;if(p.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){m&&l.validate();return}const I=wr(e),E=r==null?void 0:r.getPathState(I),T=ch(h);let C=(_=Re(o))!==null&&_!==void 0?_:T;r&&(E!=null&&E.multiple)&&E.type==="checkbox"?C=FT(Dn(r.values,I)||[],C,void 0):(n==null?void 0:n.type)==="checkbox"&&(C=FT(Re(l.value),C,Re(s))),f(C,m)}return Object.assign(Object.assign({},l),{checked:p,checkedValue:o,uncheckedValue:s,handleChange:g})}return u(Mx(e,t,n))}function T$({prop:e,value:t,handleChange:n}){const r=yc();if(!r||!e)return;const o=typeof e=="string"?e:"modelValue",s=`update:${o}`;o in r.props&&(Zn(t,u=>{xn(u,_v(r,o))||r.emit(s,u)}),Zn(()=>_v(r,o),u=>{if(u===ah&&t.value===void 0)return;const l=u===ah?void 0:u;xn(l,t.value)||n(l)}))}function _v(e,t){if(e)return e.props[t]}const S$=gc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>ji().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:ah},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Li(e,"rules"),r=Li(e,"name"),o=Li(e,"label"),s=Li(e,"uncheckedValue"),u=Li(e,"keepValue"),{errors:l,value:f,errorMessage:p,validate:g,handleChange:h,handleBlur:m,setTouched:y,resetField:_,handleReset:I,meta:E,checked:T,setErrors:C}=b$(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:k$(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:u,syncVModel:!0}),P=function(H,k=!0){h(H,k),t.emit("update:modelValue",f.value)},L=qe(()=>{const{validateOnInput:V,validateOnChange:H,validateOnBlur:k,validateOnModelUpdate:Oe}=A$(e);function oe(le){m(le,k),tn(t.attrs.onBlur)&&t.attrs.onBlur(le)}function xe(le){P(le,V),tn(t.attrs.onInput)&&t.attrs.onInput(le)}function Fe(le){P(le,H),tn(t.attrs.onChange)&&t.attrs.onChange(le)}const He={name:e.name,onBlur:oe,onInput:xe,onChange:Fe};return He["onUpdate:modelValue"]=le=>P(le,Oe),He}),X=qe(()=>{const V=Object.assign({},L.value);jc(t.attrs.type)&&T&&(V.checked=T.value);const H=BT(e,t);return J4(H,t.attrs)&&(V.value=f.value),V}),U=qe(()=>Object.assign(Object.assign({},L.value),{modelValue:f.value}));function ue(){return{field:X.value,componentField:U.value,value:f.value,meta:E,errors:l.value,errorMessage:p.value,validate:g,resetField:_,handleChange:P,handleInput:V=>P(V,!1),handleReset:I,handleBlur:L.value.onBlur,setTouched:y,setErrors:C}}return t.expose({setErrors:C,setTouched:y,reset:_,validate:g,handleChange:h}),()=>{const V=wh(BT(e,t)),H=p_(V,t,ue);return V?Qo(V,Object.assign(Object.assign({},t.attrs),X.value),H):H}}});function BT(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function A$(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:u,validateOnBlur:l,validateOnModelUpdate:f}=ji();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function k$(e,t){return jc(t.attrs.type)?PT(e,"modelValue")?e.modelValue:void 0:PT(e,"modelValue")?e.modelValue:t.attrs.value}const x$=S$;let C$=0;const Su=["bails","fieldsCount","id","multiple","type","validate"];function Fx(e){const t=Re(e==null?void 0:e.initialValues)||{},n=Re(e==null?void 0:e.validationSchema);return n&&Zi(n)&&tn(n.cast)?gt(n.cast(t)||{}):gt(t)}function O$(e){var t;const n=C$++;let r=0;const o=En(!1),s=En(!1),u=En(0),l=[],f=fi(Fx(e)),p=En([]),g=En({}),h=En({}),m=e$(()=>{h.value=p.value.reduce((O,N)=>(O[Ou(wr(N.path))]=N,O),{})});function y(O,N){const B=le(O);if(!B){typeof O=="string"&&(g.value[Ou(O)]=vv(N));return}if(typeof O=="string"){const W=Ou(O);g.value[W]&&delete g.value[W]}B.errors=vv(N),B.valid=!B.errors.length}function _(O){Br(O).forEach(N=>{y(N,O[N])})}e!=null&&e.initialErrors&&_(e.initialErrors);const I=qe(()=>{const O=p.value.reduce((N,B)=>(B.errors.length&&(N[B.path]=B.errors),N),{});return Object.assign(Object.assign({},g.value),O)}),E=qe(()=>Br(I.value).reduce((O,N)=>{const B=I.value[N];return B!=null&&B.length&&(O[N]=B[0]),O},{})),T=qe(()=>p.value.reduce((O,N)=>(O[N.path]={name:N.path||"",label:N.label||""},O),{})),C=qe(()=>p.value.reduce((O,N)=>{var B;return O[N.path]=(B=N.bails)!==null&&B!==void 0?B:!0,O},{})),P=Object.assign({},(e==null?void 0:e.initialErrors)||{}),L=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:X,originalInitialValues:U,setInitialValues:ue}=R$(p,f,e),V=N$(p,f,U,E),H=qe(()=>p.value.reduce((O,N)=>{const B=Dn(f,N.path);return Do(O,N.path,B),O},{})),k=e==null?void 0:e.validationSchema;function Oe(O,N){var B,W;const de=qe(()=>Dn(X.value,wr(O))),ce=h.value[wr(O)];if(ce){((N==null?void 0:N.type)==="checkbox"||(N==null?void 0:N.type)==="radio")&&(ce.multiple=!0);const vt=r++;return Array.isArray(ce.id)?ce.id.push(vt):ce.id=[ce.id,vt],ce.fieldsCount++,ce.__flags.pendingUnmount[vt]=!1,ce}const De=qe(()=>Dn(f,wr(O))),Xe=wr(O),Se=r++,Ge=fi({id:Se,path:O,touched:!1,pending:!1,valid:!0,validated:!!(!((B=P[Xe])===null||B===void 0)&&B.length),initialValue:de,errors:dS([]),bails:(W=N==null?void 0:N.bails)!==null&&W!==void 0?W:!1,label:N==null?void 0:N.label,type:(N==null?void 0:N.type)||"default",value:De,multiple:!1,__flags:{pendingUnmount:{[Se]:!1}},fieldsCount:1,validate:N==null?void 0:N.validate,dirty:qe(()=>!xn(Re(De),Re(de)))});return p.value.push(Ge),h.value[Xe]=Ge,m(),E.value[Xe]&&!P[Xe]&&ii(()=>{$(Xe,{mode:"silent"})}),lt(O)&&Zn(O,vt=>{m();const st=gt(De.value);h.value[vt]=Ge,ii(()=>{Do(f,vt,st)})}),Ge}const oe=VT(ie,5),xe=VT(ie,5),Fe=gv(async O=>await O==="silent"?oe():xe(),(O,[N])=>{const B=Br(_e.errorBag.value);return[...new Set([...Br(O.results),...p.value.map(de=>de.path),...B])].sort().reduce((de,ce)=>{const De=ce,Xe=le(De)||Ve(De),Se=(O.results[De]||{errors:[]}).errors,Ge={errors:Se,valid:!Se.length};return de.results[De]=Ge,Ge.valid||(de.errors[De]=Ge.errors[0]),Xe&&g.value[De]&&delete g.value[De],Xe?(Xe.valid=Ge.valid,N==="silent"||N==="validated-only"&&!Xe.validated||y(Xe,Ge.errors),de):(y(De,Se),de)},{valid:O.valid,results:{},errors:{}})});function He(O){p.value.forEach(O)}function le(O){const N=typeof O=="string"?Ou(O):O;return typeof N=="string"?h.value[N]:N}function Ve(O){return p.value.filter(B=>O.startsWith(B.path)).reduce((B,W)=>B?W.path.length>B.path.length?W:B:W,void 0)}let ye=[],ht;function Et(O){return ye.push(O),ht||(ht=ii(()=>{[...ye].sort().reverse().forEach(B=>{MT(f,B)}),ye=[],ht=null})),ht}function $t(O){return function(B,W){return function(ce){return ce instanceof Event&&(ce.preventDefault(),ce.stopPropagation()),He(De=>De.touched=!0),o.value=!0,u.value++,j().then(De=>{const Xe=gt(f);if(De.valid&&typeof B=="function"){const Se=gt(H.value);let Ge=O?Se:Xe;return De.values&&(Ge=De.values),B(Ge,{evt:ce,controlledValues:Se,setErrors:_,setFieldError:y,setTouched:A,setFieldTouched:Ne,setValues:K,setFieldValue:F,resetForm:R,resetField:x})}!De.valid&&typeof W=="function"&&W({values:Xe,evt:ce,errors:De.errors,results:De.results})}).then(De=>(o.value=!1,De),De=>{throw o.value=!1,De})}}}const dt=$t(!1);dt.withControlled=$t(!0);function qn(O,N){const B=p.value.findIndex(de=>de.path===O),W=p.value[B];if(!(B===-1||!W)){if(ii(()=>{$(O,{mode:"silent",warn:!1})}),W.multiple&&W.fieldsCount&&W.fieldsCount--,Array.isArray(W.id)){const de=W.id.indexOf(N);de>=0&&W.id.splice(de,1),delete W.__flags.pendingUnmount[N]}(!W.multiple||W.fieldsCount<=0)&&(p.value.splice(B,1),Q(O),m(),delete h.value[O])}}function ge(O){return He(N=>{N.path.startsWith(O)&&Br(N.__flags.pendingUnmount).forEach(B=>{N.__flags.pendingUnmount[B]=!0})})}const _e={formId:n,values:f,controlledValues:H,errorBag:I,errors:E,schema:k,submitCount:u,meta:V,isSubmitting:o,isValidating:s,fieldArrays:l,keepValuesOnUnmount:L,validateSchema:Re(k)?Fe:void 0,validate:j,setFieldError:y,validateField:$,setFieldValue:F,setValues:K,setErrors:_,setFieldTouched:Ne,setTouched:A,resetForm:R,resetField:x,handleSubmit:dt,stageInitialValue:se,unsetInitialValue:Q,setFieldInitialValue:te,useFieldModel:fe,createPathState:Oe,getPathState:le,unsetPathValue:Et,removePathState:qn,initialValues:X,getAllPathStates:()=>p.value,markForUnmount:ge};function F(O,N,B=!0){const W=gt(N),de=typeof O=="string"?O:O.path;le(de)||Oe(de),Do(f,de,W),B&&$(de)}function K(O,N=!0){sh(f,O),l.forEach(B=>B&&B.reset()),N&&j()}function ne(O){const N=le(Re(O))||Oe(O);return qe({get(){return N.value},set(B){const W=Re(O);F(W,B,!1),N.validated=!0,N.pending=!0,$(W).then(()=>{N.pending=!1})}})}function fe(O){return Array.isArray(O)?O.map(ne):ne(O)}function Ne(O,N){const B=le(O);B&&(B.touched=N)}function A(O){Br(O).forEach(N=>{Ne(N,!!O[N])})}function x(O,N){var B;const W=N&&"value"in N?N.value:Dn(X.value,O);te(O,gt(W)),F(O,W,!1),Ne(O,(B=N==null?void 0:N.touched)!==null&&B!==void 0?B:!1),y(O,(N==null?void 0:N.errors)||[])}function R(O){let N=O!=null&&O.values?O.values:U.value;N=Zi(k)&&tn(k.cast)?k.cast(N):N,ue(N),He(B=>{var W;B.validated=!1,B.touched=((W=O==null?void 0:O.touched)===null||W===void 0?void 0:W[B.path])||!1,F(B.path,Dn(N,B.path),!1),y(B.path,void 0)}),K(N,!1),_((O==null?void 0:O.errors)||{}),u.value=(O==null?void 0:O.submitCount)||0,ii(()=>{j({mode:"silent"})})}async function j(O){const N=(O==null?void 0:O.mode)||"force";if(N==="force"&&He(ce=>ce.validated=!0),_e.validateSchema)return _e.validateSchema(N);s.value=!0;const B=await Promise.all(p.value.map(ce=>ce.validate?ce.validate(O).then(De=>({key:ce.path,valid:De.valid,errors:De.errors})):Promise.resolve({key:ce.path,valid:!0,errors:[]})));s.value=!1;const W={},de={};for(const ce of B)W[ce.key]={valid:ce.valid,errors:ce.errors},ce.errors.length&&(de[ce.key]=ce.errors[0]);return{valid:B.every(ce=>ce.valid),results:W,errors:de}}async function $(O,N){var B;const W=le(O);if(W&&(W.validated=!0),k){const{results:de}=await Fe((N==null?void 0:N.mode)||"validated-only");return de[O]||{errors:[],valid:!0}}return W!=null&&W.validate?W.validate(N):(!W&&(B=N==null?void 0:N.warn),Promise.resolve({errors:[],valid:!0}))}function Q(O){MT(X.value,O)}function se(O,N,B=!1){te(O,N),Do(f,O,N),B&&!(e!=null&&e.initialValues)&&Do(U.value,O,gt(N))}function te(O,N){Do(X.value,O,gt(N))}async function ie(){const O=Re(k);if(!O)return{valid:!0,results:{},errors:{}};s.value=!0;const N=uh(O)||Zi(O)?await p$(O,f):await m$(O,f,{names:T.value,bailsMap:C.value});return s.value=!1,N}const Z=dt((O,{evt:N})=>{Cx(N)&&N.target.submit()});_h(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&A(e.initialTouched),e!=null&&e.validateOnMount){j();return}_e.validateSchema&&_e.validateSchema("silent")}),lt(k)&&Zn(k,()=>{var O;(O=_e.validateSchema)===null||O===void 0||O.call(_e,"validated-only")}),Qs(ld,_e);function be(O,N){const B=le(wr(O))||Oe(O),W=()=>tn(N)?N(Tu(B,Su)):N||{};function de(){var Xe;B.touched=!0,((Xe=W().validateOnBlur)!==null&&Xe!==void 0?Xe:ji().validateOnBlur)&&$(B.path)}function ce(Xe){var Se;const Ge=(Se=W().validateOnModelUpdate)!==null&&Se!==void 0?Se:ji().validateOnModelUpdate;F(B.path,Xe,Ge)}return qe(()=>{if(tn(N)){const Ge=N(B),vt=Ge.model||"modelValue";return Object.assign({onBlur:de,[vt]:B.value,[`onUpdate:${vt}`]:ce},Ge.props||{})}const Xe=(N==null?void 0:N.model)||"modelValue",Se={onBlur:de,[Xe]:B.value,[`onUpdate:${Xe}`]:ce};return N!=null&&N.mapProps?Object.assign(Object.assign({},Se),N.mapProps(Tu(B,Su))):Se})}function pe(O,N){const B=le(wr(O))||Oe(O),W=()=>tn(N)?N(Tu(B,Su)):N||{};function de(){var Se;B.touched=!0,((Se=W().validateOnBlur)!==null&&Se!==void 0?Se:ji().validateOnBlur)&&$(B.path)}function ce(Se){var Ge;const vt=ch(Se),st=(Ge=W().validateOnInput)!==null&&Ge!==void 0?Ge:ji().validateOnInput;F(B.path,vt,st)}function De(Se){var Ge;const vt=ch(Se),st=(Ge=W().validateOnChange)!==null&&Ge!==void 0?Ge:ji().validateOnChange;F(B.path,vt,st)}return qe(()=>{const Se={value:B.value,onChange:De,onInput:ce,onBlur:de};return tn(N)?Object.assign(Object.assign({},Se),N(Tu(B,Su)).attrs||{}):N!=null&&N.mapAttrs?Object.assign(Object.assign({},Se),N.mapAttrs(Tu(B,Su))):Se})}return Object.assign(Object.assign({},_e),{values:Cv(f),handleReset:()=>R(),submitForm:Z,defineComponentBinds:be,defineInputBinds:pe})}function N$(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=qe(()=>!xn(t,Re(n)));function u(){const f=e.value;return Br(o).reduce((p,g)=>{const h=o[g];return p[g]=f[h](m=>m[g]),p},{})}const l=fi(u());return zP(()=>{const f=u();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),qe(()=>Object.assign(Object.assign({initialValues:Re(n)},l),{valid:l.valid&&!Br(r.value).length,dirty:s.value}))}function R$(e,t,n){const r=Fx(n),o=n==null?void 0:n.initialValues,s=En(r),u=En(gt(r));function l(f,p=!1){s.value=sh(gt(s.value)||{},gt(f)),u.value=sh(gt(u.value)||{},gt(f)),p&&e.value.forEach(g=>{if(g.touched)return;const m=Dn(s.value,g.path);Do(t,g.path,gt(m))})}return lt(o)&&Zn(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:u,setInitialValues:l}}const P$=gc({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Li(e,"initialValues"),r=Li(e,"validationSchema"),o=Li(e,"keepValues"),{errors:s,errorBag:u,values:l,meta:f,isSubmitting:p,isValidating:g,submitCount:h,controlledValues:m,validate:y,validateField:_,handleReset:I,resetForm:E,handleSubmit:T,setErrors:C,setFieldError:P,setFieldValue:L,setValues:X,setFieldTouched:U,setTouched:ue,resetField:V}=O$({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),H=T((Ve,{evt:ye})=>{Cx(ye)&&ye.target.submit()},e.onInvalidSubmit),k=e.onSubmit?T(e.onSubmit,e.onInvalidSubmit):H;function Oe(Ve){h_(Ve)&&Ve.preventDefault(),I(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function oe(Ve,ye){return T(typeof Ve=="function"&&!ye?Ve:ye,e.onInvalidSubmit)(Ve)}function xe(){return gt(l)}function Fe(){return gt(f.value)}function He(){return gt(s.value)}function le(){return{meta:f.value,errors:s.value,errorBag:u.value,values:l,isSubmitting:p.value,isValidating:g.value,submitCount:h.value,controlledValues:m.value,validate:y,validateField:_,handleSubmit:oe,handleReset:I,submitForm:H,setErrors:C,setFieldError:P,setFieldValue:L,setValues:X,setFieldTouched:U,setTouched:ue,resetForm:E,resetField:V,getValues:xe,getMeta:Fe,getErrors:He}}return t.expose({setFieldError:P,setErrors:C,setFieldValue:L,setValues:X,setFieldTouched:U,setTouched:ue,resetForm:E,validate:y,validateField:_,resetField:V,getValues:xe,getMeta:Fe,getErrors:He}),function(){const ye=e.as==="form"?e.as:wh(e.as),ht=p_(ye,t,le);if(!e.as)return ht;const Et=e.as==="form"?{novalidate:!0}:{};return Qo(ye,Object.assign(Object.assign(Object.assign({},Et),t.attrs),{onSubmit:k,onReset:Oe}),ht)}}}),D$=P$,L$=gc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=fr(ld,void 0),r=qe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?wh(e.as):e.as,u=p_(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u!=null&&u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?Qo(s||"span",l,r.value):Qo(s,l,u)}}}),Vx=L$,M$={name:"Song",components:{ErrorMessage:Vx},data(){return{song:{},schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please wait! Your comment is being submitted.",comments:[],sort:"1"}},computed:{..._c(La,["userLoggedIn"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}},async created(){const{sort:e}=this.$route.query;this.sort=e==="1"||e==="2"?e:"1";const t=await zr.doc(this.$route.params.id).get();if(!t.exists){this.$router.push({name:"home"});return}this.song=t.data(),this.getComments()},methods:{...Ah(ih,["newSong"]),async addComment(e,{resetForm:t}){this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait! Your comment is being submitted.";const n={content:e.comment,datePosted:new Date().toString(),sid:this.$route.params.id,uid:Gr.currentUser.uid,name:Gr.currentUser.displayName};n.formatDate=rh.formatDate(n.datePosted),await mT.add(n),this.song.comment_count+=1,await zr.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Comment added!",t(),setTimeout(()=>{this.comment_show_alert=!1},3e3)},async getComments(){const e=await mT.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})}}},F$={class:"w-full mb-8 py-14 text-center text-white relative"},V$=D("div",{class:"absolute inset-0 w-full h-full box-border bg-cover md:bg-contain music-bg md:bg-repeat-x",style:{"background-image":"url(assets/img/song-header.png)"}},null,-1),U$={class:"px-5 container mx-auto flex items-center"},j$={class:"z-10"},B$=D("i",{class:"fas fa-play"},null,-1),q$=[B$],$$={class:"z-40 text-left ml-4 md:ml-8"},H$={class:"text-xl md:text-3xl font-bold"},K$={class:"p-5 grid grid-cols-1 md:grid-cols-3 gap-0 md:gap-10 container mx-auto mt-6",id:"comments"},G$={class:"col-span-1"},z$=["src"],W$={class:"mt-8 md:mt-0 text-white relative flex flex-col col-span-2"},X$={class:"py-5 font-bold text-2xl items-center text-white flex flex-row-reverse justify-end"},Y$={class:"card-title"},Q$=D("i",{class:"fa fa-comments text-green-600 text-xl mr-2"},null,-1),J$={class:""},Z$={class:"w-full md:w-2/3"},eH=["dissabled"],tH={class:"block my-4 p-3 border border-gray-600 rounded"},nH=D("span",null,"Sort based on :",-1),rH={class:"container mx-auto"},iH={class:"mb-3 flex justify-between flex-col md:flex-row"},oH={class:"font-bold text-zinc-400 text-l"},sH=D("i",{class:"fa fa-user mr-1"},null,-1),aH={class:"text-white"};function uH(e,t,n,r,o,s){const u=It("vee-field"),l=It("ErrorMessage"),f=It("vee-form");return je(),Qe("main",null,[D("section",F$,[V$,D("div",U$,[D("div",j$,[D("button",{onClick:t[0]||(t[0]=Nt(p=>e.newSong(o.song),["prevent"])),type:"button",class:"z-40 h-16 w-16 text-xl md:h-24 md:w-24 md:text-3xl bg-white text-black rounded-full focus:outline-none"},q$)]),D("div",$$,[D("div",H$,Ft(o.song.modified_name),1),D("div",null,Ft(o.song.gener),1)])])]),D("section",K$,[D("div",G$,[D("img",{src:o.song.img_url,class:"w-full transition duration-700"},null,8,z$)]),D("div",W$,[D("div",X$,[D("span",Y$,"Comments ("+Ft(o.song.comment_count)+")",1),Q$]),D("div",J$,[o.comment_show_alert?(je(),Qe("div",{key:0,class:Ut(["text-white text-center font-bold rounded p-4 mb-4",o.comment_alert_variant])},Ft(o.comment_alert_message),3)):Yi("",!0),e.userLoggedIn?(je(),Wi(f,{key:1,"validation-schema":o.schema,onSubmit:s.addComment,class:"flex justify-between flex-col md:flex-row"},{default:fn(()=>[D("div",Z$,[Ae(u,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-2",placeholder:"Your comment here..."}),Ae(l,{class:"text-red-500 block",name:"comment"})]),D("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block h-12",dissabled:o.comment_in_submission},"Submit comment",8,eH)]),_:1},8,["validation-schema","onSubmit"])):Yi("",!0),D("div",tH,[nH,D("label",{for:"latest",class:Ut(["mx-5",{"text-violet-300":o.sort==="1"}])},"Latest",2),Hi(D("input",{class:"hidden",id:"latest",type:"radio",name:"sortDir",value:"1","onUpdate:modelValue":t[1]||(t[1]=p=>o.sort=p)},null,512),[[PI,o.sort]]),D("label",{for:"oldest",class:Ut({"text-violet-300":o.sort==="2"})},"oldest",2),Hi(D("input",{class:"hidden",id:"oldest",type:"radio",name:"sortDir",value:"2","onUpdate:modelValue":t[2]||(t[2]=p=>o.sort=p)},null,512),[[PI,o.sort]])]),D("ul",rH,[(je(!0),Qe(Yt,null,vc(s.sortedComments,p=>(je(),Qe("li",{class:"p-5 border-b border-gray-600 text-gray-500",key:p.docID},[D("div",iH,[D("div",oH,[sH,wn(" "+Ft(p.name),1)]),D("time",null,Ft(p.formatDate),1)]),D("p",aH,Ft(p.content),1)]))),128))])])])])])}const cH=nr(M$,[["render",uH]]),lH=[{name:"home",path:"/",component:H3},{name:"about",path:"/about",component:Y3},{name:"manage",path:"/manage-music",component:U4,beforeEnter:(e,t,n)=>{n()}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:cH},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],Ux=I3({history:Vq("/MusicLand/"),routes:lH,linkExactActiveClass:"text-violet-400",scrollBehavior(){window.scrollTo(0,0)}});Ux.beforeEach((e,t,n)=>{n()});/**
  * vee-validate v4.10.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const cf={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},fH=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Bc(e,t){return Array.isArray(e)?e[0]:e[t]}function so(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const jx=(e,t)=>{if(so(e))return!0;const n=fH(t);if(Array.isArray(e))return e.every(o=>jx(o,{locale:n}));const r=String(e);return n?(cf[n]||cf.en).test(r):Object.keys(cf).some(o=>cf[o].test(r))},hH=(e,t)=>{const n=Bc(t,"target");return String(e)===String(n)},dH=e=>{if(so(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function pH(e){return e==null}function mH(e){return Array.isArray(e)&&e.length===0}const Bx=(e,t)=>{if(so(e))return!0;const n=Bc(t,"length");return Array.isArray(e)?e.every(r=>Bx(r,{length:n})):[...String(e)].length<=Number(n)},qx=(e,t)=>{if(so(e))return!0;const n=Bc(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>qx(r,{max:n})):Number(e)<=Number(n)},$x=(e,t)=>{if(so(e))return!0;const n=Bc(t,"length");return Array.isArray(e)?e.every(r=>$x(r,{length:n})):[...String(e)].length>=Number(n)},Hx=(e,t)=>{if(so(e))return!0;const n=Bc(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>Hx(r,{min:n})):Number(e)>=Number(n)},Kx=(e,t)=>so(e)?!0:Array.isArray(e)?e.every(n=>Kx(n,t)):Array.from(t).some(n=>n==e),qT=(e,t)=>so(e)?!0:!Kx(e,t),$T=e=>pH(e)||mH(e)||e===!1?!1:!!String(e).trim().length,gH={install(e){e.component("VeeForm",D$),e.component("VeeField",x$),e.component("ErrorMessage",Vx),yr("required",$T),yr("tos",$T),yr("min",$x),yr("max",Bx),yr("alpha_spaces",jx),yr("email",dH),yr("min_value",Hx),yr("max_value",qx),yr("passwords_mismatch",hH),yr("excluded",qT),yr("country_excluded",qT),u$({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too long.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}},vH={beforeMount(e,t){const n=`fa fa-${t.value} text-green-600 text-xl mr-2`;e.innerHTML+=`<i class="${n}"></i>`}};let Ro;Gr.onAuthStateChanged(()=>{Ro||(Ro=mL(wq),Ro.use(yL()),Ro.use(Ux),Ro.use(gH),Ro.directive("icon",vH),Ro.mount("#app"))});
